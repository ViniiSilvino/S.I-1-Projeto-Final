2025-12-03 17:09:49,513 - INFO - 
================================================================================
2025-12-03 17:09:49,514 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 17:09:49,514 - INFO - ================================================================================
2025-12-03 17:09:49,514 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 17:09:49,514 - INFO - ============================================================
2025-12-03 17:09:49,514 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:09:49,514 - INFO - ============================================================
2025-12-03 17:09:49,515 - INFO - 
--- Carregando dados base ---
2025-12-03 17:09:49,617 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:09:49,629 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:09:49,836 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:09:49,854 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:09:49,973 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:09:49,977 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:09:49,979 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:09:49,986 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:09:49,987 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:09:53,085 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:09:53,085 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:09:53,579 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:09:53,580 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:09:53,580 - INFO - 
============================================================
2025-12-03 17:09:53,580 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:09:53,580 - INFO - ============================================================
2025-12-03 17:09:53,580 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:09:53,582 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:09:53,583 - INFO -   Shape: (67065, 17)
2025-12-03 17:09:53,590 - INFO -   Mem√≥ria: 11.64 MB
2025-12-03 17:09:53,594 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:09:53,628 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:09:53,629 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:09:53,629 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:09:53,662 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:09:53,662 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:09:53,704 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:09:53,705 - INFO - Calculando BMI...
2025-12-03 17:09:53,997 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:09:53,999 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:09:53,999 - INFO -   Shape: (64668, 28)
2025-12-03 17:09:54,108 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:09:54,135 - INFO -   Valores nulos:
2025-12-03 17:09:54,136 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:09:54,136 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:09:54,136 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:09:54,136 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:09:54,136 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:09:54,136 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:09:54,136 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:09:54,137 - INFO -     slug: 42 (0.1%)
2025-12-03 17:09:54,137 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:09:54,137 - INFO -     weight: 41 (0.1%)
2025-12-03 17:09:54,137 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:09:54,137 - INFO -     height: 41 (0.1%)
2025-12-03 17:09:54,137 - INFO -     age: 41 (0.1%)
2025-12-03 17:09:54,137 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:09:54,137 - INFO -     gender: 146 (0.2%)
2025-12-03 17:09:54,137 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:09:54,137 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:09:54,137 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:09:54,137 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:09:54,138 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:09:54,138 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:09:54,138 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:09:54,138 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:09:54,138 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:09:54,138 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:09:54,138 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:09:54,138 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:09:54,218 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:09:54,219 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:09:54,220 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:09:54,221 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:09:54,221 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:09:54,221 - INFO -   Shape: (6069, 24)
2025-12-03 17:09:54,224 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:09:54,226 - INFO -   Valores nulos:
2025-12-03 17:09:54,226 - INFO -     gf: 34 (0.6%)
2025-12-03 17:09:54,226 - INFO -     ga: 34 (0.6%)
2025-12-03 17:09:54,226 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:09:54,226 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:09:54,227 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:09:54,227 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:09:54,227 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:09:54,227 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:09:54,231 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:09:54,232 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:09:54,234 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:09:54,235 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:09:54,236 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:09:54,236 - INFO -   Shape: (101978, 35)
2025-12-03 17:09:54,246 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:09:54,255 - INFO -   Valores nulos:
2025-12-03 17:09:54,255 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:09:54,255 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:09:54,255 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:09:54,256 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:09:54,256 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:09:54,256 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:09:54,256 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:09:54,256 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:09:54,257 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:09:54,258 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:09:54,259 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:09:54,259 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:09:54,259 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:09:54,259 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:09:54,259 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:09:54,259 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:09:54,318 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:09:54,318 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:09:54,326 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:09:54,326 - INFO -   (11,227 partidas removidas)
2025-12-03 17:09:54,326 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:09:54,326 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:09:54,394 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:09:54,394 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 17:09:54,395 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 17:09:54,434 - INFO - 
============================================================
2025-12-03 17:09:54,435 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:09:54,435 - INFO - ============================================================
2025-12-03 17:09:54,435 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:09:54,435 - ERROR - Erro na cria√ß√£o do master DataFrame: 'result'
2025-12-03 17:09:54,436 - ERROR - 
‚ùå Erro no pipeline de treinamento: 'result'
2025-12-03 17:09:54,465 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    return self._engine.get_loc(casted_key)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "pandas/_libs/index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7096, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'result'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 403, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 38, in create_master_dataframe
    self._initialize_master_df()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 73, in _initialize_master_df
    self.master_df = self.fixtures[self.fixtures['result'].notna()].copy()
                                   ~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4113, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3819, in get_loc
    raise KeyError(key) from err
KeyError: 'result'

2025-12-03 17:12:29,288 - INFO - 
================================================================================
2025-12-03 17:12:29,288 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 17:12:29,288 - INFO - ================================================================================
2025-12-03 17:12:29,289 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 17:12:29,289 - INFO - ============================================================
2025-12-03 17:12:29,289 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:12:29,289 - INFO - ============================================================
2025-12-03 17:12:29,289 - INFO - 
--- Carregando dados base ---
2025-12-03 17:12:29,375 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:12:29,386 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:12:29,617 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:12:29,629 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:12:29,752 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:12:29,756 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:12:29,757 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:12:29,764 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:12:29,764 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:12:32,806 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:12:32,806 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:12:33,337 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:12:33,338 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:12:33,338 - INFO - 
============================================================
2025-12-03 17:12:33,338 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:12:33,338 - INFO - ============================================================
2025-12-03 17:12:33,338 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:12:33,339 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:12:33,339 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:12:33,340 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:12:33,855 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:12:33,856 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:12:33,856 - INFO -   Shape: (67065, 20)
2025-12-03 17:12:33,863 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:12:33,866 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:12:33,891 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:12:33,891 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:12:33,892 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:12:33,922 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:12:33,922 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:12:33,964 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:12:33,964 - INFO - Calculando BMI...
2025-12-03 17:12:34,246 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:12:34,249 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:12:34,249 - INFO -   Shape: (64668, 28)
2025-12-03 17:12:34,363 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:12:34,390 - INFO -   Valores nulos:
2025-12-03 17:12:34,391 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:12:34,391 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:12:34,392 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:12:34,392 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:12:34,392 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:12:34,392 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:12:34,392 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:12:34,392 - INFO -     slug: 42 (0.1%)
2025-12-03 17:12:34,392 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:12:34,393 - INFO -     weight: 41 (0.1%)
2025-12-03 17:12:34,393 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:12:34,393 - INFO -     height: 41 (0.1%)
2025-12-03 17:12:34,393 - INFO -     age: 41 (0.1%)
2025-12-03 17:12:34,393 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:12:34,393 - INFO -     gender: 146 (0.2%)
2025-12-03 17:12:34,393 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:12:34,393 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:12:34,393 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:12:34,393 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:12:34,393 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:12:34,393 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:12:34,394 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:12:34,394 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:12:34,394 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:12:34,394 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:12:34,394 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:12:34,394 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:12:34,470 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:12:34,471 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:12:34,473 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:12:34,473 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:12:34,473 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:12:34,474 - INFO -   Shape: (6069, 24)
2025-12-03 17:12:34,476 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:12:34,477 - INFO -   Valores nulos:
2025-12-03 17:12:34,478 - INFO -     gf: 34 (0.6%)
2025-12-03 17:12:34,478 - INFO -     ga: 34 (0.6%)
2025-12-03 17:12:34,478 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:12:34,478 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:12:34,478 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:12:34,478 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:12:34,478 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:12:34,479 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:12:34,482 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:12:34,482 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:12:34,484 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:12:34,485 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:12:34,485 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:12:34,485 - INFO -   Shape: (101978, 35)
2025-12-03 17:12:34,496 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:12:34,504 - INFO -   Valores nulos:
2025-12-03 17:12:34,504 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:12:34,504 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:12:34,505 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:12:34,506 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:12:34,507 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:12:34,507 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:12:34,507 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:12:34,562 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:12:34,562 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:12:34,581 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:12:34,581 - INFO -   (11,227 partidas removidas)
2025-12-03 17:12:34,581 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:12:34,581 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:12:34,653 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:12:34,653 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 17:12:34,654 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 17:12:34,691 - INFO - 
============================================================
2025-12-03 17:12:34,692 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:12:34,692 - INFO - ============================================================
2025-12-03 17:12:34,692 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:12:34,699 - ERROR - Erro na cria√ß√£o do master DataFrame: "['name'] not in index"
2025-12-03 17:12:34,699 - ERROR - 
‚ùå Erro no pipeline de treinamento: "['name'] not in index"
2025-12-03 17:12:34,705 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 403, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 38, in create_master_dataframe
    self._initialize_master_df()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 81, in _initialize_master_df
    self.leagues[['leagueId', 'name']].rename(columns={'name': 'league_name'}),
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4119, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['name'] not in index"

2025-12-03 17:14:07,336 - INFO - 
================================================================================
2025-12-03 17:14:07,336 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 17:14:07,337 - INFO - ================================================================================
2025-12-03 17:14:07,337 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 17:14:07,337 - INFO - ============================================================
2025-12-03 17:14:07,337 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:14:07,337 - INFO - ============================================================
2025-12-03 17:14:07,337 - INFO - 
--- Carregando dados base ---
2025-12-03 17:14:07,430 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:14:07,442 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:14:07,665 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:14:07,678 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:14:07,799 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:14:07,803 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:14:07,804 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:14:07,810 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:14:07,810 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:14:10,736 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:14:10,736 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:14:11,178 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:14:11,178 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:14:11,178 - INFO - 
============================================================
2025-12-03 17:14:11,178 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:14:11,178 - INFO - ============================================================
2025-12-03 17:14:11,179 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:14:11,179 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:14:11,179 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:14:11,179 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:14:11,673 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:14:11,673 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:14:11,673 - INFO -   Shape: (67065, 20)
2025-12-03 17:14:11,680 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:14:11,683 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:14:11,710 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:14:11,711 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:14:11,711 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:14:11,743 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:14:11,744 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:14:11,786 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:14:11,786 - INFO - Calculando BMI...
2025-12-03 17:14:12,079 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:14:12,080 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:14:12,080 - INFO -   Shape: (64668, 28)
2025-12-03 17:14:12,189 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:14:12,218 - INFO -   Valores nulos:
2025-12-03 17:14:12,219 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:14:12,219 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:14:12,219 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:14:12,219 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:14:12,219 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:14:12,219 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:14:12,220 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:14:12,220 - INFO -     slug: 42 (0.1%)
2025-12-03 17:14:12,220 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:14:12,220 - INFO -     weight: 41 (0.1%)
2025-12-03 17:14:12,220 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:14:12,220 - INFO -     height: 41 (0.1%)
2025-12-03 17:14:12,220 - INFO -     age: 41 (0.1%)
2025-12-03 17:14:12,221 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:14:12,221 - INFO -     gender: 146 (0.2%)
2025-12-03 17:14:12,221 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:14:12,221 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:14:12,221 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:14:12,222 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:14:12,222 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:14:12,222 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:14:12,222 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:14:12,222 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:14:12,222 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:14:12,222 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:14:12,222 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:14:12,223 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:14:12,309 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:14:12,309 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:14:12,311 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:14:12,312 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:14:12,312 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:14:12,312 - INFO -   Shape: (6069, 24)
2025-12-03 17:14:12,315 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:14:12,316 - INFO -   Valores nulos:
2025-12-03 17:14:12,317 - INFO -     gf: 34 (0.6%)
2025-12-03 17:14:12,317 - INFO -     ga: 34 (0.6%)
2025-12-03 17:14:12,317 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:14:12,317 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:14:12,317 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:14:12,318 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:14:12,318 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:14:12,318 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:14:12,321 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:14:12,321 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:14:12,323 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:14:12,324 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:14:12,324 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:14:12,324 - INFO -   Shape: (101978, 35)
2025-12-03 17:14:12,334 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:14:12,342 - INFO -   Valores nulos:
2025-12-03 17:14:12,343 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:14:12,343 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:14:12,344 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:14:12,345 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:14:12,346 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:14:12,346 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:14:12,346 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:14:12,346 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:14:12,346 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:14:12,346 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:14:12,346 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:14:12,400 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:14:12,401 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:14:12,416 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:14:12,416 - INFO -   (11,227 partidas removidas)
2025-12-03 17:14:12,416 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:14:12,417 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:14:12,465 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:14:12,465 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 17:14:12,466 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 17:14:12,499 - INFO - 
============================================================
2025-12-03 17:14:12,500 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:14:12,500 - INFO - ============================================================
2025-12-03 17:14:12,500 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:14:12,505 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 17:14:12,583 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 17:14:12,584 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 17:14:12,584 - INFO -   Distribui√ß√£o do target:
2025-12-03 17:14:12,585 - INFO -     Empate (0): 84,261
2025-12-03 17:14:12,585 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 17:14:12,586 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 17:14:12,586 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 17:14:13,207 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 17:14:13,208 - INFO - 
--- Adicionando features de performance ---
2025-12-03 17:14:31,688 - INFO - ‚úì Features de performance adicionadas
2025-12-03 17:14:31,695 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 17:14:58,802 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 17:14:58,826 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 17:15:47,358 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 17:15:47,642 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 17:15:48,063 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 17:15:48,064 - INFO - 
--- Limpando e validando ---
2025-12-03 17:16:10,018 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 17:16:10,189 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 17:16:10,189 - INFO -   Shape: (55838, 41)
2025-12-03 17:16:10,200 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 17:16:10,225 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:16:10,318 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:16:10,318 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 17:16:10,319 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 17:16:10,319 - INFO - Shape final: (55838, 41)
2025-12-03 17:16:10,319 - INFO - Features criadas: 32
2025-12-03 17:16:10,390 - INFO - ‚úì Features criadas: 41 colunas, 55,838 linhas
2025-12-03 17:16:10,390 - INFO - 
üîÑ ETAPA 3: Treinando modelo...
2025-12-03 17:16:10,392 - INFO - 
============================================================
2025-12-03 17:16:10,392 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 17:16:10,392 - INFO - ============================================================
2025-12-03 17:16:10,400 - INFO - Features utilizadas: 36
2025-12-03 17:16:10,400 - INFO - Total de amostras: 55,838
2025-12-03 17:16:10,400 - INFO - 
Distribui√ß√£o do target:
2025-12-03 17:16:10,402 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 17:16:10,402 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 17:16:10,402 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 17:16:10,460 - INFO - 
‚úì Dados divididos:
2025-12-03 17:16:10,460 - INFO -   Treino: 44,670 amostras
2025-12-03 17:16:10,460 - INFO -   Teste: 11,168 amostras
2025-12-03 17:16:10,492 - INFO - ‚úì Features normalizadas
2025-12-03 17:16:10,494 - INFO - 
--- Realizando valida√ß√£o cruzada ---
2025-12-03 17:16:18,429 - INFO - ‚úì Valida√ß√£o cruzada conclu√≠da:
2025-12-03 17:16:18,430 - INFO -   Scores: ['0.5331', '0.5302', '0.5331', '0.5308', '0.5306']
2025-12-03 17:16:18,430 - INFO -   M√©dia: 0.5316 (+/- 0.0013)
2025-12-03 17:16:18,430 - INFO - 
============================================================
2025-12-03 17:16:18,431 - INFO - TREINANDO MODELO XGBOOST
2025-12-03 17:16:18,431 - INFO - ============================================================
2025-12-03 17:16:18,431 - INFO - 
Par√¢metros do modelo:
2025-12-03 17:16:18,431 - INFO -   objective: multi:softmax
2025-12-03 17:16:18,431 - INFO -   num_class: 3
2025-12-03 17:16:18,431 - INFO -   max_depth: 6
2025-12-03 17:16:18,431 - INFO -   learning_rate: 0.1
2025-12-03 17:16:18,431 - INFO -   n_estimators: 200
2025-12-03 17:16:18,431 - INFO -   subsample: 0.8
2025-12-03 17:16:18,431 - INFO -   colsample_bytree: 0.8
2025-12-03 17:16:18,432 - INFO -   gamma: 0
2025-12-03 17:16:18,432 - INFO -   min_child_weight: 1
2025-12-03 17:16:18,432 - INFO -   random_state: 42
2025-12-03 17:16:18,432 - INFO -   eval_metric: mlogloss
2025-12-03 17:16:18,432 - INFO - 
Iniciando treinamento...
2025-12-03 17:16:20,458 - INFO - ‚úì Treinamento conclu√≠do!
2025-12-03 17:16:20,459 - INFO - 
============================================================
2025-12-03 17:16:20,459 - INFO - AVALIANDO MODELO
2025-12-03 17:16:20,459 - INFO - ============================================================
2025-12-03 17:16:20,529 - INFO - 
============================================================
2025-12-03 17:16:20,530 - INFO - M√âTRICAS - Teste
2025-12-03 17:16:20,530 - INFO - ============================================================
2025-12-03 17:16:20,530 - INFO - 
M√©tricas Gerais:
2025-12-03 17:16:20,530 - INFO -   accuracy: 0.5261
2025-12-03 17:16:20,530 - INFO -   precision_macro: 0.4765
2025-12-03 17:16:20,530 - INFO -   recall_macro: 0.4560
2025-12-03 17:16:20,530 - INFO -   f1_macro: 0.4402
2025-12-03 17:16:20,531 - INFO -   precision_weighted: 0.4952
2025-12-03 17:16:20,531 - INFO -   recall_weighted: 0.5261
2025-12-03 17:16:20,531 - INFO -   f1_weighted: 0.4875
2025-12-03 17:16:20,531 - INFO - 
M√©tricas por Classe:
2025-12-03 17:16:20,531 - INFO -   precision_Empate: 0.3688
2025-12-03 17:16:20,531 - INFO -   recall_Empate: 0.1292
2025-12-03 17:16:20,531 - INFO -   f1_Empate: 0.1914
2025-12-03 17:16:20,531 - INFO -   precision_Vit√≥ria Casa: 0.5558
2025-12-03 17:16:20,531 - INFO -   recall_Vit√≥ria Casa: 0.7835
2025-12-03 17:16:20,531 - INFO -   f1_Vit√≥ria Casa: 0.6503
2025-12-03 17:16:20,531 - INFO -   precision_Vit√≥ria Visitante: 0.5050
2025-12-03 17:16:20,532 - INFO -   recall_Vit√≥ria Visitante: 0.4554
2025-12-03 17:16:20,532 - INFO -   f1_Vit√≥ria Visitante: 0.4789
2025-12-03 17:16:20,534 - INFO - 
Matriz de Confus√£o:
2025-12-03 17:16:20,535 - INFO - 
[[ 350 1655  703]
 [ 307 3996  797]
 [ 292 1538 1530]]
2025-12-03 17:16:20,535 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 17:16:20,535 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 17:16:20,535 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 17:16:20,543 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.37      0.13      0.19      2708
     Vit√≥ria Casa       0.56      0.78      0.65      5100
Vit√≥ria Visitante       0.50      0.46      0.48      3360

         accuracy                           0.53     11168
        macro avg       0.48      0.46      0.44     11168
     weighted avg       0.50      0.53      0.49     11168

2025-12-03 17:16:20,547 - INFO - 
============================================================
2025-12-03 17:16:20,547 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 17:16:20,547 - INFO - ============================================================
2025-12-03 17:16:20,548 - INFO -   points_difference: 0.0978
2025-12-03 17:16:20,548 - INFO -   defense_difference: 0.0520
2025-12-03 17:16:20,548 - INFO -   away_recent_draws: 0.0461
2025-12-03 17:16:20,549 - INFO -   attack_difference: 0.0424
2025-12-03 17:16:20,549 - INFO -   home_recent_draws: 0.0351
2025-12-03 17:16:20,549 - INFO -   away_losses: 0.0303
2025-12-03 17:16:20,549 - INFO -   home_losses: 0.0277
2025-12-03 17:16:20,549 - INFO -   form_difference: 0.0275
2025-12-03 17:16:20,549 - INFO -   home_goal_difference: 0.0272
2025-12-03 17:16:20,550 - INFO -   away_points: 0.0263
2025-12-03 17:16:20,550 - INFO -   home_shot_accuracy: 0.0260
2025-12-03 17:16:20,550 - INFO -   home_goals_per_game: 0.0259
2025-12-03 17:16:20,550 - INFO -   home_pass_accuracy: 0.0257
2025-12-03 17:16:20,550 - INFO -   away_shot_accuracy: 0.0254
2025-12-03 17:16:20,550 - INFO -   home_possession_avg: 0.0253
2025-12-03 17:16:20,551 - INFO -   away_goals_per_game: 0.0247
2025-12-03 17:16:20,551 - INFO -   away_pass_accuracy: 0.0247
2025-12-03 17:16:20,551 - INFO -   home_wins: 0.0246
2025-12-03 17:16:20,551 - INFO -   away_wins: 0.0245
2025-12-03 17:16:20,551 - INFO -   away_possession_avg: 0.0241
2025-12-03 17:16:20,555 - INFO - 
--- Salvando modelo ---
2025-12-03 17:16:20,621 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 17:16:20,622 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 17:16:20,629 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 17:16:20,629 - INFO - 
============================================================
2025-12-03 17:16:20,629 - INFO - TREINAMENTO CONCLU√çDO COM SUCESSO!
2025-12-03 17:16:20,629 - INFO - ============================================================
2025-12-03 17:16:20,629 - INFO - ‚úì Modelo treinado com acur√°cia: 0.5261
2025-12-03 17:16:20,629 - INFO - 
================================================================================
2025-12-03 17:16:20,630 - INFO -                              TREINAMENTO CONCLU√çDO                              
2025-12-03 17:16:20,630 - INFO - ================================================================================
2025-12-03 17:16:20,630 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 17:16:20,630 - INFO - ‚è±Ô∏è  Tempo total: 2m 13s
2025-12-03 17:16:20,630 - INFO - üìä Acur√°cia final: 52.61%
2025-12-03 17:16:20,630 - INFO - üìÅ Modelo salvo em: models/
2025-12-03 17:21:18,360 - INFO - 
================================================================================
2025-12-03 17:21:18,361 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 17:21:18,361 - INFO - ================================================================================
2025-12-03 17:21:18,361 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 17:21:18,361 - INFO - ============================================================
2025-12-03 17:21:18,361 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:21:18,361 - INFO - ============================================================
2025-12-03 17:21:18,362 - INFO - 
--- Carregando dados base ---
2025-12-03 17:21:18,456 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:21:18,467 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:21:18,695 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:21:18,708 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:21:18,828 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:21:18,832 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:21:18,833 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:21:18,840 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:21:18,840 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:21:21,930 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:21:21,930 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:21:22,484 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:21:22,484 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:21:22,485 - INFO - 
============================================================
2025-12-03 17:21:22,485 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:21:22,485 - INFO - ============================================================
2025-12-03 17:21:22,485 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:21:22,485 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:21:22,486 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:21:22,486 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:21:23,001 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:21:23,001 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:21:23,001 - INFO -   Shape: (67065, 20)
2025-12-03 17:21:23,008 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:21:23,011 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:21:23,036 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:21:23,036 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:21:23,036 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:21:23,069 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:21:23,070 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:21:23,112 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:21:23,112 - INFO - Calculando BMI...
2025-12-03 17:21:23,408 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:21:23,409 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:21:23,409 - INFO -   Shape: (64668, 28)
2025-12-03 17:21:23,521 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:21:23,549 - INFO -   Valores nulos:
2025-12-03 17:21:23,549 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:21:23,549 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:21:23,549 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:21:23,549 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:21:23,550 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:21:23,550 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:21:23,550 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:21:23,550 - INFO -     slug: 42 (0.1%)
2025-12-03 17:21:23,550 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:21:23,550 - INFO -     weight: 41 (0.1%)
2025-12-03 17:21:23,550 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:21:23,550 - INFO -     height: 41 (0.1%)
2025-12-03 17:21:23,550 - INFO -     age: 41 (0.1%)
2025-12-03 17:21:23,550 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:21:23,551 - INFO -     gender: 146 (0.2%)
2025-12-03 17:21:23,551 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:21:23,551 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:21:23,551 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:21:23,551 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:21:23,551 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:21:23,551 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:21:23,551 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:21:23,551 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:21:23,551 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:21:23,552 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:21:23,552 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:21:23,552 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:21:23,627 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:21:23,627 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:21:23,628 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:21:23,629 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:21:23,629 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:21:23,629 - INFO -   Shape: (6069, 24)
2025-12-03 17:21:23,632 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:21:23,633 - INFO -   Valores nulos:
2025-12-03 17:21:23,633 - INFO -     gf: 34 (0.6%)
2025-12-03 17:21:23,634 - INFO -     ga: 34 (0.6%)
2025-12-03 17:21:23,634 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:21:23,634 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:21:23,634 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:21:23,634 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:21:23,635 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:21:23,635 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:21:23,638 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:21:23,639 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:21:23,641 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:21:23,642 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:21:23,642 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:21:23,643 - INFO -   Shape: (101978, 35)
2025-12-03 17:21:23,653 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:21:23,661 - INFO -   Valores nulos:
2025-12-03 17:21:23,662 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:21:23,662 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:21:23,663 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:21:23,664 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:21:23,664 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:21:23,664 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:21:23,664 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:21:23,664 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:21:23,664 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:21:23,664 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:21:23,717 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:21:23,718 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:21:23,731 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:21:23,732 - INFO -   (11,227 partidas removidas)
2025-12-03 17:21:23,732 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:21:23,732 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:21:23,782 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:21:23,783 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 17:21:23,783 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 17:21:23,813 - INFO - 
============================================================
2025-12-03 17:21:23,813 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:21:23,814 - INFO - ============================================================
2025-12-03 17:21:23,814 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:21:23,819 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 17:21:23,895 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 17:21:23,895 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 17:21:23,896 - INFO -   Distribui√ß√£o do target:
2025-12-03 17:21:23,897 - INFO -     Empate (0): 84,261
2025-12-03 17:21:23,897 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 17:21:23,898 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 17:21:23,898 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 17:21:24,414 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 17:21:24,415 - INFO - 
--- Adicionando features de performance ---
2025-12-03 17:21:49,619 - INFO - ‚úì Features de performance adicionadas
2025-12-03 17:21:49,624 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 17:22:28,578 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 17:22:28,583 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 17:23:15,967 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 17:23:16,165 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 17:23:16,512 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 17:23:16,513 - INFO - 
--- Limpando e validando ---
2025-12-03 17:23:40,724 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 17:23:40,936 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 17:23:40,936 - INFO -   Shape: (55838, 41)
2025-12-03 17:23:40,945 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 17:23:40,951 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:23:41,064 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:23:41,064 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 17:23:41,065 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 17:23:41,065 - INFO - Shape final: (55838, 41)
2025-12-03 17:23:41,065 - INFO - Features criadas: 32
2025-12-03 17:23:41,254 - INFO - ‚úì Features criadas: 41 colunas, 55,838 linhas
2025-12-03 17:23:41,254 - INFO - 
üîÑ ETAPA 3: Treinando modelo...
2025-12-03 17:23:41,257 - INFO - 
============================================================
2025-12-03 17:23:41,257 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 17:23:41,257 - INFO - ============================================================
2025-12-03 17:23:41,266 - INFO - Features utilizadas: 36
2025-12-03 17:23:41,266 - INFO - Total de amostras: 55,838
2025-12-03 17:23:41,266 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 17:23:41,267 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 17:23:41,268 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 17:23:41,268 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 17:23:41,349 - INFO - 
‚úì Dados divididos:
2025-12-03 17:23:41,349 - INFO -   Treino: 44,670 amostras
2025-12-03 17:23:41,349 - INFO -   Teste: 11,168 amostras
2025-12-03 17:23:41,349 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 17:23:41,350 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 17:23:46,338 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 17:23:46,339 - INFO -   Antes: 44,670 amostras
2025-12-03 17:23:46,339 - INFO -   Depois: 44,871 amostras
2025-12-03 17:23:46,339 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 17:23:46,340 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 17:23:46,340 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 17:23:46,341 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 17:23:46,369 - INFO - ‚úì Features normalizadas
2025-12-03 17:23:46,374 - INFO - 
--- Realizando valida√ß√£o cruzada ---
2025-12-03 17:23:55,568 - INFO - ‚úì Valida√ß√£o cruzada conclu√≠da:
2025-12-03 17:23:55,568 - INFO -   Scores (F1-Macro): ['0.4596', '0.4615', '0.4587', '0.5217', '0.5717']
2025-12-03 17:23:55,569 - INFO -   M√©dia: 0.4946 (+/- 0.0454)
2025-12-03 17:23:55,569 - INFO - 
============================================================
2025-12-03 17:23:55,569 - INFO - TREINANDO MODELO XGBOOST
2025-12-03 17:23:55,569 - INFO - ============================================================
2025-12-03 17:23:55,569 - INFO - 
Par√¢metros OTIMIZADOS do modelo:
2025-12-03 17:23:55,569 - INFO -   objective: multi:softmax
2025-12-03 17:23:55,570 - INFO -   num_class: 3
2025-12-03 17:23:55,570 - INFO -   max_depth: 7
2025-12-03 17:23:55,570 - INFO -   learning_rate: 0.05
2025-12-03 17:23:55,570 - INFO -   n_estimators: 300
2025-12-03 17:23:55,570 - INFO -   subsample: 0.8
2025-12-03 17:23:55,570 - INFO -   colsample_bytree: 0.8
2025-12-03 17:23:55,570 - INFO -   gamma: 0.1
2025-12-03 17:23:55,570 - INFO -   min_child_weight: 3
2025-12-03 17:23:55,571 - INFO -   random_state: 42
2025-12-03 17:23:55,571 - INFO -   eval_metric: mlogloss
2025-12-03 17:23:55,571 - INFO -   reg_alpha: 0.1
2025-12-03 17:23:55,571 - INFO -   reg_lambda: 1.0
2025-12-03 17:23:55,571 - INFO -   scale_pos_weight: 1.0
2025-12-03 17:23:55,571 - INFO - 
Iniciando treinamento...
2025-12-03 17:23:59,158 - INFO - ‚úì Treinamento conclu√≠do!
2025-12-03 17:23:59,158 - INFO - 
============================================================
2025-12-03 17:23:59,159 - INFO - AVALIANDO MODELO
2025-12-03 17:23:59,159 - INFO - ============================================================
2025-12-03 17:23:59,246 - INFO - 
============================================================
2025-12-03 17:23:59,246 - INFO - M√âTRICAS - Teste
2025-12-03 17:23:59,246 - INFO - ============================================================
2025-12-03 17:23:59,247 - INFO - 
M√©tricas Gerais:
2025-12-03 17:23:59,247 - INFO -   accuracy: 0.5163
2025-12-03 17:23:59,247 - INFO -   precision_macro: 0.4779
2025-12-03 17:23:59,247 - INFO -   recall_macro: 0.4762
2025-12-03 17:23:59,247 - INFO -   f1_macro: 0.4741
2025-12-03 17:23:59,247 - INFO -   precision_weighted: 0.5030
2025-12-03 17:23:59,247 - INFO -   recall_weighted: 0.5163
2025-12-03 17:23:59,247 - INFO -   f1_weighted: 0.5072
2025-12-03 17:23:59,247 - INFO - 
M√©tricas por Classe:
2025-12-03 17:23:59,247 - INFO -   precision_Empate: 0.3544
2025-12-03 17:23:59,247 - INFO -   recall_Empate: 0.2626
2025-12-03 17:23:59,248 - INFO -   f1_Empate: 0.3017
2025-12-03 17:23:59,248 - INFO -   precision_Vit√≥ria Casa: 0.5930
2025-12-03 17:23:59,248 - INFO -   recall_Vit√≥ria Casa: 0.6537
2025-12-03 17:23:59,248 - INFO -   f1_Vit√≥ria Casa: 0.6219
2025-12-03 17:23:59,248 - INFO -   precision_Vit√≥ria Visitante: 0.4862
2025-12-03 17:23:59,248 - INFO -   recall_Vit√≥ria Visitante: 0.5122
2025-12-03 17:23:59,248 - INFO -   f1_Vit√≥ria Visitante: 0.4988
2025-12-03 17:23:59,250 - INFO - 
Matriz de Confus√£o:
2025-12-03 17:23:59,251 - INFO - 
[[ 711 1201  796]
 [ 743 3334 1023]
 [ 552 1087 1721]]
2025-12-03 17:23:59,251 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 17:23:59,251 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 17:23:59,251 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 17:23:59,259 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.35      0.26      0.30      2708
     Vit√≥ria Casa       0.59      0.65      0.62      5100
Vit√≥ria Visitante       0.49      0.51      0.50      3360

         accuracy                           0.52     11168
        macro avg       0.48      0.48      0.47     11168
     weighted avg       0.50      0.52      0.51     11168

2025-12-03 17:23:59,263 - INFO - 
============================================================
2025-12-03 17:23:59,263 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 17:23:59,264 - INFO - ============================================================
2025-12-03 17:23:59,264 - INFO -   home_recent_draws: 0.0894
2025-12-03 17:23:59,264 - INFO -   points_difference: 0.0785
2025-12-03 17:23:59,265 - INFO -   away_recent_draws: 0.0750
2025-12-03 17:23:59,265 - INFO -   defense_difference: 0.0401
2025-12-03 17:23:59,265 - INFO -   away_recent_losses: 0.0365
2025-12-03 17:23:59,265 - INFO -   attack_difference: 0.0339
2025-12-03 17:23:59,265 - INFO -   away_losses: 0.0261
2025-12-03 17:23:59,266 - INFO -   form_difference: 0.0257
2025-12-03 17:23:59,266 - INFO -   home_recent_losses: 0.0255
2025-12-03 17:23:59,266 - INFO -   home_losses: 0.0248
2025-12-03 17:23:59,266 - INFO -   home_recent_wins: 0.0246
2025-12-03 17:23:59,266 - INFO -   home_goals_per_game: 0.0236
2025-12-03 17:23:59,266 - INFO -   away_goals_per_game: 0.0228
2025-12-03 17:23:59,267 - INFO -   home_goal_difference: 0.0227
2025-12-03 17:23:59,267 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 17:23:59,267 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 17:23:59,267 - INFO -   home_wins: 0.0224
2025-12-03 17:23:59,267 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 17:23:59,267 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 17:23:59,267 - INFO -   away_points: 0.0220
2025-12-03 17:23:59,268 - INFO - 
============================================================
2025-12-03 17:23:59,268 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 17:23:59,268 - INFO - ============================================================
2025-12-03 17:23:59,269 - INFO - 
De 2708 empates reais:
2025-12-03 17:23:59,269 - INFO -   ‚úì Acertou: 711 (26.3%)
2025-12-03 17:23:59,269 - INFO -   ‚úó Previu V. Casa: 1201 (44.4%)
2025-12-03 17:23:59,269 - INFO -   ‚úó Previu V. Visitante: 796 (29.4%)
2025-12-03 17:23:59,269 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 17:23:59,269 - INFO -   P(Empate): 0.313
2025-12-03 17:23:59,269 - INFO -   P(V. Casa): 0.369
2025-12-03 17:23:59,270 - INFO -   P(V. Visitante): 0.319
2025-12-03 17:23:59,276 - INFO - 
--- Salvando modelo ---
2025-12-03 17:23:59,426 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 17:23:59,427 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 17:23:59,428 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 17:23:59,428 - INFO - 
============================================================
2025-12-03 17:23:59,428 - INFO - TREINAMENTO CONCLU√çDO COM SUCESSO!
2025-12-03 17:23:59,429 - INFO - ============================================================
2025-12-03 17:23:59,429 - INFO - 
üìä M√©tricas Finais:
2025-12-03 17:23:59,429 - INFO -   Acur√°cia: 51.63%
2025-12-03 17:23:59,429 - INFO -   F1-Macro: 0.4741
2025-12-03 17:23:59,429 - INFO -   F1-Empate: 0.3017
2025-12-03 17:23:59,429 - INFO -   Recall-Empate: 26.26%
2025-12-03 17:23:59,429 - INFO - ‚úì Modelo treinado com acur√°cia: 0.5163
2025-12-03 17:23:59,429 - INFO - 
================================================================================
2025-12-03 17:23:59,429 - INFO -                              TREINAMENTO CONCLU√çDO                              
2025-12-03 17:23:59,429 - INFO - ================================================================================
2025-12-03 17:23:59,429 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 17:23:59,430 - INFO - ‚è±Ô∏è  Tempo total: 2m 41s
2025-12-03 17:23:59,430 - INFO - üìä Acur√°cia final: 51.63%
2025-12-03 17:23:59,430 - INFO - üìÅ Modelo salvo em: models/
2025-12-03 17:28:26,530 - INFO - 
================================================================================
2025-12-03 17:28:26,530 - INFO -                              PIPELINE DE OTIMIZA√á√ÉO                             
2025-12-03 17:28:26,530 - INFO - ================================================================================
2025-12-03 17:28:26,530 - INFO - 
üîÑ Carregando dados...
2025-12-03 17:28:26,530 - INFO - ============================================================
2025-12-03 17:28:26,530 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:28:26,530 - INFO - ============================================================
2025-12-03 17:28:26,530 - INFO - 
--- Carregando dados base ---
2025-12-03 17:28:26,619 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:28:26,630 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:28:26,838 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:28:26,850 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:28:26,966 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:28:26,970 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:28:26,972 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:28:26,978 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:28:26,978 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:28:29,832 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:28:29,832 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:28:30,324 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:28:30,324 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:28:30,324 - INFO - 
============================================================
2025-12-03 17:28:30,324 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:28:30,325 - INFO - ============================================================
2025-12-03 17:28:30,325 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:28:30,325 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:28:30,325 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:28:30,325 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:28:30,823 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:28:30,823 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:28:30,823 - INFO -   Shape: (67065, 20)
2025-12-03 17:28:30,830 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:28:30,834 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:28:30,862 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:28:30,863 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:28:30,863 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:28:30,895 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:28:30,895 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:28:30,938 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:28:30,938 - INFO - Calculando BMI...
2025-12-03 17:28:31,219 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:28:31,220 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:28:31,220 - INFO -   Shape: (64668, 28)
2025-12-03 17:28:31,330 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:28:31,359 - INFO -   Valores nulos:
2025-12-03 17:28:31,360 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:28:31,360 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:28:31,360 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:28:31,360 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:28:31,360 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:28:31,360 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:28:31,361 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:28:31,361 - INFO -     slug: 42 (0.1%)
2025-12-03 17:28:31,361 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:28:31,361 - INFO -     weight: 41 (0.1%)
2025-12-03 17:28:31,361 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:28:31,361 - INFO -     height: 41 (0.1%)
2025-12-03 17:28:31,361 - INFO -     age: 41 (0.1%)
2025-12-03 17:28:31,361 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:28:31,361 - INFO -     gender: 146 (0.2%)
2025-12-03 17:28:31,361 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:28:31,362 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:28:31,362 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:28:31,362 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:28:31,362 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:28:31,362 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:28:31,362 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:28:31,362 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:28:31,362 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:28:31,362 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:28:31,362 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:28:31,362 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:28:31,443 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:28:31,444 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:28:31,445 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:28:31,446 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:28:31,446 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:28:31,446 - INFO -   Shape: (6069, 24)
2025-12-03 17:28:31,449 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:28:31,450 - INFO -   Valores nulos:
2025-12-03 17:28:31,450 - INFO -     gf: 34 (0.6%)
2025-12-03 17:28:31,450 - INFO -     ga: 34 (0.6%)
2025-12-03 17:28:31,450 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:28:31,451 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:28:31,451 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:28:31,451 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:28:31,451 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:28:31,451 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:28:31,454 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:28:31,455 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:28:31,456 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:28:31,458 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:28:31,458 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:28:31,458 - INFO -   Shape: (101978, 35)
2025-12-03 17:28:31,471 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:28:31,478 - INFO -   Valores nulos:
2025-12-03 17:28:31,478 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:28:31,478 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:28:31,479 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:28:31,480 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:28:31,481 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:28:31,481 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:28:31,481 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:28:31,533 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:28:31,533 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:28:31,547 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:28:31,547 - INFO -   (11,227 partidas removidas)
2025-12-03 17:28:31,547 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:28:31,547 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:28:31,596 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:28:31,628 - INFO - 
============================================================
2025-12-03 17:28:31,628 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:28:31,629 - INFO - ============================================================
2025-12-03 17:28:31,629 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:28:31,633 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 17:28:31,708 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 17:28:31,708 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 17:28:31,708 - INFO -   Distribui√ß√£o do target:
2025-12-03 17:28:31,709 - INFO -     Empate (0): 84,261
2025-12-03 17:28:31,710 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 17:28:31,711 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 17:28:31,711 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 17:28:32,253 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 17:28:32,254 - INFO - 
--- Adicionando features de performance ---
2025-12-03 17:28:57,765 - INFO - ‚úì Features de performance adicionadas
2025-12-03 17:28:57,772 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 17:29:31,163 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 17:29:31,186 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 17:30:20,600 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 17:30:20,858 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 17:30:21,230 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 17:30:21,231 - INFO - 
--- Limpando e validando ---
2025-12-03 17:30:42,705 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 17:30:42,868 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 17:30:42,873 - INFO -   Shape: (55838, 41)
2025-12-03 17:30:42,883 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 17:30:42,889 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:30:42,942 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:30:42,942 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 17:30:42,943 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 17:30:42,943 - INFO - Shape final: (55838, 41)
2025-12-03 17:30:42,943 - INFO - Features criadas: 32
2025-12-03 17:30:43,232 - INFO - 
============================================================
2025-12-03 17:30:43,232 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 17:30:43,232 - INFO - ============================================================
2025-12-03 17:30:43,241 - INFO - Features utilizadas: 36
2025-12-03 17:30:43,241 - INFO - Total de amostras: 55,838
2025-12-03 17:30:43,241 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 17:30:43,242 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 17:30:43,243 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 17:30:43,243 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 17:30:43,320 - INFO - 
‚úì Dados divididos:
2025-12-03 17:30:43,321 - INFO -   Treino: 44,670 amostras
2025-12-03 17:30:43,321 - INFO -   Teste: 11,168 amostras
2025-12-03 17:30:43,322 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 17:30:43,322 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 17:30:47,766 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 17:30:47,766 - INFO -   Antes: 44,670 amostras
2025-12-03 17:30:47,766 - INFO -   Depois: 44,871 amostras
2025-12-03 17:30:47,766 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 17:30:47,767 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 17:30:47,767 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 17:30:47,767 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 17:30:47,815 - INFO - ‚úì Features normalizadas
2025-12-03 17:30:47,820 - INFO - 
üîÑ Iniciando otimiza√ß√£o...
2025-12-03 17:30:48,556 - INFO - 
============================================================
2025-12-03 17:30:48,556 - INFO - INICIANDO OTIMIZA√á√ÉO DE HIPERPAR√ÇMETROS
2025-12-03 17:30:48,556 - INFO - ============================================================
2025-12-03 17:30:48,556 - INFO - 
üìä Configura√ß√£o:
2025-12-03 17:30:48,557 - INFO -   Trials: 30
2025-12-03 17:30:48,557 - INFO -   CV Folds: 5
2025-12-03 17:30:48,557 - INFO -   Timeout: Sem limite
2025-12-03 17:30:48,557 - INFO -   M√©trica: F1-Score Macro
2025-12-03 17:30:48,557 - INFO - 
üîç Espa√ßo de busca:
2025-12-03 17:30:48,557 - INFO -   max_depth: [4, 10]
2025-12-03 17:30:48,557 - INFO -   learning_rate: [0.01, 0.3]
2025-12-03 17:30:48,557 - INFO -   n_estimators: [100, 500]
2025-12-03 17:30:48,557 - INFO -   min_child_weight: [1, 10]
2025-12-03 17:30:48,557 - INFO -   gamma: [0, 0.5]
2025-12-03 17:30:48,557 - INFO -   subsample: [0.6, 1.0]
2025-12-03 17:30:48,557 - INFO -   colsample_bytree: [0.6, 1.0]
2025-12-03 17:30:48,558 - INFO -   reg_alpha: [0, 1.0]
2025-12-03 17:30:48,558 - INFO -   reg_lambda: [0, 2.0]
2025-12-03 17:30:48,559 - INFO - 
‚öôÔ∏è  Iniciando otimiza√ß√£o...

2025-12-03 17:31:01,493 - INFO - 
üîÑ Trial 1/30
2025-12-03 17:31:01,493 - INFO -   F1-Score: 0.4914
2025-12-03 17:31:01,494 - INFO -   Melhor at√© agora: 0.4914
2025-12-03 17:31:23,683 - INFO - 
üîÑ Trial 2/30
2025-12-03 17:31:23,683 - INFO -   F1-Score: 0.4963
2025-12-03 17:31:23,683 - INFO -   Melhor at√© agora: 0.4963
2025-12-03 17:31:38,764 - INFO - 
üîÑ Trial 3/30
2025-12-03 17:31:38,764 - INFO -   F1-Score: 0.4974
2025-12-03 17:31:38,764 - INFO -   Melhor at√© agora: 0.4974
2025-12-03 17:31:44,158 - INFO - 
üîÑ Trial 4/30
2025-12-03 17:31:44,158 - INFO -   F1-Score: 0.4968
2025-12-03 17:31:44,158 - INFO -   Melhor at√© agora: 0.4974
2025-12-03 17:31:55,580 - INFO - 
üîÑ Trial 5/30
2025-12-03 17:31:55,580 - INFO -   F1-Score: 0.4883
2025-12-03 17:31:55,580 - INFO -   Melhor at√© agora: 0.4974
2025-12-03 17:32:09,648 - INFO - 
üîÑ Trial 6/30
2025-12-03 17:32:09,648 - INFO -   F1-Score: 0.4997
2025-12-03 17:32:09,648 - INFO -   Melhor at√© agora: 0.4997
2025-12-03 17:32:14,570 - INFO - 
üîÑ Trial 7/30
2025-12-03 17:32:14,570 - INFO -   F1-Score: 0.5003
2025-12-03 17:32:14,571 - INFO -   Melhor at√© agora: 0.5003
2025-12-03 17:32:23,983 - INFO - 
üîÑ Trial 8/30
2025-12-03 17:32:23,984 - INFO -   F1-Score: 0.4935
2025-12-03 17:32:23,984 - INFO -   Melhor at√© agora: 0.5003
2025-12-03 17:32:30,959 - INFO - 
üîÑ Trial 9/30
2025-12-03 17:32:30,959 - INFO -   F1-Score: 0.4902
2025-12-03 17:32:30,959 - INFO -   Melhor at√© agora: 0.5003
2025-12-03 17:32:36,673 - INFO - 
üîÑ Trial 10/30
2025-12-03 17:32:36,673 - INFO -   F1-Score: 0.4877
2025-12-03 17:32:36,674 - INFO -   Melhor at√© agora: 0.5003
2025-12-03 17:32:53,916 - INFO - 
üîÑ Trial 11/30
2025-12-03 17:32:53,917 - INFO -   F1-Score: 0.5044
2025-12-03 17:32:53,917 - INFO -   Melhor at√© agora: 0.5044
2025-12-03 17:33:11,015 - INFO - 
üîÑ Trial 12/30
2025-12-03 17:33:11,015 - INFO -   F1-Score: 0.5101
2025-12-03 17:33:11,016 - INFO -   Melhor at√© agora: 0.5101
2025-12-03 17:33:28,872 - INFO - 
üîÑ Trial 13/30
2025-12-03 17:33:28,873 - INFO -   F1-Score: 0.5086
2025-12-03 17:33:28,873 - INFO -   Melhor at√© agora: 0.5101
2025-12-03 17:33:44,300 - INFO - 
üîÑ Trial 14/30
2025-12-03 17:33:44,300 - INFO -   F1-Score: 0.5106
2025-12-03 17:33:44,301 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:33:59,678 - INFO - 
üîÑ Trial 15/30
2025-12-03 17:33:59,678 - INFO -   F1-Score: 0.5084
2025-12-03 17:33:59,679 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:34:11,631 - INFO - 
üîÑ Trial 16/30
2025-12-03 17:34:11,631 - INFO -   F1-Score: 0.5044
2025-12-03 17:34:11,631 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:34:19,822 - INFO - 
üîÑ Trial 17/30
2025-12-03 17:34:19,822 - INFO -   F1-Score: 0.5009
2025-12-03 17:34:19,822 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:34:36,083 - INFO - 
üîÑ Trial 18/30
2025-12-03 17:34:36,083 - INFO -   F1-Score: 0.5068
2025-12-03 17:34:36,083 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:34:38,868 - INFO - 
üîÑ Trial 19/30
2025-12-03 17:34:38,869 - INFO -   F1-Score: 0.4858
2025-12-03 17:34:38,869 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:34:53,783 - INFO - 
üîÑ Trial 20/30
2025-12-03 17:34:53,783 - INFO -   F1-Score: 0.5074
2025-12-03 17:34:53,783 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:35:06,053 - INFO - 
üîÑ Trial 21/30
2025-12-03 17:35:06,054 - INFO -   F1-Score: 0.4967
2025-12-03 17:35:06,054 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:35:23,187 - INFO - 
üîÑ Trial 22/30
2025-12-03 17:35:23,188 - INFO -   F1-Score: 0.5095
2025-12-03 17:35:23,188 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:35:37,261 - INFO - 
üîÑ Trial 23/30
2025-12-03 17:35:37,261 - INFO -   F1-Score: 0.5084
2025-12-03 17:35:37,262 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:35:54,426 - INFO - 
üîÑ Trial 24/30
2025-12-03 17:35:54,426 - INFO -   F1-Score: 0.5051
2025-12-03 17:35:54,426 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:36:08,356 - INFO - 
üîÑ Trial 25/30
2025-12-03 17:36:08,356 - INFO -   F1-Score: 0.5082
2025-12-03 17:36:08,357 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:36:18,770 - INFO - 
üîÑ Trial 26/30
2025-12-03 17:36:18,770 - INFO -   F1-Score: 0.5054
2025-12-03 17:36:18,770 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:36:37,772 - INFO - 
üîÑ Trial 27/30
2025-12-03 17:36:37,772 - INFO -   F1-Score: 0.5066
2025-12-03 17:36:37,772 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:36:45,390 - INFO - 
üîÑ Trial 28/30
2025-12-03 17:36:45,390 - INFO -   F1-Score: 0.4927
2025-12-03 17:36:45,391 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:36:55,671 - INFO - 
üîÑ Trial 29/30
2025-12-03 17:36:55,671 - INFO -   F1-Score: 0.5011
2025-12-03 17:36:55,671 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:37:04,982 - INFO - 
üîÑ Trial 30/30
2025-12-03 17:37:04,982 - INFO -   F1-Score: 0.4972
2025-12-03 17:37:04,982 - INFO -   Melhor at√© agora: 0.5106
2025-12-03 17:37:04,984 - INFO - 
============================================================
2025-12-03 17:37:04,984 - INFO - OTIMIZA√á√ÉO CONCLU√çDA
2025-12-03 17:37:04,984 - INFO - ============================================================
2025-12-03 17:37:04,984 - INFO - 
‚úÖ Melhor F1-Score: 0.5106
2025-12-03 17:37:04,985 - INFO - 
üéØ Melhores Hiperpar√¢metros:
2025-12-03 17:37:04,985 - INFO -   max_depth: 10
2025-12-03 17:37:04,985 - INFO -   learning_rate: 0.05748699526284608
2025-12-03 17:37:04,985 - INFO -   n_estimators: 200
2025-12-03 17:37:04,985 - INFO -   min_child_weight: 4
2025-12-03 17:37:04,986 - INFO -   gamma: 0.27330997247428546
2025-12-03 17:37:04,986 - INFO -   subsample: 0.8818229714016623
2025-12-03 17:37:04,986 - INFO -   colsample_bytree: 0.822196762065712
2025-12-03 17:37:04,986 - INFO -   reg_alpha: 0.5911429522235765
2025-12-03 17:37:04,986 - INFO -   reg_lambda: 0.7969249499651729
2025-12-03 17:37:04,993 - INFO - 
üíæ Resultados salvos em: models/optuna_results.json
2025-12-03 17:37:07,341 - INFO - üìä Gr√°fico de otimiza√ß√£o salvo em: models/optimization_history.png
2025-12-03 17:37:07,683 - INFO - üìä Import√¢ncia dos par√¢metros salva em: models/param_importances.png
2025-12-03 17:37:07,693 - INFO - 
üîÑ Treinando modelo final com melhores par√¢metros...
2025-12-03 17:37:12,665 - INFO - 
--- Salvando modelo ---
2025-12-03 17:37:12,946 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 17:37:12,947 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 17:37:12,947 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 17:37:12,948 - INFO - 
================================================================================
2025-12-03 17:37:12,948 - INFO -                               OTIMIZA√á√ÉO CONCLU√çDA                              
2025-12-03 17:37:12,948 - INFO - ================================================================================
2025-12-03 17:37:12,948 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 17:37:12,948 - INFO - ‚è±Ô∏è  Tempo total: 8m 46s
2025-12-03 17:37:12,948 - INFO - üìä Acur√°cia: 50.01%
2025-12-03 17:37:12,948 - INFO - üìä F1-Macro: 0.4586
2025-12-03 17:37:12,948 - INFO - üíæ Modelo otimizado salvo em: models/
2025-12-03 17:43:26,025 - INFO - 
================================================================================
2025-12-03 17:43:26,025 - INFO -                              PIPELINE DE OTIMIZA√á√ÉO                             
2025-12-03 17:43:26,025 - INFO - ================================================================================
2025-12-03 17:43:26,025 - INFO - 
üîÑ Carregando dados...
2025-12-03 17:43:26,025 - INFO - ============================================================
2025-12-03 17:43:26,025 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:43:26,026 - INFO - ============================================================
2025-12-03 17:43:26,026 - INFO - 
--- Carregando dados base ---
2025-12-03 17:43:26,116 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:43:26,127 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:43:26,340 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:43:26,354 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:43:26,478 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:43:26,482 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:43:26,483 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:43:26,491 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:43:26,491 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:43:29,540 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:43:29,541 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:43:30,031 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:43:30,032 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:43:30,032 - INFO - 
============================================================
2025-12-03 17:43:30,032 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:43:30,032 - INFO - ============================================================
2025-12-03 17:43:30,032 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:43:30,033 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:43:30,033 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:43:30,033 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:43:30,530 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:43:30,530 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:43:30,530 - INFO -   Shape: (67065, 20)
2025-12-03 17:43:30,537 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:43:30,541 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:43:30,570 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:43:30,571 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:43:30,571 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:43:30,602 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:43:30,602 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:43:30,643 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:43:30,643 - INFO - Calculando BMI...
2025-12-03 17:43:30,927 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:43:30,929 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:43:30,929 - INFO -   Shape: (64668, 28)
2025-12-03 17:43:31,041 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:43:31,068 - INFO -   Valores nulos:
2025-12-03 17:43:31,068 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:43:31,068 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:43:31,069 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:43:31,069 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:43:31,069 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:43:31,069 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:43:31,069 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:43:31,069 - INFO -     slug: 42 (0.1%)
2025-12-03 17:43:31,069 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:43:31,069 - INFO -     weight: 41 (0.1%)
2025-12-03 17:43:31,069 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:43:31,069 - INFO -     height: 41 (0.1%)
2025-12-03 17:43:31,069 - INFO -     age: 41 (0.1%)
2025-12-03 17:43:31,070 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:43:31,070 - INFO -     gender: 146 (0.2%)
2025-12-03 17:43:31,070 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:43:31,070 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:43:31,070 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:43:31,070 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:43:31,070 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:43:31,070 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:43:31,071 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:43:31,071 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:43:31,071 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:43:31,071 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:43:31,071 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:43:31,071 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:43:31,149 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:43:31,150 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:43:31,151 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:43:31,152 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:43:31,152 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:43:31,152 - INFO -   Shape: (6069, 24)
2025-12-03 17:43:31,155 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:43:31,156 - INFO -   Valores nulos:
2025-12-03 17:43:31,157 - INFO -     gf: 34 (0.6%)
2025-12-03 17:43:31,157 - INFO -     ga: 34 (0.6%)
2025-12-03 17:43:31,157 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:43:31,157 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:43:31,157 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:43:31,157 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:43:31,158 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:43:31,158 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:43:31,161 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:43:31,161 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:43:31,163 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:43:31,165 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:43:31,165 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:43:31,165 - INFO -   Shape: (101978, 35)
2025-12-03 17:43:31,177 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:43:31,186 - INFO -   Valores nulos:
2025-12-03 17:43:31,186 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:43:31,186 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:43:31,187 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:43:31,187 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:43:31,187 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:43:31,187 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:43:31,187 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:43:31,187 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:43:31,188 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:43:31,189 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:43:31,190 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:43:31,190 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:43:31,190 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:43:31,190 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:43:31,190 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:43:31,248 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:43:31,248 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:43:31,264 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:43:31,265 - INFO -   (11,227 partidas removidas)
2025-12-03 17:43:31,265 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:43:31,265 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:43:31,325 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:43:31,364 - INFO - 
============================================================
2025-12-03 17:43:31,364 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:43:31,364 - INFO - ============================================================
2025-12-03 17:43:31,364 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:43:31,369 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 17:43:31,454 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 17:43:31,454 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 17:43:31,455 - INFO -   Distribui√ß√£o do target:
2025-12-03 17:43:31,455 - INFO -     Empate (0): 84,261
2025-12-03 17:43:31,456 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 17:43:31,457 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 17:43:31,457 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 17:43:32,102 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 17:43:32,103 - INFO - 
--- Adicionando features de performance ---
2025-12-03 17:43:55,480 - INFO - ‚úì Features de performance adicionadas
2025-12-03 17:43:55,484 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 17:44:27,846 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 17:44:27,896 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 17:45:16,351 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 17:45:16,532 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 17:45:16,886 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 17:45:16,887 - INFO - 
--- Limpando e validando ---
2025-12-03 17:45:40,095 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 17:45:40,270 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 17:45:40,271 - INFO -   Shape: (55838, 41)
2025-12-03 17:45:40,281 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 17:45:40,288 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:45:40,344 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:45:40,345 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 17:45:40,345 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 17:45:40,346 - INFO - Shape final: (55838, 41)
2025-12-03 17:45:40,346 - INFO - Features criadas: 32
2025-12-03 17:45:40,457 - INFO - 
============================================================
2025-12-03 17:45:40,458 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 17:45:40,458 - INFO - ============================================================
2025-12-03 17:45:40,467 - INFO - Features utilizadas: 36
2025-12-03 17:45:40,467 - INFO - Total de amostras: 55,838
2025-12-03 17:45:40,467 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 17:45:40,470 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 17:45:40,470 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 17:45:40,471 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 17:45:40,553 - INFO - 
‚úì Dados divididos:
2025-12-03 17:45:40,554 - INFO -   Treino: 44,670 amostras
2025-12-03 17:45:40,554 - INFO -   Teste: 11,168 amostras
2025-12-03 17:45:40,554 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 17:45:40,554 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 17:45:44,982 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 17:45:44,983 - INFO -   Antes: 44,670 amostras
2025-12-03 17:45:44,983 - INFO -   Depois: 44,871 amostras
2025-12-03 17:45:44,983 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 17:45:44,984 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 17:45:44,984 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 17:45:44,984 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 17:45:45,018 - INFO - ‚úì Features normalizadas
2025-12-03 17:45:45,022 - INFO - 
üîÑ Iniciando otimiza√ß√£o...
2025-12-03 17:45:45,361 - INFO - 
============================================================
2025-12-03 17:45:45,361 - INFO - INICIANDO OTIMIZA√á√ÉO DE HIPERPAR√ÇMETROS
2025-12-03 17:45:45,361 - INFO - ============================================================
2025-12-03 17:45:45,362 - INFO - 
üìä Configura√ß√£o:
2025-12-03 17:45:45,362 - INFO -   Trials: 30
2025-12-03 17:45:45,362 - INFO -   CV Folds: 5
2025-12-03 17:45:45,362 - INFO -   Timeout: Sem limite
2025-12-03 17:45:45,362 - INFO -   M√©trica: F1-Score Macro
2025-12-03 17:45:45,362 - INFO - 
üîç Espa√ßo de busca:
2025-12-03 17:45:45,362 - INFO -   max_depth: [4, 10]
2025-12-03 17:45:45,362 - INFO -   learning_rate: [0.01, 0.3]
2025-12-03 17:45:45,362 - INFO -   n_estimators: [100, 500]
2025-12-03 17:45:45,362 - INFO -   min_child_weight: [1, 10]
2025-12-03 17:45:45,362 - INFO -   gamma: [0, 0.5]
2025-12-03 17:45:45,362 - INFO -   subsample: [0.6, 1.0]
2025-12-03 17:45:45,363 - INFO -   colsample_bytree: [0.6, 1.0]
2025-12-03 17:45:45,363 - INFO -   reg_alpha: [0, 1.0]
2025-12-03 17:45:45,363 - INFO -   reg_lambda: [0, 2.0]
2025-12-03 17:45:45,364 - INFO - 
‚öôÔ∏è  Iniciando otimiza√ß√£o...

2025-12-03 17:45:55,733 - INFO - 
üîÑ Trial 1/30
2025-12-03 17:45:55,733 - INFO -   F1-Score: 0.4880
2025-12-03 17:45:55,733 - INFO -   Melhor at√© agora: 0.4880
2025-12-03 17:46:10,575 - INFO - 
üîÑ Trial 2/30
2025-12-03 17:46:10,575 - INFO -   F1-Score: 0.4869
2025-12-03 17:46:10,575 - INFO -   Melhor at√© agora: 0.4880
2025-12-03 17:46:18,471 - INFO - 
üîÑ Trial 3/30
2025-12-03 17:46:18,471 - INFO -   F1-Score: 0.4839
2025-12-03 17:46:18,471 - INFO -   Melhor at√© agora: 0.4880
2025-12-03 17:46:22,270 - INFO - 
üîÑ Trial 4/30
2025-12-03 17:46:22,270 - INFO -   F1-Score: 0.4875
2025-12-03 17:46:22,270 - INFO -   Melhor at√© agora: 0.4880
2025-12-03 17:46:28,088 - INFO - 
üîÑ Trial 5/30
2025-12-03 17:46:28,088 - INFO -   F1-Score: 0.4739
2025-12-03 17:46:28,088 - INFO -   Melhor at√© agora: 0.4880
2025-12-03 17:46:35,010 - INFO - 
üîÑ Trial 6/30
2025-12-03 17:46:35,010 - INFO -   F1-Score: 0.4862
2025-12-03 17:46:35,010 - INFO -   Melhor at√© agora: 0.4880
2025-12-03 17:46:37,436 - INFO - 
üîÑ Trial 7/30
2025-12-03 17:46:37,436 - INFO -   F1-Score: 0.4899
2025-12-03 17:46:37,436 - INFO -   Melhor at√© agora: 0.4899
2025-12-03 17:46:43,761 - INFO - 
üîÑ Trial 8/30
2025-12-03 17:46:43,761 - INFO -   F1-Score: 0.4818
2025-12-03 17:46:43,762 - INFO -   Melhor at√© agora: 0.4899
2025-12-03 17:46:49,227 - INFO - 
üîÑ Trial 9/30
2025-12-03 17:46:49,227 - INFO -   F1-Score: 0.4805
2025-12-03 17:46:49,227 - INFO -   Melhor at√© agora: 0.4899
2025-12-03 17:46:51,786 - INFO - 
üîÑ Trial 10/30
2025-12-03 17:46:51,786 - INFO -   F1-Score: 0.4714
2025-12-03 17:46:51,786 - INFO -   Melhor at√© agora: 0.4899
2025-12-03 17:46:58,888 - INFO - 
üîÑ Trial 11/30
2025-12-03 17:46:58,888 - INFO -   F1-Score: 0.5004
2025-12-03 17:46:58,888 - INFO -   Melhor at√© agora: 0.5004
2025-12-03 17:47:06,264 - INFO - 
üîÑ Trial 12/30
2025-12-03 17:47:06,264 - INFO -   F1-Score: 0.5000
2025-12-03 17:47:06,265 - INFO -   Melhor at√© agora: 0.5004
2025-12-03 17:47:13,563 - INFO - 
üîÑ Trial 13/30
2025-12-03 17:47:13,563 - INFO -   F1-Score: 0.5017
2025-12-03 17:47:13,563 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:47:20,084 - INFO - 
üîÑ Trial 14/30
2025-12-03 17:47:20,084 - INFO -   F1-Score: 0.4991
2025-12-03 17:47:20,084 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:47:28,581 - INFO - 
üîÑ Trial 15/30
2025-12-03 17:47:28,582 - INFO -   F1-Score: 0.5011
2025-12-03 17:47:28,582 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:47:35,587 - INFO - 
üîÑ Trial 16/30
2025-12-03 17:47:35,588 - INFO -   F1-Score: 0.4973
2025-12-03 17:47:35,588 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:47:39,478 - INFO - 
üîÑ Trial 17/30
2025-12-03 17:47:39,478 - INFO -   F1-Score: 0.4964
2025-12-03 17:47:39,478 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:47:48,660 - INFO - 
üîÑ Trial 18/30
2025-12-03 17:47:48,661 - INFO -   F1-Score: 0.4982
2025-12-03 17:47:48,661 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:47:55,995 - INFO - 
üîÑ Trial 19/30
2025-12-03 17:47:55,995 - INFO -   F1-Score: 0.4975
2025-12-03 17:47:55,995 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:00,604 - INFO - 
üîÑ Trial 20/30
2025-12-03 17:48:00,604 - INFO -   F1-Score: 0.4988
2025-12-03 17:48:00,604 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:12,996 - INFO - 
üîÑ Trial 21/30
2025-12-03 17:48:12,996 - INFO -   F1-Score: 0.4968
2025-12-03 17:48:12,996 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:20,084 - INFO - 
üîÑ Trial 22/30
2025-12-03 17:48:20,085 - INFO -   F1-Score: 0.5013
2025-12-03 17:48:20,085 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:25,517 - INFO - 
üîÑ Trial 23/30
2025-12-03 17:48:25,517 - INFO -   F1-Score: 0.4985
2025-12-03 17:48:25,518 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:31,917 - INFO - 
üîÑ Trial 24/30
2025-12-03 17:48:31,917 - INFO -   F1-Score: 0.4971
2025-12-03 17:48:31,917 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:39,366 - INFO - 
üîÑ Trial 25/30
2025-12-03 17:48:39,367 - INFO -   F1-Score: 0.4992
2025-12-03 17:48:39,367 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:51,606 - INFO - 
üîÑ Trial 26/30
2025-12-03 17:48:51,606 - INFO -   F1-Score: 0.4999
2025-12-03 17:48:51,607 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:55,694 - INFO - 
üîÑ Trial 27/30
2025-12-03 17:48:55,694 - INFO -   F1-Score: 0.4932
2025-12-03 17:48:55,694 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:48:59,822 - INFO - 
üîÑ Trial 28/30
2025-12-03 17:48:59,822 - INFO -   F1-Score: 0.4780
2025-12-03 17:48:59,822 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:49:03,027 - INFO - 
üîÑ Trial 29/30
2025-12-03 17:49:03,028 - INFO -   F1-Score: 0.4829
2025-12-03 17:49:03,028 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:49:12,499 - INFO - 
üîÑ Trial 30/30
2025-12-03 17:49:12,499 - INFO -   F1-Score: 0.4934
2025-12-03 17:49:12,499 - INFO -   Melhor at√© agora: 0.5017
2025-12-03 17:49:12,500 - INFO - 
============================================================
2025-12-03 17:49:12,500 - INFO - OTIMIZA√á√ÉO CONCLU√çDA
2025-12-03 17:49:12,501 - INFO - ============================================================
2025-12-03 17:49:12,501 - INFO - 
‚úÖ Melhor F1-Score: 0.5017
2025-12-03 17:49:12,501 - INFO - 
üéØ Melhores Hiperpar√¢metros:
2025-12-03 17:49:12,502 - INFO -   max_depth: 7
2025-12-03 17:49:12,502 - INFO -   learning_rate: 0.08995147228189702
2025-12-03 17:49:12,502 - INFO -   n_estimators: 200
2025-12-03 17:49:12,502 - INFO -   min_child_weight: 1
2025-12-03 17:49:12,502 - INFO -   gamma: 0.28197966608656394
2025-12-03 17:49:12,502 - INFO -   subsample: 0.8499398827829198
2025-12-03 17:49:12,502 - INFO -   colsample_bytree: 0.691538682009317
2025-12-03 17:49:12,502 - INFO -   reg_alpha: 0.5688843194142813
2025-12-03 17:49:12,503 - INFO -   reg_lambda: 1.3378390683829111
2025-12-03 17:49:12,508 - INFO - 
üíæ Resultados salvos em: models/optuna_results.json
2025-12-03 17:49:13,367 - INFO - üìä Gr√°fico de otimiza√ß√£o salvo em: models/optimization_history.png
2025-12-03 17:49:13,707 - INFO - üìä Import√¢ncia dos par√¢metros salva em: models/param_importances.png
2025-12-03 17:49:13,715 - INFO - 
üîÑ Treinando modelo final com melhores par√¢metros...
2025-12-03 17:49:15,785 - INFO - 
--- Salvando modelo ---
2025-12-03 17:49:15,903 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 17:49:15,905 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 17:49:15,906 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 17:49:15,906 - INFO - 
================================================================================
2025-12-03 17:49:15,906 - INFO -                               OTIMIZA√á√ÉO CONCLU√çDA                              
2025-12-03 17:49:15,906 - INFO - ================================================================================
2025-12-03 17:49:15,906 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 17:49:15,906 - INFO - ‚è±Ô∏è  Tempo total: 5m 49s
2025-12-03 17:49:15,907 - INFO - üìä Acur√°cia: 50.66%
2025-12-03 17:49:15,907 - INFO - üìä F1-Macro: 0.4636
2025-12-03 17:49:15,907 - INFO - üíæ Modelo otimizado salvo em: models/
2025-12-03 17:52:37,204 - INFO - 
================================================================================
2025-12-03 17:52:37,204 - INFO -                              PIPELINE DE AVALIA√á√ÉO                              
2025-12-03 17:52:37,205 - INFO - ================================================================================
2025-12-03 17:52:37,205 - INFO - 
üìÇ Carregando modelo...
2025-12-03 17:52:37,205 - INFO - 
--- Carregando modelo ---
2025-12-03 17:52:37,518 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 17:52:37,542 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 17:52:37,552 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 17:52:37,552 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 17:52:37,553 - INFO - 
üìä Carregando dados de teste...
2025-12-03 17:52:37,553 - INFO - ============================================================
2025-12-03 17:52:37,553 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:52:37,553 - INFO - ============================================================
2025-12-03 17:52:37,553 - INFO - 
--- Carregando dados base ---
2025-12-03 17:52:37,646 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:52:37,658 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:52:37,864 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:52:37,877 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:52:37,992 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:52:37,996 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:52:37,998 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:52:38,004 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:52:38,005 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:52:40,843 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:52:40,843 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:52:41,316 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:52:41,316 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:52:41,316 - INFO - 
============================================================
2025-12-03 17:52:41,316 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:52:41,317 - INFO - ============================================================
2025-12-03 17:52:41,317 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:52:41,317 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:52:41,317 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:52:41,317 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:52:41,817 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:52:41,818 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:52:41,818 - INFO -   Shape: (67065, 20)
2025-12-03 17:52:41,825 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:52:41,828 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:52:41,856 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:52:41,856 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:52:41,856 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:52:41,887 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:52:41,887 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:52:41,928 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:52:41,928 - INFO - Calculando BMI...
2025-12-03 17:52:42,210 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:52:42,211 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:52:42,211 - INFO -   Shape: (64668, 28)
2025-12-03 17:52:42,331 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:52:42,362 - INFO -   Valores nulos:
2025-12-03 17:52:42,363 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:52:42,363 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:52:42,363 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:52:42,363 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:52:42,363 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:52:42,363 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:52:42,363 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:52:42,363 - INFO -     slug: 42 (0.1%)
2025-12-03 17:52:42,363 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:52:42,363 - INFO -     weight: 41 (0.1%)
2025-12-03 17:52:42,363 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:52:42,363 - INFO -     height: 41 (0.1%)
2025-12-03 17:52:42,364 - INFO -     age: 41 (0.1%)
2025-12-03 17:52:42,364 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:52:42,364 - INFO -     gender: 146 (0.2%)
2025-12-03 17:52:42,364 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:52:42,364 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:52:42,364 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:52:42,364 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:52:42,364 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:52:42,364 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:52:42,364 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:52:42,364 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:52:42,364 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:52:42,364 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:52:42,364 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:52:42,364 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:52:42,436 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:52:42,436 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:52:42,437 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:52:42,438 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:52:42,438 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:52:42,438 - INFO -   Shape: (6069, 24)
2025-12-03 17:52:42,441 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:52:42,442 - INFO -   Valores nulos:
2025-12-03 17:52:42,443 - INFO -     gf: 34 (0.6%)
2025-12-03 17:52:42,443 - INFO -     ga: 34 (0.6%)
2025-12-03 17:52:42,443 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:52:42,443 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:52:42,443 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:52:42,443 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:52:42,443 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:52:42,443 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:52:42,447 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:52:42,447 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:52:42,449 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:52:42,450 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:52:42,450 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:52:42,450 - INFO -   Shape: (101978, 35)
2025-12-03 17:52:42,460 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:52:42,468 - INFO -   Valores nulos:
2025-12-03 17:52:42,468 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:52:42,468 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:52:42,468 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:52:42,468 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:52:42,468 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:52:42,469 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:52:42,470 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:52:42,471 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:52:42,525 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:52:42,525 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:52:42,538 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:52:42,538 - INFO -   (11,227 partidas removidas)
2025-12-03 17:52:42,538 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:52:42,539 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:52:42,587 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:52:42,617 - INFO - 
============================================================
2025-12-03 17:52:42,617 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:52:42,617 - INFO - ============================================================
2025-12-03 17:52:42,617 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:52:42,622 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 17:52:42,680 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 17:52:42,680 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 17:52:42,680 - INFO -   Distribui√ß√£o do target:
2025-12-03 17:52:42,681 - INFO -     Empate (0): 84,261
2025-12-03 17:52:42,682 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 17:52:42,683 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 17:52:42,683 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 17:52:43,166 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 17:52:43,167 - INFO - 
--- Adicionando features de performance ---
2025-12-03 17:53:03,898 - INFO - ‚úì Features de performance adicionadas
2025-12-03 17:53:03,913 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 17:53:34,808 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 17:53:34,812 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 17:54:18,578 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 17:54:18,745 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 17:54:19,129 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 17:54:19,130 - INFO - 
--- Limpando e validando ---
2025-12-03 17:54:40,650 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 17:54:40,784 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 17:54:40,784 - INFO -   Shape: (55838, 41)
2025-12-03 17:54:40,792 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 17:54:40,798 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:54:40,920 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:54:40,921 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 17:54:40,921 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 17:54:40,921 - INFO - Shape final: (55838, 41)
2025-12-03 17:54:40,921 - INFO - Features criadas: 32
2025-12-03 17:54:41,033 - INFO - 
============================================================
2025-12-03 17:54:41,033 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 17:54:41,033 - INFO - ============================================================
2025-12-03 17:54:41,041 - INFO - Features utilizadas: 36
2025-12-03 17:54:41,041 - INFO - Total de amostras: 55,838
2025-12-03 17:54:41,041 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 17:54:41,042 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 17:54:41,043 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 17:54:41,043 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 17:54:41,113 - INFO - 
‚úì Dados divididos:
2025-12-03 17:54:41,113 - INFO -   Treino: 44,670 amostras
2025-12-03 17:54:41,113 - INFO -   Teste: 11,168 amostras
2025-12-03 17:54:41,113 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 17:54:41,114 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 17:54:45,134 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 17:54:45,134 - INFO -   Antes: 44,670 amostras
2025-12-03 17:54:45,134 - INFO -   Depois: 44,871 amostras
2025-12-03 17:54:45,134 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 17:54:45,135 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 17:54:45,135 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 17:54:45,136 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 17:54:45,167 - INFO - ‚úì Features normalizadas
2025-12-03 17:54:45,171 - INFO - 
üîç Avaliando modelo...
2025-12-03 17:54:45,171 - INFO - 
============================================================
2025-12-03 17:54:45,171 - INFO - AVALIANDO MODELO
2025-12-03 17:54:45,171 - INFO - ============================================================
2025-12-03 17:54:45,312 - INFO - 
============================================================
2025-12-03 17:54:45,312 - INFO - M√âTRICAS - Teste
2025-12-03 17:54:45,312 - INFO - ============================================================
2025-12-03 17:54:45,312 - INFO - 
M√©tricas Gerais:
2025-12-03 17:54:45,312 - INFO -   accuracy: 0.5066
2025-12-03 17:54:45,313 - INFO -   precision_macro: 0.4662
2025-12-03 17:54:45,314 - INFO -   recall_macro: 0.4664
2025-12-03 17:54:45,314 - INFO -   f1_macro: 0.4636
2025-12-03 17:54:45,314 - INFO -   precision_weighted: 0.4932
2025-12-03 17:54:45,314 - INFO -   recall_weighted: 0.5066
2025-12-03 17:54:45,314 - INFO -   f1_weighted: 0.4976
2025-12-03 17:54:45,314 - INFO - 
M√©tricas por Classe:
2025-12-03 17:54:45,314 - INFO -   precision_Empate: 0.3348
2025-12-03 17:54:45,314 - INFO -   recall_Empate: 0.2485
2025-12-03 17:54:45,314 - INFO -   f1_Empate: 0.2853
2025-12-03 17:54:45,314 - INFO -   precision_Vit√≥ria Casa: 0.5899
2025-12-03 17:54:45,315 - INFO -   recall_Vit√≥ria Casa: 0.6431
2025-12-03 17:54:45,315 - INFO -   f1_Vit√≥ria Casa: 0.6154
2025-12-03 17:54:45,315 - INFO -   precision_Vit√≥ria Visitante: 0.4739
2025-12-03 17:54:45,315 - INFO -   recall_Vit√≥ria Visitante: 0.5074
2025-12-03 17:54:45,315 - INFO -   f1_Vit√≥ria Visitante: 0.4901
2025-12-03 17:54:45,317 - INFO - 
Matriz de Confus√£o:
2025-12-03 17:54:45,318 - INFO - 
[[ 673 1208  827]
 [ 754 3280 1066]
 [ 583 1072 1705]]
2025-12-03 17:54:45,318 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 17:54:45,319 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 17:54:45,319 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 17:54:45,328 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.33      0.25      0.29      2708
     Vit√≥ria Casa       0.59      0.64      0.62      5100
Vit√≥ria Visitante       0.47      0.51      0.49      3360

         accuracy                           0.51     11168
        macro avg       0.47      0.47      0.46     11168
     weighted avg       0.49      0.51      0.50     11168

2025-12-03 17:54:45,335 - INFO - 
============================================================
2025-12-03 17:54:45,336 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 17:54:45,336 - INFO - ============================================================
2025-12-03 17:54:45,336 - INFO -   home_recent_draws: 0.0903
2025-12-03 17:54:45,336 - INFO -   away_recent_draws: 0.0783
2025-12-03 17:54:45,337 - INFO -   points_difference: 0.0744
2025-12-03 17:54:45,337 - INFO -   defense_difference: 0.0416
2025-12-03 17:54:45,337 - INFO -   away_recent_losses: 0.0375
2025-12-03 17:54:45,337 - INFO -   attack_difference: 0.0333
2025-12-03 17:54:45,337 - INFO -   home_recent_losses: 0.0274
2025-12-03 17:54:45,337 - INFO -   away_losses: 0.0263
2025-12-03 17:54:45,338 - INFO -   home_recent_wins: 0.0261
2025-12-03 17:54:45,338 - INFO -   form_difference: 0.0252
2025-12-03 17:54:45,338 - INFO -   home_losses: 0.0242
2025-12-03 17:54:45,338 - INFO -   home_goals_per_game: 0.0235
2025-12-03 17:54:45,338 - INFO -   home_goal_difference: 0.0228
2025-12-03 17:54:45,338 - INFO -   home_wins: 0.0228
2025-12-03 17:54:45,339 - INFO -   away_recent_wins: 0.0228
2025-12-03 17:54:45,339 - INFO -   home_pass_accuracy: 0.0226
2025-12-03 17:54:45,339 - INFO -   away_wins: 0.0225
2025-12-03 17:54:45,339 - INFO -   away_goals_per_game: 0.0224
2025-12-03 17:54:45,339 - INFO -   away_points: 0.0222
2025-12-03 17:54:45,340 - INFO -   home_goals_against_per_game: 0.0221
2025-12-03 17:54:45,340 - INFO - 
============================================================
2025-12-03 17:54:45,340 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 17:54:45,340 - INFO - ============================================================
2025-12-03 17:54:45,341 - INFO - 
De 2708 empates reais:
2025-12-03 17:54:45,341 - INFO -   ‚úì Acertou: 673 (24.9%)
2025-12-03 17:54:45,341 - INFO -   ‚úó Previu V. Casa: 1208 (44.6%)
2025-12-03 17:54:45,342 - INFO -   ‚úó Previu V. Visitante: 827 (30.5%)
2025-12-03 17:54:45,342 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 17:54:45,342 - INFO -   P(Empate): 0.311
2025-12-03 17:54:45,342 - INFO -   P(V. Casa): 0.370
2025-12-03 17:54:45,342 - INFO -   P(V. Visitante): 0.319
2025-12-03 17:54:45,347 - INFO - 
================================================================================
2025-12-03 17:54:45,347 - INFO -                               AVALIA√á√ÉO CONCLU√çDA                               
2025-12-03 17:54:45,347 - INFO - ================================================================================
2025-12-03 17:54:45,348 - INFO - 
‚úì Avalia√ß√£o conclu√≠da!
2025-12-03 17:54:45,348 - INFO - üìä Acur√°cia: 50.66%
2025-12-03 17:54:45,348 - INFO - üìä F1-Score (macro): 0.4636
2025-12-03 17:57:11,573 - INFO - 
================================================================================
2025-12-03 17:57:11,573 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 17:57:11,573 - INFO - ================================================================================
2025-12-03 17:57:11,573 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 17:57:11,573 - INFO - ============================================================
2025-12-03 17:57:11,573 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 17:57:11,573 - INFO - ============================================================
2025-12-03 17:57:11,574 - INFO - 
--- Carregando dados base ---
2025-12-03 17:57:11,660 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 17:57:11,670 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 17:57:11,871 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 17:57:11,883 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 17:57:11,998 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 17:57:12,001 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 17:57:12,003 - INFO - ‚úì Status carregado: 19 status
2025-12-03 17:57:12,009 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 17:57:12,009 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 17:57:14,773 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 17:57:14,774 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 17:57:15,252 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 17:57:15,252 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 17:57:15,253 - INFO - 
============================================================
2025-12-03 17:57:15,253 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 17:57:15,253 - INFO - ============================================================
2025-12-03 17:57:15,253 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 17:57:15,253 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 17:57:15,253 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 17:57:15,253 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 17:57:15,749 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 17:57:15,749 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 17:57:15,749 - INFO -   Shape: (67065, 20)
2025-12-03 17:57:15,755 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 17:57:15,759 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:57:15,784 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:57:15,784 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 17:57:15,785 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 17:57:15,816 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 17:57:15,816 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 17:57:15,856 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 17:57:15,857 - INFO - Calculando BMI...
2025-12-03 17:57:16,133 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 17:57:16,134 - INFO - 
Qualidade de dados - Players:
2025-12-03 17:57:16,134 - INFO -   Shape: (64668, 28)
2025-12-03 17:57:16,249 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 17:57:16,276 - INFO -   Valores nulos:
2025-12-03 17:57:16,276 - INFO -     firstName: 49 (0.1%)
2025-12-03 17:57:16,276 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 17:57:16,277 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 17:57:16,277 - INFO -     fullName: 1 (0.0%)
2025-12-03 17:57:16,277 - INFO -     displayName: 1 (0.0%)
2025-12-03 17:57:16,277 - INFO -     shortName: 42 (0.1%)
2025-12-03 17:57:16,277 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 17:57:16,277 - INFO -     slug: 42 (0.1%)
2025-12-03 17:57:16,277 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 17:57:16,277 - INFO -     weight: 41 (0.1%)
2025-12-03 17:57:16,277 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 17:57:16,277 - INFO -     height: 41 (0.1%)
2025-12-03 17:57:16,278 - INFO -     age: 41 (0.1%)
2025-12-03 17:57:16,278 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 17:57:16,278 - INFO -     gender: 146 (0.2%)
2025-12-03 17:57:16,278 - INFO -     jersey: 41 (0.1%)
2025-12-03 17:57:16,278 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 17:57:16,278 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 17:57:16,278 - INFO -     positionName: 71 (0.1%)
2025-12-03 17:57:16,278 - INFO -     positionId: 41 (0.1%)
2025-12-03 17:57:16,278 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 17:57:16,279 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 17:57:16,279 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 17:57:16,279 - INFO -     timestamp: 41 (0.1%)
2025-12-03 17:57:16,279 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 17:57:16,279 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 17:57:16,279 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 17:57:16,352 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:57:16,352 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 17:57:16,354 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 17:57:16,354 - INFO - ‚úì Saldo de gols calculado
2025-12-03 17:57:16,354 - INFO - 
Qualidade de dados - Standings:
2025-12-03 17:57:16,354 - INFO -   Shape: (6069, 24)
2025-12-03 17:57:16,357 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 17:57:16,358 - INFO -   Valores nulos:
2025-12-03 17:57:16,359 - INFO -     gf: 34 (0.6%)
2025-12-03 17:57:16,359 - INFO -     ga: 34 (0.6%)
2025-12-03 17:57:16,359 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 17:57:16,359 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 17:57:16,359 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 17:57:16,359 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 17:57:16,359 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 17:57:16,360 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 17:57:16,363 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:57:16,363 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 17:57:16,365 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 17:57:16,367 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 17:57:16,367 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 17:57:16,367 - INFO -   Shape: (101978, 35)
2025-12-03 17:57:16,378 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 17:57:16,385 - INFO -   Valores nulos:
2025-12-03 17:57:16,385 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     saves: 46,152 (45.3%)
2025-12-03 17:57:16,386 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 17:57:16,387 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 17:57:16,388 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 17:57:16,388 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 17:57:16,443 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:57:16,443 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 17:57:16,457 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 17:57:16,458 - INFO -   (11,227 partidas removidas)
2025-12-03 17:57:16,458 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 17:57:16,458 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 17:57:16,507 - INFO - ‚úì Valores faltantes tratados
2025-12-03 17:57:16,507 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 17:57:16,508 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 17:57:16,537 - INFO - 
============================================================
2025-12-03 17:57:16,537 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 17:57:16,537 - INFO - ============================================================
2025-12-03 17:57:16,537 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 17:57:16,541 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 17:57:16,595 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 17:57:16,595 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 17:57:16,596 - INFO -   Distribui√ß√£o do target:
2025-12-03 17:57:16,596 - INFO -     Empate (0): 84,261
2025-12-03 17:57:16,597 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 17:57:16,597 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 17:57:16,598 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 17:57:17,036 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 17:57:17,036 - INFO - 
--- Adicionando features de performance ---
2025-12-03 17:57:35,654 - INFO - ‚úì Features de performance adicionadas
2025-12-03 17:57:35,660 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 17:58:17,365 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 17:58:17,370 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 17:59:08,583 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 17:59:08,893 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 17:59:09,287 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 17:59:09,288 - INFO - 
--- Limpando e validando ---
2025-12-03 17:59:34,994 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 17:59:35,178 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 17:59:35,179 - INFO -   Shape: (55838, 41)
2025-12-03 17:59:35,201 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 17:59:35,208 - INFO -   ‚úì Sem valores nulos
2025-12-03 17:59:35,268 - INFO -   ‚úì Sem duplicatas
2025-12-03 17:59:35,268 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 17:59:35,268 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 17:59:35,268 - INFO - Shape final: (55838, 41)
2025-12-03 17:59:35,268 - INFO - Features criadas: 32
2025-12-03 17:59:35,397 - INFO - ‚úì Features criadas: 41 colunas, 55,838 linhas
2025-12-03 17:59:35,397 - INFO - 
üîÑ ETAPA 3: Treinando modelo...
2025-12-03 17:59:35,400 - INFO - 
============================================================
2025-12-03 17:59:35,401 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 17:59:35,401 - INFO - ============================================================
2025-12-03 17:59:35,409 - INFO - Features utilizadas: 36
2025-12-03 17:59:35,409 - INFO - Total de amostras: 55,838
2025-12-03 17:59:35,409 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 17:59:35,411 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 17:59:35,411 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 17:59:35,411 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 17:59:35,486 - INFO - 
‚úì Dados divididos:
2025-12-03 17:59:35,486 - INFO -   Treino: 44,670 amostras
2025-12-03 17:59:35,487 - INFO -   Teste: 11,168 amostras
2025-12-03 17:59:35,487 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 17:59:35,487 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 17:59:39,778 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 17:59:39,778 - INFO -   Antes: 44,670 amostras
2025-12-03 17:59:39,778 - INFO -   Depois: 44,871 amostras
2025-12-03 17:59:39,778 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 17:59:39,779 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 17:59:39,779 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 17:59:39,780 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 17:59:39,810 - INFO - ‚úì Features normalizadas
2025-12-03 17:59:39,813 - INFO - 
--- Realizando valida√ß√£o cruzada ---
2025-12-03 17:59:48,187 - INFO - ‚úì Valida√ß√£o cruzada conclu√≠da:
2025-12-03 17:59:48,188 - INFO -   Scores (F1-Macro): ['0.4596', '0.4615', '0.4587', '0.5217', '0.5717']
2025-12-03 17:59:48,188 - INFO -   M√©dia: 0.4946 (+/- 0.0454)
2025-12-03 17:59:48,188 - INFO - 
============================================================
2025-12-03 17:59:48,189 - INFO - TREINANDO MODELO XGBOOST
2025-12-03 17:59:48,189 - INFO - ============================================================
2025-12-03 17:59:48,189 - INFO - 
Par√¢metros OTIMIZADOS do modelo:
2025-12-03 17:59:48,189 - INFO -   objective: multi:softmax
2025-12-03 17:59:48,189 - INFO -   num_class: 3
2025-12-03 17:59:48,189 - INFO -   max_depth: 7
2025-12-03 17:59:48,189 - INFO -   learning_rate: 0.05
2025-12-03 17:59:48,189 - INFO -   n_estimators: 300
2025-12-03 17:59:48,189 - INFO -   subsample: 0.8
2025-12-03 17:59:48,189 - INFO -   colsample_bytree: 0.8
2025-12-03 17:59:48,189 - INFO -   gamma: 0.1
2025-12-03 17:59:48,189 - INFO -   min_child_weight: 3
2025-12-03 17:59:48,189 - INFO -   random_state: 42
2025-12-03 17:59:48,190 - INFO -   eval_metric: mlogloss
2025-12-03 17:59:48,190 - INFO -   reg_alpha: 0.1
2025-12-03 17:59:48,190 - INFO -   reg_lambda: 1.0
2025-12-03 17:59:48,191 - INFO -   scale_pos_weight: 1.0
2025-12-03 17:59:48,191 - INFO - 
Iniciando treinamento...
2025-12-03 17:59:52,541 - INFO - ‚úì Treinamento conclu√≠do!
2025-12-03 17:59:52,541 - INFO - 
============================================================
2025-12-03 17:59:52,541 - INFO - AVALIANDO MODELO
2025-12-03 17:59:52,541 - INFO - ============================================================
2025-12-03 17:59:52,655 - INFO - 
============================================================
2025-12-03 17:59:52,655 - INFO - M√âTRICAS - Teste
2025-12-03 17:59:52,655 - INFO - ============================================================
2025-12-03 17:59:52,655 - INFO - 
M√©tricas Gerais:
2025-12-03 17:59:52,656 - INFO -   accuracy: 0.5163
2025-12-03 17:59:52,656 - INFO -   precision_macro: 0.4779
2025-12-03 17:59:52,656 - INFO -   recall_macro: 0.4762
2025-12-03 17:59:52,656 - INFO -   f1_macro: 0.4741
2025-12-03 17:59:52,656 - INFO -   precision_weighted: 0.5030
2025-12-03 17:59:52,656 - INFO -   recall_weighted: 0.5163
2025-12-03 17:59:52,656 - INFO -   f1_weighted: 0.5072
2025-12-03 17:59:52,657 - INFO - 
M√©tricas por Classe:
2025-12-03 17:59:52,657 - INFO -   precision_Empate: 0.3544
2025-12-03 17:59:52,657 - INFO -   recall_Empate: 0.2626
2025-12-03 17:59:52,657 - INFO -   f1_Empate: 0.3017
2025-12-03 17:59:52,657 - INFO -   precision_Vit√≥ria Casa: 0.5930
2025-12-03 17:59:52,658 - INFO -   recall_Vit√≥ria Casa: 0.6537
2025-12-03 17:59:52,658 - INFO -   f1_Vit√≥ria Casa: 0.6219
2025-12-03 17:59:52,658 - INFO -   precision_Vit√≥ria Visitante: 0.4862
2025-12-03 17:59:52,658 - INFO -   recall_Vit√≥ria Visitante: 0.5122
2025-12-03 17:59:52,658 - INFO -   f1_Vit√≥ria Visitante: 0.4988
2025-12-03 17:59:52,663 - INFO - 
Matriz de Confus√£o:
2025-12-03 17:59:52,687 - INFO - 
[[ 711 1201  796]
 [ 743 3334 1023]
 [ 552 1087 1721]]
2025-12-03 17:59:52,687 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 17:59:52,687 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 17:59:52,687 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 17:59:52,699 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.35      0.26      0.30      2708
     Vit√≥ria Casa       0.59      0.65      0.62      5100
Vit√≥ria Visitante       0.49      0.51      0.50      3360

         accuracy                           0.52     11168
        macro avg       0.48      0.48      0.47     11168
     weighted avg       0.50      0.52      0.51     11168

2025-12-03 17:59:52,705 - INFO - 
============================================================
2025-12-03 17:59:52,705 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 17:59:52,705 - INFO - ============================================================
2025-12-03 17:59:52,706 - INFO -   home_recent_draws: 0.0894
2025-12-03 17:59:52,706 - INFO -   points_difference: 0.0785
2025-12-03 17:59:52,706 - INFO -   away_recent_draws: 0.0750
2025-12-03 17:59:52,706 - INFO -   defense_difference: 0.0401
2025-12-03 17:59:52,707 - INFO -   away_recent_losses: 0.0365
2025-12-03 17:59:52,707 - INFO -   attack_difference: 0.0339
2025-12-03 17:59:52,707 - INFO -   away_losses: 0.0261
2025-12-03 17:59:52,707 - INFO -   form_difference: 0.0257
2025-12-03 17:59:52,707 - INFO -   home_recent_losses: 0.0255
2025-12-03 17:59:52,708 - INFO -   home_losses: 0.0248
2025-12-03 17:59:52,708 - INFO -   home_recent_wins: 0.0246
2025-12-03 17:59:52,708 - INFO -   home_goals_per_game: 0.0236
2025-12-03 17:59:52,709 - INFO -   away_goals_per_game: 0.0228
2025-12-03 17:59:52,709 - INFO -   home_goal_difference: 0.0227
2025-12-03 17:59:52,709 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 17:59:52,710 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 17:59:52,710 - INFO -   home_wins: 0.0224
2025-12-03 17:59:52,710 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 17:59:52,711 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 17:59:52,711 - INFO -   away_points: 0.0220
2025-12-03 17:59:52,711 - INFO - 
============================================================
2025-12-03 17:59:52,712 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 17:59:52,712 - INFO - ============================================================
2025-12-03 17:59:52,713 - INFO - 
De 2708 empates reais:
2025-12-03 17:59:52,713 - INFO -   ‚úì Acertou: 711 (26.3%)
2025-12-03 17:59:52,713 - INFO -   ‚úó Previu V. Casa: 1201 (44.4%)
2025-12-03 17:59:52,713 - INFO -   ‚úó Previu V. Visitante: 796 (29.4%)
2025-12-03 17:59:52,713 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 17:59:52,714 - INFO -   P(Empate): 0.313
2025-12-03 17:59:52,714 - INFO -   P(V. Casa): 0.369
2025-12-03 17:59:52,714 - INFO -   P(V. Visitante): 0.319
2025-12-03 17:59:52,718 - INFO - 
--- Salvando modelo ---
2025-12-03 17:59:52,868 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 17:59:52,869 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 17:59:52,870 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 17:59:52,870 - INFO - 
============================================================
2025-12-03 17:59:52,871 - INFO - TREINAMENTO CONCLU√çDO COM SUCESSO!
2025-12-03 17:59:52,871 - INFO - ============================================================
2025-12-03 17:59:52,871 - INFO - 
üìä M√©tricas Finais:
2025-12-03 17:59:52,871 - INFO -   Acur√°cia: 51.63%
2025-12-03 17:59:52,871 - INFO -   F1-Macro: 0.4741
2025-12-03 17:59:52,871 - INFO -   F1-Empate: 0.3017
2025-12-03 17:59:52,871 - INFO -   Recall-Empate: 26.26%
2025-12-03 17:59:52,871 - INFO - ‚úì Modelo treinado com acur√°cia: 0.5163
2025-12-03 17:59:52,871 - INFO - 
================================================================================
2025-12-03 17:59:52,871 - INFO -                              TREINAMENTO CONCLU√çDO                              
2025-12-03 17:59:52,872 - INFO - ================================================================================
2025-12-03 17:59:52,872 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 17:59:52,872 - INFO - ‚è±Ô∏è  Tempo total: 2m 41s
2025-12-03 17:59:52,872 - INFO - üìä Acur√°cia final: 51.63%
2025-12-03 17:59:52,872 - INFO - üìÅ Modelo salvo em: models/
2025-12-03 18:00:56,531 - INFO - 
================================================================================
2025-12-03 18:00:56,532 - INFO -                              PIPELINE DE AVALIA√á√ÉO                              
2025-12-03 18:00:56,532 - INFO - ================================================================================
2025-12-03 18:00:56,532 - INFO - 
üìÇ Carregando modelo...
2025-12-03 18:00:56,532 - INFO - 
--- Carregando modelo ---
2025-12-03 18:00:56,898 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 18:00:56,899 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 18:00:56,900 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 18:00:56,901 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 18:00:56,901 - INFO - 
üìä Carregando dados de teste...
2025-12-03 18:00:56,901 - INFO - ============================================================
2025-12-03 18:00:56,901 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 18:00:56,901 - INFO - ============================================================
2025-12-03 18:00:56,901 - INFO - 
--- Carregando dados base ---
2025-12-03 18:00:56,997 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 18:00:57,009 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 18:00:57,214 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 18:00:57,228 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 18:00:57,339 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 18:00:57,343 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 18:00:57,344 - INFO - ‚úì Status carregado: 19 status
2025-12-03 18:00:57,351 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 18:00:57,351 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 18:01:00,146 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 18:01:00,146 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 18:01:00,625 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 18:01:00,625 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 18:01:00,625 - INFO - 
============================================================
2025-12-03 18:01:00,625 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 18:01:00,625 - INFO - ============================================================
2025-12-03 18:01:00,625 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 18:01:00,625 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 18:01:00,626 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 18:01:00,626 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 18:01:01,114 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 18:01:01,115 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 18:01:01,115 - INFO -   Shape: (67065, 20)
2025-12-03 18:01:01,122 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 18:01:01,125 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:01:01,154 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:01:01,154 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 18:01:01,154 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 18:01:01,184 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 18:01:01,185 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 18:01:01,226 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 18:01:01,226 - INFO - Calculando BMI...
2025-12-03 18:01:01,503 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 18:01:01,503 - INFO - 
Qualidade de dados - Players:
2025-12-03 18:01:01,503 - INFO -   Shape: (64668, 28)
2025-12-03 18:01:01,609 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 18:01:01,636 - INFO -   Valores nulos:
2025-12-03 18:01:01,636 - INFO -     firstName: 49 (0.1%)
2025-12-03 18:01:01,636 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 18:01:01,637 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 18:01:01,637 - INFO -     fullName: 1 (0.0%)
2025-12-03 18:01:01,637 - INFO -     displayName: 1 (0.0%)
2025-12-03 18:01:01,637 - INFO -     shortName: 42 (0.1%)
2025-12-03 18:01:01,637 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 18:01:01,637 - INFO -     slug: 42 (0.1%)
2025-12-03 18:01:01,637 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 18:01:01,637 - INFO -     weight: 41 (0.1%)
2025-12-03 18:01:01,638 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 18:01:01,638 - INFO -     height: 41 (0.1%)
2025-12-03 18:01:01,638 - INFO -     age: 41 (0.1%)
2025-12-03 18:01:01,638 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 18:01:01,638 - INFO -     gender: 146 (0.2%)
2025-12-03 18:01:01,638 - INFO -     jersey: 41 (0.1%)
2025-12-03 18:01:01,638 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 18:01:01,638 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 18:01:01,638 - INFO -     positionName: 71 (0.1%)
2025-12-03 18:01:01,638 - INFO -     positionId: 41 (0.1%)
2025-12-03 18:01:01,638 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 18:01:01,638 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 18:01:01,638 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 18:01:01,639 - INFO -     timestamp: 41 (0.1%)
2025-12-03 18:01:01,639 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 18:01:01,639 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 18:01:01,639 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 18:01:01,713 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:01:01,713 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 18:01:01,715 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 18:01:01,715 - INFO - ‚úì Saldo de gols calculado
2025-12-03 18:01:01,715 - INFO - 
Qualidade de dados - Standings:
2025-12-03 18:01:01,716 - INFO -   Shape: (6069, 24)
2025-12-03 18:01:01,719 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 18:01:01,720 - INFO -   Valores nulos:
2025-12-03 18:01:01,720 - INFO -     gf: 34 (0.6%)
2025-12-03 18:01:01,720 - INFO -     ga: 34 (0.6%)
2025-12-03 18:01:01,720 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 18:01:01,721 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 18:01:01,721 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 18:01:01,721 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 18:01:01,721 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 18:01:01,721 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 18:01:01,724 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:01:01,724 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 18:01:01,726 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 18:01:01,727 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 18:01:01,727 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 18:01:01,727 - INFO -   Shape: (101978, 35)
2025-12-03 18:01:01,738 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 18:01:01,746 - INFO -   Valores nulos:
2025-12-03 18:01:01,746 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 18:01:01,746 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 18:01:01,746 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 18:01:01,746 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 18:01:01,746 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     saves: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 18:01:01,747 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 18:01:01,748 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 18:01:01,748 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 18:01:01,748 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 18:01:01,748 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 18:01:01,748 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 18:01:01,749 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 18:01:01,750 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 18:01:01,803 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:01:01,804 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 18:01:01,817 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 18:01:01,817 - INFO -   (11,227 partidas removidas)
2025-12-03 18:01:01,818 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 18:01:01,818 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 18:01:01,865 - INFO - ‚úì Valores faltantes tratados
2025-12-03 18:01:01,894 - INFO - 
============================================================
2025-12-03 18:01:01,894 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 18:01:01,894 - INFO - ============================================================
2025-12-03 18:01:01,895 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 18:01:01,899 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 18:01:01,953 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 18:01:01,953 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 18:01:01,953 - INFO -   Distribui√ß√£o do target:
2025-12-03 18:01:01,954 - INFO -     Empate (0): 84,261
2025-12-03 18:01:01,955 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 18:01:01,955 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 18:01:01,955 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 18:01:02,396 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 18:01:02,396 - INFO - 
--- Adicionando features de performance ---
2025-12-03 18:01:19,847 - INFO - ‚úì Features de performance adicionadas
2025-12-03 18:01:19,861 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 18:01:50,413 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 18:01:50,512 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 18:02:40,476 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 18:02:40,685 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 18:02:41,164 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 18:02:41,165 - INFO - 
--- Limpando e validando ---
2025-12-03 18:03:08,955 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 18:03:09,249 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 18:03:09,251 - INFO -   Shape: (55838, 41)
2025-12-03 18:03:09,318 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 18:03:09,351 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:03:09,423 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:03:09,424 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 18:03:09,424 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 18:03:09,424 - INFO - Shape final: (55838, 41)
2025-12-03 18:03:09,424 - INFO - Features criadas: 32
2025-12-03 18:03:09,513 - INFO - 
============================================================
2025-12-03 18:03:09,513 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 18:03:09,513 - INFO - ============================================================
2025-12-03 18:03:09,522 - INFO - Features utilizadas: 36
2025-12-03 18:03:09,522 - INFO - Total de amostras: 55,838
2025-12-03 18:03:09,522 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 18:03:09,524 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 18:03:09,524 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 18:03:09,525 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 18:03:09,589 - INFO - 
‚úì Dados divididos:
2025-12-03 18:03:09,590 - INFO -   Treino: 44,670 amostras
2025-12-03 18:03:09,590 - INFO -   Teste: 11,168 amostras
2025-12-03 18:03:09,615 - INFO - ‚úì Features normalizadas
2025-12-03 18:03:09,617 - INFO - 
üîç Avaliando modelo (Limiar Padr√£o)...
2025-12-03 18:03:09,618 - INFO - 
============================================================
2025-12-03 18:03:09,618 - INFO - AVALIANDO MODELO
2025-12-03 18:03:09,618 - INFO - ============================================================
2025-12-03 18:03:09,778 - INFO - 
============================================================
2025-12-03 18:03:09,778 - INFO - M√âTRICAS - Teste
2025-12-03 18:03:09,778 - INFO - ============================================================
2025-12-03 18:03:09,778 - INFO - 
M√©tricas Gerais:
2025-12-03 18:03:09,778 - INFO -   accuracy: 0.2839
2025-12-03 18:03:09,778 - INFO -   precision_macro: 0.5887
2025-12-03 18:03:09,778 - INFO -   recall_macro: 0.3733
2025-12-03 18:03:09,779 - INFO -   f1_macro: 0.2221
2025-12-03 18:03:09,779 - INFO -   precision_weighted: 0.6547
2025-12-03 18:03:09,779 - INFO -   recall_weighted: 0.2839
2025-12-03 18:03:09,779 - INFO -   f1_weighted: 0.1831
2025-12-03 18:03:09,779 - INFO - 
M√©tricas por Classe:
2025-12-03 18:03:09,779 - INFO -   precision_Empate: 0.2525
2025-12-03 18:03:09,779 - INFO -   recall_Empate: 0.9612
2025-12-03 18:03:09,780 - INFO -   f1_Empate: 0.3999
2025-12-03 18:03:09,780 - INFO -   precision_Vit√≥ria Casa: 0.8860
2025-12-03 18:03:09,780 - INFO -   recall_Vit√≥ria Casa: 0.0198
2025-12-03 18:03:09,780 - INFO -   f1_Vit√≥ria Casa: 0.0387
2025-12-03 18:03:09,780 - INFO -   precision_Vit√≥ria Visitante: 0.6277
2025-12-03 18:03:09,780 - INFO -   recall_Vit√≥ria Visitante: 0.1390
2025-12-03 18:03:09,780 - INFO -   f1_Vit√≥ria Visitante: 0.2276
2025-12-03 18:03:09,784 - INFO - 
Matriz de Confus√£o:
2025-12-03 18:03:09,785 - INFO - 
[[2603    4  101]
 [4823  101  176]
 [2884    9  467]]
2025-12-03 18:03:09,785 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 18:03:09,786 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 18:03:09,786 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 18:03:09,794 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.25      0.96      0.40      2708
     Vit√≥ria Casa       0.89      0.02      0.04      5100
Vit√≥ria Visitante       0.63      0.14      0.23      3360

         accuracy                           0.28     11168
        macro avg       0.59      0.37      0.22     11168
     weighted avg       0.65      0.28      0.18     11168

2025-12-03 18:03:09,804 - INFO - 
============================================================
2025-12-03 18:03:09,804 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 18:03:09,805 - INFO - ============================================================
2025-12-03 18:03:09,806 - INFO -   home_recent_draws: 0.0894
2025-12-03 18:03:09,806 - INFO -   points_difference: 0.0785
2025-12-03 18:03:09,806 - INFO -   away_recent_draws: 0.0750
2025-12-03 18:03:09,806 - INFO -   defense_difference: 0.0401
2025-12-03 18:03:09,806 - INFO -   away_recent_losses: 0.0365
2025-12-03 18:03:09,807 - INFO -   attack_difference: 0.0339
2025-12-03 18:03:09,807 - INFO -   away_losses: 0.0261
2025-12-03 18:03:09,807 - INFO -   form_difference: 0.0257
2025-12-03 18:03:09,807 - INFO -   home_recent_losses: 0.0255
2025-12-03 18:03:09,807 - INFO -   home_losses: 0.0248
2025-12-03 18:03:09,807 - INFO -   home_recent_wins: 0.0246
2025-12-03 18:03:09,808 - INFO -   home_goals_per_game: 0.0236
2025-12-03 18:03:09,808 - INFO -   away_goals_per_game: 0.0228
2025-12-03 18:03:09,808 - INFO -   home_goal_difference: 0.0227
2025-12-03 18:03:09,808 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 18:03:09,808 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 18:03:09,808 - INFO -   home_wins: 0.0224
2025-12-03 18:03:09,809 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 18:03:09,809 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 18:03:09,809 - INFO -   away_points: 0.0220
2025-12-03 18:03:09,809 - INFO - 
============================================================
2025-12-03 18:03:09,810 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 18:03:09,810 - INFO - ============================================================
2025-12-03 18:03:09,811 - INFO - 
De 2708 empates reais:
2025-12-03 18:03:09,811 - INFO -   ‚úì Acertou: 2603 (96.1%)
2025-12-03 18:03:09,811 - INFO -   ‚úó Previu V. Casa: 4 (0.1%)
2025-12-03 18:03:09,811 - INFO -   ‚úó Previu V. Visitante: 101 (3.7%)
2025-12-03 18:03:09,811 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 18:03:09,812 - INFO -   P(Empate): 0.753
2025-12-03 18:03:09,812 - INFO -   P(V. Casa): 0.069
2025-12-03 18:03:09,812 - INFO -   P(V. Visitante): 0.177
2025-12-03 18:03:09,828 - INFO - 
‚öôÔ∏è  Iniciando Otimiza√ß√£o do Limiar...
2025-12-03 18:03:09,828 - INFO - 
============================================================
2025-12-03 18:03:09,829 - INFO - INICIANDO OTIMIZA√á√ÉO DO LIMIAR (THRESHOLD)
2025-12-03 18:03:09,829 - INFO - ============================================================
2025-12-03 18:03:09,960 - INFO - ‚úÖ Otimiza√ß√£o conclu√≠da.
2025-12-03 18:03:09,960 - INFO - üéØ Melhor F1-Macro encontrado: 0.2722
2025-12-03 18:03:09,961 - INFO - üí° Limiar Ideal para Empate (Delta): 0.1000 (Original=0.3333)
2025-12-03 18:03:09,961 - INFO - 
============================================================
2025-12-03 18:03:09,961 - INFO - M√âTRICAS - Teste (Limiar Ajustado)
2025-12-03 18:03:09,961 - INFO - ============================================================
2025-12-03 18:03:09,961 - INFO - 
M√©tricas Gerais:
2025-12-03 18:03:09,961 - INFO -   accuracy: 0.3091
2025-12-03 18:03:09,961 - INFO -   precision_macro: 0.5338
2025-12-03 18:03:09,961 - INFO -   recall_macro: 0.3928
2025-12-03 18:03:09,962 - INFO -   f1_macro: 0.2722
2025-12-03 18:03:09,962 - INFO - 
M√©tricas por Classe:
2025-12-03 18:03:09,962 - INFO -   precision_Empate: 0.2578
2025-12-03 18:03:09,962 - INFO -   recall_Empate: 0.8892
2025-12-03 18:03:09,962 - INFO -   f1_Empate: 0.3997
2025-12-03 18:03:09,962 - INFO -   precision_Vit√≥ria Casa: 0.8130
2025-12-03 18:03:09,962 - INFO -   recall_Vit√≥ria Casa: 0.0418
2025-12-03 18:03:09,962 - INFO -   f1_Vit√≥ria Casa: 0.0794
2025-12-03 18:03:09,962 - INFO -   precision_Vit√≥ria Visitante: 0.5307
2025-12-03 18:03:09,962 - INFO -   recall_Vit√≥ria Visitante: 0.2473
2025-12-03 18:03:09,962 - INFO -   f1_Vit√≥ria Visitante: 0.3374
2025-12-03 18:03:09,963 - ERROR - 
‚ùå Erro na avalia√ß√£o: 'draw_threshold'
2025-12-03 18:03:09,971 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 137, in evaluate_pipeline
    metrics_tuned = predictor.optimize_threshold()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\model_xgboost.py", line 499, in optimize_threshold
    save_json({'optimized_draw_threshold': best_threshold}, MODEL_FILES['draw_threshold'])
                                                            ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'draw_threshold'

2025-12-03 18:05:17,341 - INFO - 
================================================================================
2025-12-03 18:05:17,341 - INFO -                              PIPELINE DE AVALIA√á√ÉO                              
2025-12-03 18:05:17,342 - INFO - ================================================================================
2025-12-03 18:05:17,342 - INFO - 
üìÇ Carregando modelo...
2025-12-03 18:05:17,342 - INFO - 
--- Carregando modelo ---
2025-12-03 18:05:17,835 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 18:05:17,836 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 18:05:17,836 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 18:05:17,837 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 18:05:17,837 - INFO - 
üìä Carregando dados de teste...
2025-12-03 18:05:17,837 - INFO - ============================================================
2025-12-03 18:05:17,837 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 18:05:17,837 - INFO - ============================================================
2025-12-03 18:05:17,837 - INFO - 
--- Carregando dados base ---
2025-12-03 18:05:17,957 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 18:05:17,970 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 18:05:18,173 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 18:05:18,186 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 18:05:18,299 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 18:05:18,303 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 18:05:18,305 - INFO - ‚úì Status carregado: 19 status
2025-12-03 18:05:18,311 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 18:05:18,312 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 18:05:21,125 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 18:05:21,125 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 18:05:21,614 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 18:05:21,614 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 18:05:21,614 - INFO - 
============================================================
2025-12-03 18:05:21,614 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 18:05:21,614 - INFO - ============================================================
2025-12-03 18:05:21,614 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 18:05:21,615 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 18:05:21,615 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 18:05:21,615 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 18:05:22,111 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 18:05:22,111 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 18:05:22,112 - INFO -   Shape: (67065, 20)
2025-12-03 18:05:22,118 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 18:05:22,122 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:05:22,146 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:05:22,146 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 18:05:22,146 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 18:05:22,177 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 18:05:22,177 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 18:05:22,219 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 18:05:22,219 - INFO - Calculando BMI...
2025-12-03 18:05:22,497 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 18:05:22,498 - INFO - 
Qualidade de dados - Players:
2025-12-03 18:05:22,498 - INFO -   Shape: (64668, 28)
2025-12-03 18:05:22,609 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 18:05:22,635 - INFO -   Valores nulos:
2025-12-03 18:05:22,636 - INFO -     firstName: 49 (0.1%)
2025-12-03 18:05:22,636 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 18:05:22,636 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 18:05:22,636 - INFO -     fullName: 1 (0.0%)
2025-12-03 18:05:22,636 - INFO -     displayName: 1 (0.0%)
2025-12-03 18:05:22,636 - INFO -     shortName: 42 (0.1%)
2025-12-03 18:05:22,636 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 18:05:22,636 - INFO -     slug: 42 (0.1%)
2025-12-03 18:05:22,637 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 18:05:22,637 - INFO -     weight: 41 (0.1%)
2025-12-03 18:05:22,637 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 18:05:22,637 - INFO -     height: 41 (0.1%)
2025-12-03 18:05:22,637 - INFO -     age: 41 (0.1%)
2025-12-03 18:05:22,637 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 18:05:22,637 - INFO -     gender: 146 (0.2%)
2025-12-03 18:05:22,637 - INFO -     jersey: 41 (0.1%)
2025-12-03 18:05:22,637 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 18:05:22,637 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 18:05:22,637 - INFO -     positionName: 71 (0.1%)
2025-12-03 18:05:22,637 - INFO -     positionId: 41 (0.1%)
2025-12-03 18:05:22,638 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 18:05:22,638 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 18:05:22,638 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 18:05:22,638 - INFO -     timestamp: 41 (0.1%)
2025-12-03 18:05:22,638 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 18:05:22,638 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 18:05:22,638 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 18:05:22,713 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:05:22,713 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 18:05:22,714 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 18:05:22,715 - INFO - ‚úì Saldo de gols calculado
2025-12-03 18:05:22,715 - INFO - 
Qualidade de dados - Standings:
2025-12-03 18:05:22,715 - INFO -   Shape: (6069, 24)
2025-12-03 18:05:22,718 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 18:05:22,719 - INFO -   Valores nulos:
2025-12-03 18:05:22,720 - INFO -     gf: 34 (0.6%)
2025-12-03 18:05:22,720 - INFO -     ga: 34 (0.6%)
2025-12-03 18:05:22,720 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 18:05:22,720 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 18:05:22,720 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 18:05:22,720 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 18:05:22,721 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 18:05:22,721 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 18:05:22,725 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:05:22,725 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 18:05:22,727 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 18:05:22,728 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 18:05:22,728 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 18:05:22,728 - INFO -   Shape: (101978, 35)
2025-12-03 18:05:22,739 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 18:05:22,746 - INFO -   Valores nulos:
2025-12-03 18:05:22,747 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     saves: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 18:05:22,747 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 18:05:22,748 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 18:05:22,749 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 18:05:22,749 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 18:05:22,804 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:05:22,805 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 18:05:22,822 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 18:05:22,822 - INFO -   (11,227 partidas removidas)
2025-12-03 18:05:22,822 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 18:05:22,822 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 18:05:22,872 - INFO - ‚úì Valores faltantes tratados
2025-12-03 18:05:22,903 - INFO - 
============================================================
2025-12-03 18:05:22,903 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 18:05:22,904 - INFO - ============================================================
2025-12-03 18:05:22,904 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 18:05:22,908 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 18:05:22,965 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 18:05:22,966 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 18:05:22,966 - INFO -   Distribui√ß√£o do target:
2025-12-03 18:05:22,966 - INFO -     Empate (0): 84,261
2025-12-03 18:05:22,967 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 18:05:22,968 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 18:05:22,968 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 18:05:23,408 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 18:05:23,409 - INFO - 
--- Adicionando features de performance ---
2025-12-03 18:05:44,156 - INFO - ‚úì Features de performance adicionadas
2025-12-03 18:05:44,209 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 18:06:12,351 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 18:06:12,363 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 18:07:00,317 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 18:07:00,771 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 18:07:01,188 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 18:07:01,189 - INFO - 
--- Limpando e validando ---
2025-12-03 18:07:21,585 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 18:07:21,817 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 18:07:21,821 - INFO -   Shape: (55838, 41)
2025-12-03 18:07:21,829 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 18:07:21,838 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:07:22,028 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:07:22,029 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 18:07:22,029 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 18:07:22,029 - INFO - Shape final: (55838, 41)
2025-12-03 18:07:22,029 - INFO - Features criadas: 32
2025-12-03 18:07:22,241 - INFO - 
============================================================
2025-12-03 18:07:22,242 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 18:07:22,242 - INFO - ============================================================
2025-12-03 18:07:22,250 - INFO - Features utilizadas: 36
2025-12-03 18:07:22,250 - INFO - Total de amostras: 55,838
2025-12-03 18:07:22,250 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 18:07:22,253 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 18:07:22,253 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 18:07:22,253 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 18:07:22,333 - INFO - 
‚úì Dados divididos:
2025-12-03 18:07:22,333 - INFO -   Treino: 44,670 amostras
2025-12-03 18:07:22,333 - INFO -   Teste: 11,168 amostras
2025-12-03 18:07:22,366 - INFO - ‚úì Features normalizadas
2025-12-03 18:07:22,368 - INFO - 
üîç Avaliando modelo (Limiar Padr√£o)...
2025-12-03 18:07:22,369 - INFO - 
============================================================
2025-12-03 18:07:22,369 - INFO - AVALIANDO MODELO
2025-12-03 18:07:22,369 - INFO - ============================================================
2025-12-03 18:07:22,582 - INFO - 
============================================================
2025-12-03 18:07:22,583 - INFO - M√âTRICAS - Teste
2025-12-03 18:07:22,583 - INFO - ============================================================
2025-12-03 18:07:22,583 - INFO - 
M√©tricas Gerais:
2025-12-03 18:07:22,583 - INFO -   accuracy: 0.2839
2025-12-03 18:07:22,583 - INFO -   precision_macro: 0.5887
2025-12-03 18:07:22,583 - INFO -   recall_macro: 0.3733
2025-12-03 18:07:22,583 - INFO -   f1_macro: 0.2221
2025-12-03 18:07:22,583 - INFO -   precision_weighted: 0.6547
2025-12-03 18:07:22,583 - INFO -   recall_weighted: 0.2839
2025-12-03 18:07:22,583 - INFO -   f1_weighted: 0.1831
2025-12-03 18:07:22,583 - INFO - 
M√©tricas por Classe:
2025-12-03 18:07:22,584 - INFO -   precision_Empate: 0.2525
2025-12-03 18:07:22,584 - INFO -   recall_Empate: 0.9612
2025-12-03 18:07:22,584 - INFO -   f1_Empate: 0.3999
2025-12-03 18:07:22,584 - INFO -   precision_Vit√≥ria Casa: 0.8860
2025-12-03 18:07:22,584 - INFO -   recall_Vit√≥ria Casa: 0.0198
2025-12-03 18:07:22,584 - INFO -   f1_Vit√≥ria Casa: 0.0387
2025-12-03 18:07:22,584 - INFO -   precision_Vit√≥ria Visitante: 0.6277
2025-12-03 18:07:22,584 - INFO -   recall_Vit√≥ria Visitante: 0.1390
2025-12-03 18:07:22,584 - INFO -   f1_Vit√≥ria Visitante: 0.2276
2025-12-03 18:07:22,588 - INFO - 
Matriz de Confus√£o:
2025-12-03 18:07:22,592 - INFO - 
[[2603    4  101]
 [4823  101  176]
 [2884    9  467]]
2025-12-03 18:07:22,592 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 18:07:22,592 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 18:07:22,593 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 18:07:22,609 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.25      0.96      0.40      2708
     Vit√≥ria Casa       0.89      0.02      0.04      5100
Vit√≥ria Visitante       0.63      0.14      0.23      3360

         accuracy                           0.28     11168
        macro avg       0.59      0.37      0.22     11168
     weighted avg       0.65      0.28      0.18     11168

2025-12-03 18:07:22,621 - INFO - 
============================================================
2025-12-03 18:07:22,621 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 18:07:22,621 - INFO - ============================================================
2025-12-03 18:07:22,623 - INFO -   home_recent_draws: 0.0894
2025-12-03 18:07:22,623 - INFO -   points_difference: 0.0785
2025-12-03 18:07:22,624 - INFO -   away_recent_draws: 0.0750
2025-12-03 18:07:22,624 - INFO -   defense_difference: 0.0401
2025-12-03 18:07:22,624 - INFO -   away_recent_losses: 0.0365
2025-12-03 18:07:22,624 - INFO -   attack_difference: 0.0339
2025-12-03 18:07:22,624 - INFO -   away_losses: 0.0261
2025-12-03 18:07:22,624 - INFO -   form_difference: 0.0257
2025-12-03 18:07:22,625 - INFO -   home_recent_losses: 0.0255
2025-12-03 18:07:22,625 - INFO -   home_losses: 0.0248
2025-12-03 18:07:22,625 - INFO -   home_recent_wins: 0.0246
2025-12-03 18:07:22,625 - INFO -   home_goals_per_game: 0.0236
2025-12-03 18:07:22,625 - INFO -   away_goals_per_game: 0.0228
2025-12-03 18:07:22,625 - INFO -   home_goal_difference: 0.0227
2025-12-03 18:07:22,626 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 18:07:22,626 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 18:07:22,626 - INFO -   home_wins: 0.0224
2025-12-03 18:07:22,626 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 18:07:22,626 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 18:07:22,626 - INFO -   away_points: 0.0220
2025-12-03 18:07:22,627 - INFO - 
============================================================
2025-12-03 18:07:22,627 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 18:07:22,627 - INFO - ============================================================
2025-12-03 18:07:22,628 - INFO - 
De 2708 empates reais:
2025-12-03 18:07:22,628 - INFO -   ‚úì Acertou: 2603 (96.1%)
2025-12-03 18:07:22,629 - INFO -   ‚úó Previu V. Casa: 4 (0.1%)
2025-12-03 18:07:22,629 - INFO -   ‚úó Previu V. Visitante: 101 (3.7%)
2025-12-03 18:07:22,629 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 18:07:22,629 - INFO -   P(Empate): 0.753
2025-12-03 18:07:22,629 - INFO -   P(V. Casa): 0.069
2025-12-03 18:07:22,629 - INFO -   P(V. Visitante): 0.177
2025-12-03 18:07:22,648 - INFO - 
‚öôÔ∏è  Iniciando Otimiza√ß√£o do Limiar...
2025-12-03 18:07:22,649 - INFO - 
============================================================
2025-12-03 18:07:22,649 - INFO - INICIANDO OTIMIZA√á√ÉO DO LIMIAR (THRESHOLD)
2025-12-03 18:07:22,649 - INFO - ============================================================
2025-12-03 18:07:22,837 - INFO - ‚úÖ Otimiza√ß√£o conclu√≠da.
2025-12-03 18:07:22,837 - INFO - üéØ Melhor F1-Macro encontrado: 0.2722
2025-12-03 18:07:22,837 - INFO - üí° Limiar Ideal para Empate (Delta): 0.1000 (Original=0.3333)
2025-12-03 18:07:22,837 - INFO - 
============================================================
2025-12-03 18:07:22,837 - INFO - M√âTRICAS - Teste (Limiar Ajustado)
2025-12-03 18:07:22,837 - INFO - ============================================================
2025-12-03 18:07:22,838 - INFO - 
M√©tricas Gerais:
2025-12-03 18:07:22,838 - INFO -   accuracy: 0.3091
2025-12-03 18:07:22,838 - INFO -   precision_macro: 0.5338
2025-12-03 18:07:22,838 - INFO -   recall_macro: 0.3928
2025-12-03 18:07:22,838 - INFO -   f1_macro: 0.2722
2025-12-03 18:07:22,838 - INFO - 
M√©tricas por Classe:
2025-12-03 18:07:22,839 - INFO -   precision_Empate: 0.2578
2025-12-03 18:07:22,839 - INFO -   recall_Empate: 0.8892
2025-12-03 18:07:22,839 - INFO -   f1_Empate: 0.3997
2025-12-03 18:07:22,839 - INFO -   precision_Vit√≥ria Casa: 0.8130
2025-12-03 18:07:22,839 - INFO -   recall_Vit√≥ria Casa: 0.0418
2025-12-03 18:07:22,839 - INFO -   f1_Vit√≥ria Casa: 0.0794
2025-12-03 18:07:22,839 - INFO -   precision_Vit√≥ria Visitante: 0.5307
2025-12-03 18:07:22,839 - INFO -   recall_Vit√≥ria Visitante: 0.2473
2025-12-03 18:07:22,839 - INFO -   f1_Vit√≥ria Visitante: 0.3374
2025-12-03 18:07:22,843 - INFO - ‚úì Limiar salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\draw_threshold.json
2025-12-03 18:07:22,844 - INFO - 
================================================================================
2025-12-03 18:07:22,844 - INFO -                        RESULTADOS DA OTIMIZA√á√ÉO DE LIMIAR                       
2025-12-03 18:07:22,844 - INFO - ================================================================================
2025-12-03 18:07:22,844 - INFO - 
Resultado Padr√£o (F1-Macro): 0.2221
2025-12-03 18:07:22,844 - INFO - Resultado Ajustado (F1-Macro): 0.2722
2025-12-03 18:07:22,844 - INFO - Melhor Recall Empate: 88.92%
2025-12-03 18:07:59,185 - INFO - 
================================================================================
2025-12-03 18:07:59,185 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 18:07:59,186 - INFO - ================================================================================
2025-12-03 18:07:59,186 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 18:07:59,186 - INFO - ============================================================
2025-12-03 18:07:59,186 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 18:07:59,186 - INFO - ============================================================
2025-12-03 18:07:59,186 - INFO - 
--- Carregando dados base ---
2025-12-03 18:07:59,285 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 18:07:59,297 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 18:07:59,541 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 18:07:59,554 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 18:07:59,680 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 18:07:59,684 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 18:07:59,685 - INFO - ‚úì Status carregado: 19 status
2025-12-03 18:07:59,691 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 18:07:59,691 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 18:08:02,881 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 18:08:02,881 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 18:08:03,381 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 18:08:03,382 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 18:08:03,382 - INFO - 
============================================================
2025-12-03 18:08:03,382 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 18:08:03,382 - INFO - ============================================================
2025-12-03 18:08:03,382 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 18:08:03,383 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 18:08:03,383 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 18:08:03,383 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 18:08:03,894 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 18:08:03,895 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 18:08:03,895 - INFO -   Shape: (67065, 20)
2025-12-03 18:08:03,903 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 18:08:03,906 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:08:03,933 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:08:03,933 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 18:08:03,934 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 18:08:03,969 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 18:08:03,970 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 18:08:04,019 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 18:08:04,019 - INFO - Calculando BMI...
2025-12-03 18:08:04,311 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 18:08:04,311 - INFO - 
Qualidade de dados - Players:
2025-12-03 18:08:04,312 - INFO -   Shape: (64668, 28)
2025-12-03 18:08:04,430 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 18:08:04,457 - INFO -   Valores nulos:
2025-12-03 18:08:04,458 - INFO -     firstName: 49 (0.1%)
2025-12-03 18:08:04,458 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 18:08:04,458 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 18:08:04,458 - INFO -     fullName: 1 (0.0%)
2025-12-03 18:08:04,458 - INFO -     displayName: 1 (0.0%)
2025-12-03 18:08:04,458 - INFO -     shortName: 42 (0.1%)
2025-12-03 18:08:04,458 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 18:08:04,458 - INFO -     slug: 42 (0.1%)
2025-12-03 18:08:04,458 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 18:08:04,458 - INFO -     weight: 41 (0.1%)
2025-12-03 18:08:04,458 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 18:08:04,459 - INFO -     height: 41 (0.1%)
2025-12-03 18:08:04,459 - INFO -     age: 41 (0.1%)
2025-12-03 18:08:04,459 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 18:08:04,459 - INFO -     gender: 146 (0.2%)
2025-12-03 18:08:04,459 - INFO -     jersey: 41 (0.1%)
2025-12-03 18:08:04,459 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 18:08:04,459 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 18:08:04,459 - INFO -     positionName: 71 (0.1%)
2025-12-03 18:08:04,459 - INFO -     positionId: 41 (0.1%)
2025-12-03 18:08:04,459 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 18:08:04,459 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 18:08:04,459 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 18:08:04,459 - INFO -     timestamp: 41 (0.1%)
2025-12-03 18:08:04,460 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 18:08:04,460 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 18:08:04,460 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 18:08:04,537 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:08:04,537 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 18:08:04,538 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 18:08:04,539 - INFO - ‚úì Saldo de gols calculado
2025-12-03 18:08:04,539 - INFO - 
Qualidade de dados - Standings:
2025-12-03 18:08:04,539 - INFO -   Shape: (6069, 24)
2025-12-03 18:08:04,542 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 18:08:04,544 - INFO -   Valores nulos:
2025-12-03 18:08:04,544 - INFO -     gf: 34 (0.6%)
2025-12-03 18:08:04,544 - INFO -     ga: 34 (0.6%)
2025-12-03 18:08:04,545 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 18:08:04,545 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 18:08:04,545 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 18:08:04,545 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 18:08:04,545 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 18:08:04,545 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 18:08:04,548 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:08:04,549 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 18:08:04,550 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 18:08:04,552 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 18:08:04,552 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 18:08:04,552 - INFO -   Shape: (101978, 35)
2025-12-03 18:08:04,563 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 18:08:04,573 - INFO -   Valores nulos:
2025-12-03 18:08:04,573 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     saves: 46,152 (45.3%)
2025-12-03 18:08:04,574 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 18:08:04,575 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 18:08:04,576 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 18:08:04,576 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 18:08:04,640 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:08:04,641 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 18:08:04,658 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 18:08:04,658 - INFO -   (11,227 partidas removidas)
2025-12-03 18:08:04,658 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 18:08:04,658 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 18:08:04,707 - INFO - ‚úì Valores faltantes tratados
2025-12-03 18:08:04,708 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 18:08:04,708 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 18:08:04,740 - INFO - 
============================================================
2025-12-03 18:08:04,740 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 18:08:04,740 - INFO - ============================================================
2025-12-03 18:08:04,741 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 18:08:04,747 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 18:08:04,810 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 18:08:04,810 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 18:08:04,811 - INFO -   Distribui√ß√£o do target:
2025-12-03 18:08:04,811 - INFO -     Empate (0): 84,261
2025-12-03 18:08:04,812 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 18:08:04,812 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 18:08:04,813 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 18:08:05,277 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 18:08:05,278 - INFO - 
--- Adicionando features de performance ---
2025-12-03 18:08:21,065 - INFO - ‚úì Features de performance adicionadas
2025-12-03 18:08:21,086 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 18:09:02,283 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 18:09:02,295 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 18:09:49,721 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 18:09:49,962 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 18:09:50,298 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 18:09:50,299 - INFO - 
--- Limpando e validando ---
2025-12-03 18:10:10,635 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 18:10:10,914 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 18:10:10,916 - INFO -   Shape: (55838, 41)
2025-12-03 18:10:10,928 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 18:10:10,938 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:10:11,112 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:10:11,113 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 18:10:11,113 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 18:10:11,113 - INFO - Shape final: (55838, 41)
2025-12-03 18:10:11,114 - INFO - Features criadas: 32
2025-12-03 18:10:11,390 - INFO - ‚úì Features criadas: 41 colunas, 55,838 linhas
2025-12-03 18:10:11,390 - INFO - 
üîÑ ETAPA 3: Treinando modelo...
2025-12-03 18:10:11,393 - INFO - 
============================================================
2025-12-03 18:10:11,393 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 18:10:11,394 - INFO - ============================================================
2025-12-03 18:10:11,402 - INFO - Features utilizadas: 36
2025-12-03 18:10:11,403 - INFO - Total de amostras: 55,838
2025-12-03 18:10:11,403 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 18:10:11,404 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 18:10:11,405 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 18:10:11,405 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 18:10:11,507 - INFO - 
‚úì Dados divididos:
2025-12-03 18:10:11,507 - INFO -   Treino: 44,670 amostras
2025-12-03 18:10:11,507 - INFO -   Teste: 11,168 amostras
2025-12-03 18:10:11,508 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 18:10:11,508 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 18:10:16,490 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 18:10:16,491 - INFO -   Antes: 44,670 amostras
2025-12-03 18:10:16,491 - INFO -   Depois: 44,871 amostras
2025-12-03 18:10:16,491 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 18:10:16,492 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 18:10:16,493 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 18:10:16,493 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 18:10:16,534 - INFO - ‚úì Features normalizadas
2025-12-03 18:10:16,537 - INFO - 
--- Realizando valida√ß√£o cruzada ---
2025-12-03 18:10:27,123 - INFO - ‚úì Valida√ß√£o cruzada conclu√≠da:
2025-12-03 18:10:27,123 - INFO -   Scores (F1-Macro): ['0.4596', '0.4615', '0.4587', '0.5217', '0.5717']
2025-12-03 18:10:27,124 - INFO -   M√©dia: 0.4946 (+/- 0.0454)
2025-12-03 18:10:27,124 - INFO - 
============================================================
2025-12-03 18:10:27,124 - INFO - TREINANDO MODELO XGBOOST
2025-12-03 18:10:27,124 - INFO - ============================================================
2025-12-03 18:10:27,124 - INFO - 
Par√¢metros OTIMIZADOS do modelo:
2025-12-03 18:10:27,124 - INFO -   objective: multi:softmax
2025-12-03 18:10:27,124 - INFO -   num_class: 3
2025-12-03 18:10:27,124 - INFO -   max_depth: 7
2025-12-03 18:10:27,124 - INFO -   learning_rate: 0.05
2025-12-03 18:10:27,125 - INFO -   n_estimators: 300
2025-12-03 18:10:27,125 - INFO -   subsample: 0.8
2025-12-03 18:10:27,125 - INFO -   colsample_bytree: 0.8
2025-12-03 18:10:27,125 - INFO -   gamma: 0.1
2025-12-03 18:10:27,125 - INFO -   min_child_weight: 3
2025-12-03 18:10:27,125 - INFO -   random_state: 42
2025-12-03 18:10:27,125 - INFO -   eval_metric: mlogloss
2025-12-03 18:10:27,125 - INFO -   reg_alpha: 0.1
2025-12-03 18:10:27,125 - INFO -   reg_lambda: 1.0
2025-12-03 18:10:27,126 - INFO -   scale_pos_weight: 1.0
2025-12-03 18:10:27,126 - INFO - 
Iniciando treinamento...
2025-12-03 18:10:30,731 - INFO - ‚úì Treinamento conclu√≠do!
2025-12-03 18:10:30,731 - INFO - 
============================================================
2025-12-03 18:10:30,732 - INFO - AVALIANDO MODELO
2025-12-03 18:10:30,732 - INFO - ============================================================
2025-12-03 18:10:30,818 - INFO - 
============================================================
2025-12-03 18:10:30,819 - INFO - M√âTRICAS - Teste
2025-12-03 18:10:30,819 - INFO - ============================================================
2025-12-03 18:10:30,819 - INFO - 
M√©tricas Gerais:
2025-12-03 18:10:30,819 - INFO -   accuracy: 0.5163
2025-12-03 18:10:30,819 - INFO -   precision_macro: 0.4779
2025-12-03 18:10:30,819 - INFO -   recall_macro: 0.4762
2025-12-03 18:10:30,819 - INFO -   f1_macro: 0.4741
2025-12-03 18:10:30,819 - INFO -   precision_weighted: 0.5030
2025-12-03 18:10:30,820 - INFO -   recall_weighted: 0.5163
2025-12-03 18:10:30,820 - INFO -   f1_weighted: 0.5072
2025-12-03 18:10:30,820 - INFO - 
M√©tricas por Classe:
2025-12-03 18:10:30,820 - INFO -   precision_Empate: 0.3544
2025-12-03 18:10:30,820 - INFO -   recall_Empate: 0.2626
2025-12-03 18:10:30,820 - INFO -   f1_Empate: 0.3017
2025-12-03 18:10:30,820 - INFO -   precision_Vit√≥ria Casa: 0.5930
2025-12-03 18:10:30,820 - INFO -   recall_Vit√≥ria Casa: 0.6537
2025-12-03 18:10:30,821 - INFO -   f1_Vit√≥ria Casa: 0.6219
2025-12-03 18:10:30,821 - INFO -   precision_Vit√≥ria Visitante: 0.4862
2025-12-03 18:10:30,821 - INFO -   recall_Vit√≥ria Visitante: 0.5122
2025-12-03 18:10:30,821 - INFO -   f1_Vit√≥ria Visitante: 0.4988
2025-12-03 18:10:30,824 - INFO - 
Matriz de Confus√£o:
2025-12-03 18:10:30,825 - INFO - 
[[ 711 1201  796]
 [ 743 3334 1023]
 [ 552 1087 1721]]
2025-12-03 18:10:30,825 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 18:10:30,825 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 18:10:30,825 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 18:10:30,833 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.35      0.26      0.30      2708
     Vit√≥ria Casa       0.59      0.65      0.62      5100
Vit√≥ria Visitante       0.49      0.51      0.50      3360

         accuracy                           0.52     11168
        macro avg       0.48      0.48      0.47     11168
     weighted avg       0.50      0.52      0.51     11168

2025-12-03 18:10:30,838 - INFO - 
============================================================
2025-12-03 18:10:30,838 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 18:10:30,838 - INFO - ============================================================
2025-12-03 18:10:30,839 - INFO -   home_recent_draws: 0.0894
2025-12-03 18:10:30,839 - INFO -   points_difference: 0.0785
2025-12-03 18:10:30,840 - INFO -   away_recent_draws: 0.0750
2025-12-03 18:10:30,840 - INFO -   defense_difference: 0.0401
2025-12-03 18:10:30,840 - INFO -   away_recent_losses: 0.0365
2025-12-03 18:10:30,840 - INFO -   attack_difference: 0.0339
2025-12-03 18:10:30,840 - INFO -   away_losses: 0.0261
2025-12-03 18:10:30,841 - INFO -   form_difference: 0.0257
2025-12-03 18:10:30,841 - INFO -   home_recent_losses: 0.0255
2025-12-03 18:10:30,841 - INFO -   home_losses: 0.0248
2025-12-03 18:10:30,841 - INFO -   home_recent_wins: 0.0246
2025-12-03 18:10:30,841 - INFO -   home_goals_per_game: 0.0236
2025-12-03 18:10:30,842 - INFO -   away_goals_per_game: 0.0228
2025-12-03 18:10:30,842 - INFO -   home_goal_difference: 0.0227
2025-12-03 18:10:30,842 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 18:10:30,842 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 18:10:30,842 - INFO -   home_wins: 0.0224
2025-12-03 18:10:30,843 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 18:10:30,843 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 18:10:30,843 - INFO -   away_points: 0.0220
2025-12-03 18:10:30,843 - INFO - 
============================================================
2025-12-03 18:10:30,843 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 18:10:30,843 - INFO - ============================================================
2025-12-03 18:10:30,844 - INFO - 
De 2708 empates reais:
2025-12-03 18:10:30,844 - INFO -   ‚úì Acertou: 711 (26.3%)
2025-12-03 18:10:30,844 - INFO -   ‚úó Previu V. Casa: 1201 (44.4%)
2025-12-03 18:10:30,844 - INFO -   ‚úó Previu V. Visitante: 796 (29.4%)
2025-12-03 18:10:30,845 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 18:10:30,845 - INFO -   P(Empate): 0.313
2025-12-03 18:10:30,845 - INFO -   P(V. Casa): 0.369
2025-12-03 18:10:30,845 - INFO -   P(V. Visitante): 0.319
2025-12-03 18:10:30,849 - INFO - 
--- Salvando modelo ---
2025-12-03 18:10:30,988 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 18:10:30,989 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 18:10:30,990 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 18:10:30,990 - INFO - 
============================================================
2025-12-03 18:10:30,990 - INFO - TREINAMENTO CONCLU√çDO COM SUCESSO!
2025-12-03 18:10:30,990 - INFO - ============================================================
2025-12-03 18:10:30,991 - INFO - 
üìä M√©tricas Finais:
2025-12-03 18:10:30,991 - INFO -   Acur√°cia: 51.63%
2025-12-03 18:10:30,991 - INFO -   F1-Macro: 0.4741
2025-12-03 18:10:30,991 - INFO -   F1-Empate: 0.3017
2025-12-03 18:10:30,991 - INFO -   Recall-Empate: 26.26%
2025-12-03 18:10:30,991 - INFO - ‚úì Modelo treinado com acur√°cia: 0.5163
2025-12-03 18:10:30,991 - INFO - 
================================================================================
2025-12-03 18:10:30,991 - INFO -                              TREINAMENTO CONCLU√çDO                              
2025-12-03 18:10:30,991 - INFO - ================================================================================
2025-12-03 18:10:30,991 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 18:10:30,992 - INFO - ‚è±Ô∏è  Tempo total: 2m 31s
2025-12-03 18:10:30,992 - INFO - üìä Acur√°cia final: 51.63%
2025-12-03 18:10:30,992 - INFO - üìÅ Modelo salvo em: models/
2025-12-03 18:17:15,109 - INFO - 
================================================================================
2025-12-03 18:17:15,110 - INFO -                               PIPELINE DE PREDI√á√ÉO                              
2025-12-03 18:17:15,110 - INFO - ================================================================================
2025-12-03 18:17:15,110 - INFO - 
üìÇ Carregando modelo treinado...
2025-12-03 18:17:15,110 - INFO - Carregando modelo para predi√ß√£o...
2025-12-03 18:17:15,110 - INFO - 
--- Carregando modelo ---
2025-12-03 18:17:15,484 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 18:17:15,485 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 18:17:15,486 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 18:17:15,486 - INFO - ‚úì Modelo carregado e pronto para predi√ß√£o
2025-12-03 18:17:15,486 - INFO - 
‚úì Modelo carregado e pronto para predi√ß√µes!
2025-12-03 18:17:15,487 - INFO - 
üí° Para fazer uma predi√ß√£o, use:
2025-12-03 18:17:15,487 - INFO -    python main.py --mode predict --home_team <ID> --away_team <ID>
2025-12-03 18:19:27,891 - INFO - 
================================================================================
2025-12-03 18:19:27,891 - INFO -                              PIPELINE DE AVALIA√á√ÉO                              
2025-12-03 18:19:27,891 - INFO - ================================================================================
2025-12-03 18:19:27,891 - INFO - 
üìÇ Carregando modelo...
2025-12-03 18:19:27,891 - INFO - 
--- Carregando modelo ---
2025-12-03 18:19:28,278 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 18:19:28,278 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 18:19:28,279 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 18:19:28,279 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 18:19:28,279 - INFO - 
üìä Carregando dados de teste...
2025-12-03 18:19:28,279 - INFO - ============================================================
2025-12-03 18:19:28,279 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 18:19:28,279 - INFO - ============================================================
2025-12-03 18:19:28,279 - INFO - 
--- Carregando dados base ---
2025-12-03 18:19:28,389 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 18:19:28,404 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 18:19:28,641 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 18:19:28,655 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 18:19:28,787 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 18:19:28,791 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 18:19:28,793 - INFO - ‚úì Status carregado: 19 status
2025-12-03 18:19:28,801 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 18:19:28,801 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 18:19:32,201 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 18:19:32,202 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 18:19:32,786 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 18:19:32,786 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 18:19:32,786 - INFO - 
============================================================
2025-12-03 18:19:32,786 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 18:19:32,786 - INFO - ============================================================
2025-12-03 18:19:32,787 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 18:19:32,787 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 18:19:32,787 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 18:19:32,787 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 18:19:33,335 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 18:19:33,335 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 18:19:33,335 - INFO -   Shape: (67065, 20)
2025-12-03 18:19:33,343 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 18:19:33,347 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:19:33,375 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:19:33,375 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 18:19:33,376 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 18:19:33,408 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 18:19:33,408 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 18:19:33,457 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 18:19:33,457 - INFO - Calculando BMI...
2025-12-03 18:19:33,764 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 18:19:33,765 - INFO - 
Qualidade de dados - Players:
2025-12-03 18:19:33,765 - INFO -   Shape: (64668, 28)
2025-12-03 18:19:33,885 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 18:19:33,916 - INFO -   Valores nulos:
2025-12-03 18:19:33,916 - INFO -     firstName: 49 (0.1%)
2025-12-03 18:19:33,917 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 18:19:33,917 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 18:19:33,917 - INFO -     fullName: 1 (0.0%)
2025-12-03 18:19:33,917 - INFO -     displayName: 1 (0.0%)
2025-12-03 18:19:33,918 - INFO -     shortName: 42 (0.1%)
2025-12-03 18:19:33,918 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 18:19:33,918 - INFO -     slug: 42 (0.1%)
2025-12-03 18:19:33,918 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 18:19:33,918 - INFO -     weight: 41 (0.1%)
2025-12-03 18:19:33,918 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 18:19:33,918 - INFO -     height: 41 (0.1%)
2025-12-03 18:19:33,918 - INFO -     age: 41 (0.1%)
2025-12-03 18:19:33,919 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 18:19:33,919 - INFO -     gender: 146 (0.2%)
2025-12-03 18:19:33,919 - INFO -     jersey: 41 (0.1%)
2025-12-03 18:19:33,919 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 18:19:33,919 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 18:19:33,919 - INFO -     positionName: 71 (0.1%)
2025-12-03 18:19:33,919 - INFO -     positionId: 41 (0.1%)
2025-12-03 18:19:33,919 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 18:19:33,919 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 18:19:33,919 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 18:19:33,919 - INFO -     timestamp: 41 (0.1%)
2025-12-03 18:19:33,920 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 18:19:33,920 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 18:19:33,920 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 18:19:33,999 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:19:33,999 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 18:19:34,001 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 18:19:34,002 - INFO - ‚úì Saldo de gols calculado
2025-12-03 18:19:34,002 - INFO - 
Qualidade de dados - Standings:
2025-12-03 18:19:34,002 - INFO -   Shape: (6069, 24)
2025-12-03 18:19:34,005 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 18:19:34,007 - INFO -   Valores nulos:
2025-12-03 18:19:34,007 - INFO -     gf: 34 (0.6%)
2025-12-03 18:19:34,007 - INFO -     ga: 34 (0.6%)
2025-12-03 18:19:34,007 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 18:19:34,008 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 18:19:34,008 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 18:19:34,008 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 18:19:34,008 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 18:19:34,008 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 18:19:34,012 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:19:34,012 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 18:19:34,013 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 18:19:34,014 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 18:19:34,015 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 18:19:34,015 - INFO -   Shape: (101978, 35)
2025-12-03 18:19:34,026 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 18:19:34,034 - INFO -   Valores nulos:
2025-12-03 18:19:34,035 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 18:19:34,035 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 18:19:34,035 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 18:19:34,036 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 18:19:34,036 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 18:19:34,036 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 18:19:34,036 - INFO -     saves: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 18:19:34,037 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 18:19:34,038 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 18:19:34,038 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 18:19:34,096 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:19:34,097 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 18:19:34,113 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 18:19:34,113 - INFO -   (11,227 partidas removidas)
2025-12-03 18:19:34,113 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 18:19:34,113 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 18:19:34,174 - INFO - ‚úì Valores faltantes tratados
2025-12-03 18:19:34,210 - INFO - 
============================================================
2025-12-03 18:19:34,211 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 18:19:34,211 - INFO - ============================================================
2025-12-03 18:19:34,211 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 18:19:34,216 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 18:19:34,287 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 18:19:34,287 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 18:19:34,288 - INFO -   Distribui√ß√£o do target:
2025-12-03 18:19:34,288 - INFO -     Empate (0): 84,261
2025-12-03 18:19:34,289 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 18:19:34,290 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 18:19:34,290 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 18:19:34,899 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 18:19:34,899 - INFO - 
--- Adicionando features de performance ---
2025-12-03 18:20:01,028 - INFO - ‚úì Features de performance adicionadas
2025-12-03 18:20:01,037 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 18:20:40,237 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 18:20:40,244 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 18:21:27,718 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 18:21:28,146 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 18:21:28,537 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 18:21:28,542 - INFO - 
--- Limpando e validando ---
2025-12-03 18:21:59,785 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 18:22:00,065 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 18:22:00,067 - INFO -   Shape: (55838, 41)
2025-12-03 18:22:00,112 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 18:22:00,118 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:22:00,193 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:22:00,193 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 18:22:00,194 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 18:22:00,194 - INFO - Shape final: (55838, 41)
2025-12-03 18:22:00,194 - INFO - Features criadas: 32
2025-12-03 18:22:00,311 - INFO - 
============================================================
2025-12-03 18:22:00,312 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 18:22:00,312 - INFO - ============================================================
2025-12-03 18:22:00,323 - INFO - Features utilizadas: 36
2025-12-03 18:22:00,323 - INFO - Total de amostras: 55,838
2025-12-03 18:22:00,324 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 18:22:00,325 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 18:22:00,326 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 18:22:00,326 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 18:22:00,422 - INFO - 
‚úì Dados divididos:
2025-12-03 18:22:00,422 - INFO -   Treino: 44,670 amostras
2025-12-03 18:22:00,423 - INFO -   Teste: 11,168 amostras
2025-12-03 18:22:00,451 - INFO - ‚úì Features normalizadas
2025-12-03 18:22:00,453 - INFO - 
üîç Avaliando modelo (Limiar Padr√£o)...
2025-12-03 18:22:00,453 - INFO - 
============================================================
2025-12-03 18:22:00,454 - INFO - AVALIANDO MODELO
2025-12-03 18:22:00,454 - INFO - ============================================================
2025-12-03 18:22:00,707 - INFO - 
============================================================
2025-12-03 18:22:00,707 - INFO - M√âTRICAS - Teste
2025-12-03 18:22:00,708 - INFO - ============================================================
2025-12-03 18:22:00,708 - INFO - 
M√©tricas Gerais:
2025-12-03 18:22:00,708 - INFO -   accuracy: 0.2839
2025-12-03 18:22:00,708 - INFO -   precision_macro: 0.5887
2025-12-03 18:22:00,708 - INFO -   recall_macro: 0.3733
2025-12-03 18:22:00,708 - INFO -   f1_macro: 0.2221
2025-12-03 18:22:00,708 - INFO -   precision_weighted: 0.6547
2025-12-03 18:22:00,708 - INFO -   recall_weighted: 0.2839
2025-12-03 18:22:00,708 - INFO -   f1_weighted: 0.1831
2025-12-03 18:22:00,709 - INFO - 
M√©tricas por Classe:
2025-12-03 18:22:00,709 - INFO -   precision_Empate: 0.2525
2025-12-03 18:22:00,709 - INFO -   recall_Empate: 0.9612
2025-12-03 18:22:00,709 - INFO -   f1_Empate: 0.3999
2025-12-03 18:22:00,709 - INFO -   precision_Vit√≥ria Casa: 0.8860
2025-12-03 18:22:00,709 - INFO -   recall_Vit√≥ria Casa: 0.0198
2025-12-03 18:22:00,709 - INFO -   f1_Vit√≥ria Casa: 0.0387
2025-12-03 18:22:00,709 - INFO -   precision_Vit√≥ria Visitante: 0.6277
2025-12-03 18:22:00,709 - INFO -   recall_Vit√≥ria Visitante: 0.1390
2025-12-03 18:22:00,709 - INFO -   f1_Vit√≥ria Visitante: 0.2276
2025-12-03 18:22:00,721 - INFO - 
Matriz de Confus√£o:
2025-12-03 18:22:00,729 - INFO - 
[[2603    4  101]
 [4823  101  176]
 [2884    9  467]]
2025-12-03 18:22:00,729 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 18:22:00,729 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 18:22:00,729 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 18:22:00,755 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.25      0.96      0.40      2708
     Vit√≥ria Casa       0.89      0.02      0.04      5100
Vit√≥ria Visitante       0.63      0.14      0.23      3360

         accuracy                           0.28     11168
        macro avg       0.59      0.37      0.22     11168
     weighted avg       0.65      0.28      0.18     11168

2025-12-03 18:22:00,846 - INFO - 
============================================================
2025-12-03 18:22:00,846 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 18:22:00,847 - INFO - ============================================================
2025-12-03 18:22:00,847 - INFO -   home_recent_draws: 0.0894
2025-12-03 18:22:00,848 - INFO -   points_difference: 0.0785
2025-12-03 18:22:00,848 - INFO -   away_recent_draws: 0.0750
2025-12-03 18:22:00,848 - INFO -   defense_difference: 0.0401
2025-12-03 18:22:00,849 - INFO -   away_recent_losses: 0.0365
2025-12-03 18:22:00,849 - INFO -   attack_difference: 0.0339
2025-12-03 18:22:00,849 - INFO -   away_losses: 0.0261
2025-12-03 18:22:00,849 - INFO -   form_difference: 0.0257
2025-12-03 18:22:00,849 - INFO -   home_recent_losses: 0.0255
2025-12-03 18:22:00,853 - INFO -   home_losses: 0.0248
2025-12-03 18:22:00,853 - INFO -   home_recent_wins: 0.0246
2025-12-03 18:22:00,854 - INFO -   home_goals_per_game: 0.0236
2025-12-03 18:22:00,854 - INFO -   away_goals_per_game: 0.0228
2025-12-03 18:22:00,854 - INFO -   home_goal_difference: 0.0227
2025-12-03 18:22:00,854 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 18:22:00,854 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 18:22:00,854 - INFO -   home_wins: 0.0224
2025-12-03 18:22:00,854 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 18:22:00,855 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 18:22:00,855 - INFO -   away_points: 0.0220
2025-12-03 18:22:00,855 - INFO - 
============================================================
2025-12-03 18:22:00,855 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 18:22:00,855 - INFO - ============================================================
2025-12-03 18:22:00,870 - INFO - 
De 2708 empates reais:
2025-12-03 18:22:00,871 - INFO -   ‚úì Acertou: 2603 (96.1%)
2025-12-03 18:22:00,871 - INFO -   ‚úó Previu V. Casa: 4 (0.1%)
2025-12-03 18:22:00,871 - INFO -   ‚úó Previu V. Visitante: 101 (3.7%)
2025-12-03 18:22:00,871 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 18:22:00,871 - INFO -   P(Empate): 0.753
2025-12-03 18:22:00,871 - INFO -   P(V. Casa): 0.069
2025-12-03 18:22:00,871 - INFO -   P(V. Visitante): 0.177
2025-12-03 18:22:01,059 - INFO - 
‚öôÔ∏è  Iniciando Otimiza√ß√£o do Limiar...
2025-12-03 18:22:01,060 - INFO - 
============================================================
2025-12-03 18:22:01,060 - INFO - INICIANDO OTIMIZA√á√ÉO DO LIMIAR (THRESHOLD)
2025-12-03 18:22:01,060 - INFO - ============================================================
2025-12-03 18:22:01,302 - INFO - ‚úÖ Otimiza√ß√£o conclu√≠da.
2025-12-03 18:22:01,302 - INFO - üéØ Melhor F1-Macro encontrado: 0.2722
2025-12-03 18:22:01,302 - INFO - üí° Limiar Ideal para Empate (Delta): 0.1000 (Original=0.3333)
2025-12-03 18:22:01,304 - INFO - 
============================================================
2025-12-03 18:22:01,304 - INFO - M√âTRICAS - Teste (Limiar Ajustado)
2025-12-03 18:22:01,304 - INFO - ============================================================
2025-12-03 18:22:01,305 - INFO - 
M√©tricas Gerais:
2025-12-03 18:22:01,305 - INFO -   accuracy: 0.3091
2025-12-03 18:22:01,305 - INFO -   precision_macro: 0.5338
2025-12-03 18:22:01,305 - INFO -   recall_macro: 0.3928
2025-12-03 18:22:01,305 - INFO -   f1_macro: 0.2722
2025-12-03 18:22:01,305 - INFO - 
M√©tricas por Classe:
2025-12-03 18:22:01,305 - INFO -   precision_Empate: 0.2578
2025-12-03 18:22:01,305 - INFO -   recall_Empate: 0.8892
2025-12-03 18:22:01,305 - INFO -   f1_Empate: 0.3997
2025-12-03 18:22:01,306 - INFO -   precision_Vit√≥ria Casa: 0.8130
2025-12-03 18:22:01,306 - INFO -   recall_Vit√≥ria Casa: 0.0418
2025-12-03 18:22:01,306 - INFO -   f1_Vit√≥ria Casa: 0.0794
2025-12-03 18:22:01,306 - INFO -   precision_Vit√≥ria Visitante: 0.5307
2025-12-03 18:22:01,306 - INFO -   recall_Vit√≥ria Visitante: 0.2473
2025-12-03 18:22:01,306 - INFO -   f1_Vit√≥ria Visitante: 0.3374
2025-12-03 18:22:01,337 - INFO - ‚úì Limiar salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\draw_threshold.json
2025-12-03 18:22:01,337 - INFO - 
================================================================================
2025-12-03 18:22:01,337 - INFO -                        RESULTADOS DA OTIMIZA√á√ÉO DE LIMIAR                       
2025-12-03 18:22:01,338 - INFO - ================================================================================
2025-12-03 18:22:01,338 - INFO - 
Resultado Padr√£o (F1-Macro): 0.2221
2025-12-03 18:22:01,338 - INFO - Resultado Ajustado (F1-Macro): 0.2722
2025-12-03 18:22:01,338 - INFO - Melhor Recall Empate: 88.92%
2025-12-03 18:24:11,487 - INFO - 
================================================================================
2025-12-03 18:24:11,488 - INFO -                              PIPELINE DE AVALIA√á√ÉO                              
2025-12-03 18:24:11,488 - INFO - ================================================================================
2025-12-03 18:24:11,488 - INFO - 
üìÇ Carregando modelo...
2025-12-03 18:24:11,488 - INFO - 
--- Carregando modelo ---
2025-12-03 18:24:12,080 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 18:24:12,081 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 18:24:12,081 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 18:24:12,082 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 18:24:12,082 - INFO - 
üìä Carregando dados de teste...
2025-12-03 18:24:12,082 - INFO - ============================================================
2025-12-03 18:24:12,082 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 18:24:12,082 - INFO - ============================================================
2025-12-03 18:24:12,082 - INFO - 
--- Carregando dados base ---
2025-12-03 18:24:12,181 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 18:24:12,193 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 18:24:12,399 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 18:24:12,413 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 18:24:12,530 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 18:24:12,534 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 18:24:12,536 - INFO - ‚úì Status carregado: 19 status
2025-12-03 18:24:12,542 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 18:24:12,542 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 18:24:15,419 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 18:24:15,420 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 18:24:15,908 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 18:24:15,908 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 18:24:15,908 - INFO - 
============================================================
2025-12-03 18:24:15,908 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 18:24:15,908 - INFO - ============================================================
2025-12-03 18:24:15,909 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 18:24:15,909 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 18:24:15,909 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 18:24:15,909 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 18:24:16,404 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 18:24:16,404 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 18:24:16,405 - INFO -   Shape: (67065, 20)
2025-12-03 18:24:16,411 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 18:24:16,414 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:24:16,441 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:24:16,442 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 18:24:16,442 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 18:24:16,475 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 18:24:16,475 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 18:24:16,518 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 18:24:16,519 - INFO - Calculando BMI...
2025-12-03 18:24:16,793 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 18:24:16,794 - INFO - 
Qualidade de dados - Players:
2025-12-03 18:24:16,794 - INFO -   Shape: (64668, 28)
2025-12-03 18:24:16,905 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 18:24:16,933 - INFO -   Valores nulos:
2025-12-03 18:24:16,933 - INFO -     firstName: 49 (0.1%)
2025-12-03 18:24:16,934 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 18:24:16,934 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 18:24:16,934 - INFO -     fullName: 1 (0.0%)
2025-12-03 18:24:16,934 - INFO -     displayName: 1 (0.0%)
2025-12-03 18:24:16,934 - INFO -     shortName: 42 (0.1%)
2025-12-03 18:24:16,934 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 18:24:16,934 - INFO -     slug: 42 (0.1%)
2025-12-03 18:24:16,934 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 18:24:16,934 - INFO -     weight: 41 (0.1%)
2025-12-03 18:24:16,934 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 18:24:16,935 - INFO -     height: 41 (0.1%)
2025-12-03 18:24:16,935 - INFO -     age: 41 (0.1%)
2025-12-03 18:24:16,935 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 18:24:16,935 - INFO -     gender: 146 (0.2%)
2025-12-03 18:24:16,935 - INFO -     jersey: 41 (0.1%)
2025-12-03 18:24:16,935 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 18:24:16,935 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 18:24:16,935 - INFO -     positionName: 71 (0.1%)
2025-12-03 18:24:16,935 - INFO -     positionId: 41 (0.1%)
2025-12-03 18:24:16,935 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 18:24:16,935 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 18:24:16,935 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 18:24:16,936 - INFO -     timestamp: 41 (0.1%)
2025-12-03 18:24:16,936 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 18:24:16,936 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 18:24:16,936 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 18:24:17,011 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:24:17,011 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 18:24:17,013 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 18:24:17,013 - INFO - ‚úì Saldo de gols calculado
2025-12-03 18:24:17,014 - INFO - 
Qualidade de dados - Standings:
2025-12-03 18:24:17,014 - INFO -   Shape: (6069, 24)
2025-12-03 18:24:17,017 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 18:24:17,018 - INFO -   Valores nulos:
2025-12-03 18:24:17,018 - INFO -     gf: 34 (0.6%)
2025-12-03 18:24:17,018 - INFO -     ga: 34 (0.6%)
2025-12-03 18:24:17,019 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 18:24:17,019 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 18:24:17,019 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 18:24:17,019 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 18:24:17,020 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 18:24:17,020 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 18:24:17,023 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:24:17,023 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 18:24:17,024 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 18:24:17,025 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 18:24:17,026 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 18:24:17,026 - INFO -   Shape: (101978, 35)
2025-12-03 18:24:17,037 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 18:24:17,044 - INFO -   Valores nulos:
2025-12-03 18:24:17,045 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 18:24:17,045 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 18:24:17,045 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 18:24:17,045 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 18:24:17,045 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 18:24:17,045 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 18:24:17,045 - INFO -     saves: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 18:24:17,046 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 18:24:17,047 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 18:24:17,047 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 18:24:17,047 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 18:24:17,048 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 18:24:17,049 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 18:24:17,049 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 18:24:17,103 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:24:17,103 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 18:24:17,117 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 18:24:17,117 - INFO -   (11,227 partidas removidas)
2025-12-03 18:24:17,117 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 18:24:17,117 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 18:24:17,166 - INFO - ‚úì Valores faltantes tratados
2025-12-03 18:24:17,197 - INFO - 
============================================================
2025-12-03 18:24:17,197 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 18:24:17,197 - INFO - ============================================================
2025-12-03 18:24:17,197 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 18:24:17,202 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 18:24:17,259 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 18:24:17,259 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 18:24:17,259 - INFO -   Distribui√ß√£o do target:
2025-12-03 18:24:17,260 - INFO -     Empate (0): 84,261
2025-12-03 18:24:17,260 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 18:24:17,261 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 18:24:17,261 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 18:24:17,732 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 18:24:17,733 - INFO - 
--- Adicionando features de performance ---
2025-12-03 18:24:32,828 - INFO - ‚úì Features de performance adicionadas
2025-12-03 18:24:32,833 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 18:25:09,915 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 18:25:09,927 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 18:25:58,163 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 18:25:58,389 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 18:25:58,735 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 18:25:58,736 - INFO - 
--- Limpando e validando ---
2025-12-03 18:26:17,740 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 18:26:18,177 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 18:26:18,177 - INFO -   Shape: (55838, 41)
2025-12-03 18:26:18,197 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 18:26:18,241 - INFO -   ‚úì Sem valores nulos
2025-12-03 18:26:18,387 - INFO -   ‚úì Sem duplicatas
2025-12-03 18:26:18,388 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 18:26:18,388 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 18:26:18,389 - INFO - Shape final: (55838, 41)
2025-12-03 18:26:18,389 - INFO - Features criadas: 32
2025-12-03 18:26:18,986 - INFO - 
============================================================
2025-12-03 18:26:18,987 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 18:26:18,987 - INFO - ============================================================
2025-12-03 18:26:18,995 - INFO - Features utilizadas: 36
2025-12-03 18:26:18,995 - INFO - Total de amostras: 55,838
2025-12-03 18:26:18,996 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 18:26:18,997 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 18:26:18,997 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 18:26:18,997 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 18:26:19,091 - INFO - 
‚úì Dados divididos:
2025-12-03 18:26:19,091 - INFO -   Treino: 44,670 amostras
2025-12-03 18:26:19,091 - INFO -   Teste: 11,168 amostras
2025-12-03 18:26:19,091 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 18:26:19,091 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 18:26:23,728 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 18:26:23,729 - INFO -   Antes: 44,670 amostras
2025-12-03 18:26:23,729 - INFO -   Depois: 44,871 amostras
2025-12-03 18:26:23,729 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 18:26:23,730 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 18:26:23,730 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 18:26:23,731 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 18:26:23,760 - INFO - ‚úì Features normalizadas
2025-12-03 18:26:23,764 - INFO - 
üîç Avaliando modelo (Limiar Padr√£o)...
2025-12-03 18:26:23,764 - INFO - 
============================================================
2025-12-03 18:26:23,764 - INFO - AVALIANDO MODELO
2025-12-03 18:26:23,764 - INFO - ============================================================
2025-12-03 18:26:23,979 - INFO - 
============================================================
2025-12-03 18:26:23,979 - INFO - M√âTRICAS - Teste
2025-12-03 18:26:23,979 - INFO - ============================================================
2025-12-03 18:26:23,980 - INFO - 
M√©tricas Gerais:
2025-12-03 18:26:23,980 - INFO -   accuracy: 0.5163
2025-12-03 18:26:23,980 - INFO -   precision_macro: 0.4779
2025-12-03 18:26:23,980 - INFO -   recall_macro: 0.4762
2025-12-03 18:26:23,980 - INFO -   f1_macro: 0.4741
2025-12-03 18:26:23,980 - INFO -   precision_weighted: 0.5030
2025-12-03 18:26:23,980 - INFO -   recall_weighted: 0.5163
2025-12-03 18:26:23,980 - INFO -   f1_weighted: 0.5072
2025-12-03 18:26:23,980 - INFO - 
M√©tricas por Classe:
2025-12-03 18:26:23,981 - INFO -   precision_Empate: 0.3544
2025-12-03 18:26:23,981 - INFO -   recall_Empate: 0.2626
2025-12-03 18:26:23,981 - INFO -   f1_Empate: 0.3017
2025-12-03 18:26:23,981 - INFO -   precision_Vit√≥ria Casa: 0.5930
2025-12-03 18:26:23,981 - INFO -   recall_Vit√≥ria Casa: 0.6537
2025-12-03 18:26:23,981 - INFO -   f1_Vit√≥ria Casa: 0.6219
2025-12-03 18:26:23,981 - INFO -   precision_Vit√≥ria Visitante: 0.4862
2025-12-03 18:26:23,981 - INFO -   recall_Vit√≥ria Visitante: 0.5122
2025-12-03 18:26:23,981 - INFO -   f1_Vit√≥ria Visitante: 0.4988
2025-12-03 18:26:23,984 - INFO - 
Matriz de Confus√£o:
2025-12-03 18:26:23,985 - INFO - 
[[ 711 1201  796]
 [ 743 3334 1023]
 [ 552 1087 1721]]
2025-12-03 18:26:23,985 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 18:26:23,985 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 18:26:23,985 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 18:26:23,992 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.35      0.26      0.30      2708
     Vit√≥ria Casa       0.59      0.65      0.62      5100
Vit√≥ria Visitante       0.49      0.51      0.50      3360

         accuracy                           0.52     11168
        macro avg       0.48      0.48      0.47     11168
     weighted avg       0.50      0.52      0.51     11168

2025-12-03 18:26:24,001 - INFO - 
============================================================
2025-12-03 18:26:24,001 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 18:26:24,001 - INFO - ============================================================
2025-12-03 18:26:24,002 - INFO -   home_recent_draws: 0.0894
2025-12-03 18:26:24,002 - INFO -   points_difference: 0.0785
2025-12-03 18:26:24,002 - INFO -   away_recent_draws: 0.0750
2025-12-03 18:26:24,003 - INFO -   defense_difference: 0.0401
2025-12-03 18:26:24,003 - INFO -   away_recent_losses: 0.0365
2025-12-03 18:26:24,003 - INFO -   attack_difference: 0.0339
2025-12-03 18:26:24,003 - INFO -   away_losses: 0.0261
2025-12-03 18:26:24,003 - INFO -   form_difference: 0.0257
2025-12-03 18:26:24,003 - INFO -   home_recent_losses: 0.0255
2025-12-03 18:26:24,003 - INFO -   home_losses: 0.0248
2025-12-03 18:26:24,004 - INFO -   home_recent_wins: 0.0246
2025-12-03 18:26:24,004 - INFO -   home_goals_per_game: 0.0236
2025-12-03 18:26:24,004 - INFO -   away_goals_per_game: 0.0228
2025-12-03 18:26:24,004 - INFO -   home_goal_difference: 0.0227
2025-12-03 18:26:24,004 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 18:26:24,004 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 18:26:24,005 - INFO -   home_wins: 0.0224
2025-12-03 18:26:24,005 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 18:26:24,005 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 18:26:24,005 - INFO -   away_points: 0.0220
2025-12-03 18:26:24,005 - INFO - 
============================================================
2025-12-03 18:26:24,005 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 18:26:24,005 - INFO - ============================================================
2025-12-03 18:26:24,006 - INFO - 
De 2708 empates reais:
2025-12-03 18:26:24,006 - INFO -   ‚úì Acertou: 711 (26.3%)
2025-12-03 18:26:24,006 - INFO -   ‚úó Previu V. Casa: 1201 (44.4%)
2025-12-03 18:26:24,006 - INFO -   ‚úó Previu V. Visitante: 796 (29.4%)
2025-12-03 18:26:24,007 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 18:26:24,007 - INFO -   P(Empate): 0.313
2025-12-03 18:26:24,007 - INFO -   P(V. Casa): 0.369
2025-12-03 18:26:24,007 - INFO -   P(V. Visitante): 0.319
2025-12-03 18:26:24,021 - INFO - 
‚öôÔ∏è  Iniciando Otimiza√ß√£o do Limiar...
2025-12-03 18:26:24,022 - INFO - 
============================================================
2025-12-03 18:26:24,022 - INFO - INICIANDO OTIMIZA√á√ÉO DO LIMIAR (THRESHOLD)
2025-12-03 18:26:24,022 - INFO - ============================================================
2025-12-03 18:26:24,364 - INFO - ‚úÖ Otimiza√ß√£o conclu√≠da.
2025-12-03 18:26:24,364 - INFO - üéØ Melhor F1-Macro encontrado: 0.4772
2025-12-03 18:26:24,364 - INFO - üí° Limiar Ideal para Empate (Delta): 0.3600 (Original=0.3333)
2025-12-03 18:26:24,364 - INFO - 
============================================================
2025-12-03 18:26:24,365 - INFO - M√âTRICAS - Teste (Limiar Ajustado)
2025-12-03 18:26:24,365 - INFO - ============================================================
2025-12-03 18:26:24,365 - INFO - 
M√©tricas Gerais:
2025-12-03 18:26:24,365 - INFO -   accuracy: 0.5110
2025-12-03 18:26:24,365 - INFO -   precision_macro: 0.4782
2025-12-03 18:26:24,366 - INFO -   recall_macro: 0.4773
2025-12-03 18:26:24,366 - INFO -   f1_macro: 0.4772
2025-12-03 18:26:24,366 - INFO - 
M√©tricas por Classe:
2025-12-03 18:26:24,366 - INFO -   precision_Empate: 0.3449
2025-12-03 18:26:24,366 - INFO -   recall_Empate: 0.3087
2025-12-03 18:26:24,366 - INFO -   f1_Empate: 0.3258
2025-12-03 18:26:24,366 - INFO -   precision_Vit√≥ria Casa: 0.5982
2025-12-03 18:26:24,366 - INFO -   recall_Vit√≥ria Casa: 0.6306
2025-12-03 18:26:24,366 - INFO -   f1_Vit√≥ria Casa: 0.6140
2025-12-03 18:26:24,367 - INFO -   precision_Vit√≥ria Visitante: 0.4914
2025-12-03 18:26:24,367 - INFO -   recall_Vit√≥ria Visitante: 0.4926
2025-12-03 18:26:24,367 - INFO -   f1_Vit√≥ria Visitante: 0.4920
2025-12-03 18:26:24,368 - INFO - ‚úì Limiar salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\draw_threshold.json
2025-12-03 18:26:24,369 - INFO - 
================================================================================
2025-12-03 18:26:24,369 - INFO -                        RESULTADOS DA OTIMIZA√á√ÉO DE LIMIAR                       
2025-12-03 18:26:24,369 - INFO - ================================================================================
2025-12-03 18:26:24,369 - INFO - 
Resultado Padr√£o (F1-Macro): 0.4741
2025-12-03 18:26:24,369 - INFO - Resultado Ajustado (F1-Macro): 0.4772
2025-12-03 18:26:24,369 - INFO - Melhor Recall Empate: 30.87%
2025-12-03 20:04:31,774 - INFO - ============================================================
2025-12-03 20:04:31,775 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 20:04:31,775 - INFO - ============================================================
2025-12-03 20:04:31,776 - INFO - 
--- Carregando dados base ---
2025-12-03 20:04:31,897 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 20:04:31,919 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 20:04:32,163 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 20:04:32,192 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 20:04:32,321 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 20:04:32,334 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 20:04:32,336 - INFO - ‚úì Status carregado: 19 status
2025-12-03 20:04:32,352 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 20:04:32,353 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 20:04:41,540 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 20:04:41,541 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 20:04:46,116 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 20:04:46,117 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 20:04:46,117 - INFO - 
============================================================
2025-12-03 20:04:46,117 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 20:04:46,118 - INFO - ============================================================
2025-12-03 20:04:46,118 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 20:04:46,120 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 20:04:46,120 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 20:04:46,121 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 20:04:46,620 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 20:04:46,620 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 20:04:46,621 - INFO -   Shape: (67065, 20)
2025-12-03 20:04:46,629 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 20:04:46,633 - INFO -   ‚úì Sem valores nulos
2025-12-03 20:04:46,664 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:04:46,664 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 20:04:46,665 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 20:04:46,697 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 20:04:46,698 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 20:04:46,742 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 20:04:46,742 - INFO - Calculando BMI...
2025-12-03 20:04:47,040 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 20:04:47,042 - INFO - 
Qualidade de dados - Players:
2025-12-03 20:04:47,042 - INFO -   Shape: (64668, 28)
2025-12-03 20:04:47,155 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 20:04:47,185 - INFO -   Valores nulos:
2025-12-03 20:04:47,185 - INFO -     firstName: 49 (0.1%)
2025-12-03 20:04:47,186 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 20:04:47,186 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 20:04:47,187 - INFO -     fullName: 1 (0.0%)
2025-12-03 20:04:47,187 - INFO -     displayName: 1 (0.0%)
2025-12-03 20:04:47,187 - INFO -     shortName: 42 (0.1%)
2025-12-03 20:04:47,188 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 20:04:47,188 - INFO -     slug: 42 (0.1%)
2025-12-03 20:04:47,189 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 20:04:47,189 - INFO -     weight: 41 (0.1%)
2025-12-03 20:04:47,189 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 20:04:47,190 - INFO -     height: 41 (0.1%)
2025-12-03 20:04:47,191 - INFO -     age: 41 (0.1%)
2025-12-03 20:04:47,191 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 20:04:47,191 - INFO -     gender: 146 (0.2%)
2025-12-03 20:04:47,191 - INFO -     jersey: 41 (0.1%)
2025-12-03 20:04:47,192 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 20:04:47,192 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 20:04:47,192 - INFO -     positionName: 71 (0.1%)
2025-12-03 20:04:47,193 - INFO -     positionId: 41 (0.1%)
2025-12-03 20:04:47,193 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 20:04:47,193 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 20:04:47,194 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 20:04:47,195 - INFO -     timestamp: 41 (0.1%)
2025-12-03 20:04:47,195 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 20:04:47,195 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 20:04:47,196 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 20:04:47,279 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:04:47,279 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 20:04:47,282 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 20:04:47,282 - INFO - ‚úì Saldo de gols calculado
2025-12-03 20:04:47,283 - INFO - 
Qualidade de dados - Standings:
2025-12-03 20:04:47,283 - INFO -   Shape: (6069, 24)
2025-12-03 20:04:47,287 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 20:04:47,288 - INFO -   Valores nulos:
2025-12-03 20:04:47,289 - INFO -     gf: 34 (0.6%)
2025-12-03 20:04:47,289 - INFO -     ga: 34 (0.6%)
2025-12-03 20:04:47,289 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 20:04:47,290 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 20:04:47,290 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 20:04:47,291 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 20:04:47,291 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 20:04:47,292 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 20:04:47,296 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:04:47,296 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 20:04:47,298 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 20:04:47,299 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 20:04:47,300 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 20:04:47,301 - INFO -   Shape: (101978, 35)
2025-12-03 20:04:47,311 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 20:04:47,320 - INFO -   Valores nulos:
2025-12-03 20:04:47,321 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 20:04:47,321 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 20:04:47,322 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 20:04:47,322 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 20:04:47,322 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 20:04:47,323 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 20:04:47,323 - INFO -     saves: 46,152 (45.3%)
2025-12-03 20:04:47,324 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 20:04:47,324 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 20:04:47,325 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 20:04:47,325 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 20:04:47,325 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 20:04:47,326 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 20:04:47,326 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 20:04:47,327 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 20:04:47,327 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 20:04:47,327 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 20:04:47,328 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 20:04:47,328 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 20:04:47,328 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 20:04:47,329 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 20:04:47,329 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 20:04:47,330 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 20:04:47,330 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 20:04:47,330 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 20:04:47,331 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 20:04:47,331 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 20:04:47,331 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 20:04:47,332 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 20:04:47,332 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 20:04:47,385 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:04:47,386 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 20:04:47,400 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 20:04:47,400 - INFO -   (11,227 partidas removidas)
2025-12-03 20:04:47,401 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 20:04:47,401 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 20:04:47,452 - INFO - ‚úì Valores faltantes tratados
2025-12-03 20:05:12,590 - INFO - 
============================================================
2025-12-03 20:05:12,591 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 20:05:12,591 - INFO - ============================================================
2025-12-03 20:05:12,592 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 20:05:12,597 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 20:05:12,672 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 20:05:12,673 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 20:05:12,673 - INFO -   Distribui√ß√£o do target:
2025-12-03 20:05:12,674 - INFO -     Empate (0): 84,261
2025-12-03 20:05:12,676 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 20:05:12,677 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 20:05:12,677 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 20:05:13,696 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 20:05:13,698 - INFO - 
--- Adicionando features de performance ---
2025-12-03 20:05:38,103 - INFO - ‚úì Features de performance adicionadas
2025-12-03 20:05:38,119 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 20:06:17,535 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 20:06:17,560 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 20:07:07,515 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 20:07:07,724 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 20:07:08,012 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 20:07:08,014 - INFO - 
--- Limpando e validando ---
2025-12-03 20:07:30,876 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 20:07:31,087 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 20:07:31,088 - INFO -   Shape: (55838, 41)
2025-12-03 20:07:31,098 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 20:07:31,111 - INFO -   ‚úì Sem valores nulos
2025-12-03 20:07:31,163 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:07:31,164 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 20:07:31,165 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 20:07:31,165 - INFO - Shape final: (55838, 41)
2025-12-03 20:07:31,166 - INFO - Features criadas: 32
2025-12-03 20:45:47,038 - INFO - 
================================================================================
2025-12-03 20:45:47,038 - INFO -                       AVALIA√á√ÉO DE ESTRAT√âGIAS DE APOSTAS                       
2025-12-03 20:45:47,038 - INFO - ================================================================================
2025-12-03 20:45:47,039 - INFO - 
üìÇ Carregando modelo...
2025-12-03 20:45:47,039 - INFO - 
--- Carregando modelo ---
2025-12-03 20:45:47,862 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 20:45:47,864 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 20:45:47,878 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 20:45:47,879 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 20:45:47,879 - INFO - 
üìä Carregando dados de teste...
2025-12-03 20:45:47,879 - INFO - ============================================================
2025-12-03 20:45:47,879 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 20:45:47,879 - INFO - ============================================================
2025-12-03 20:45:47,879 - INFO - 
--- Carregando dados base ---
2025-12-03 20:45:47,990 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 20:45:48,002 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 20:45:48,231 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 20:45:48,246 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 20:45:48,364 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 20:45:48,368 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 20:45:48,369 - INFO - ‚úì Status carregado: 19 status
2025-12-03 20:45:48,375 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 20:45:48,376 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 20:45:51,519 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 20:45:51,520 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 20:45:52,108 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 20:45:52,108 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 20:45:52,108 - INFO - 
============================================================
2025-12-03 20:45:52,109 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 20:45:52,109 - INFO - ============================================================
2025-12-03 20:45:52,109 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 20:45:52,109 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 20:45:52,110 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 20:45:52,110 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 20:45:52,631 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 20:45:52,631 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 20:45:52,631 - INFO -   Shape: (67065, 20)
2025-12-03 20:45:52,639 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 20:45:52,642 - INFO -   ‚úì Sem valores nulos
2025-12-03 20:45:52,669 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:45:52,669 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 20:45:52,669 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 20:45:52,701 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 20:45:52,701 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 20:45:52,742 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 20:45:52,743 - INFO - Calculando BMI...
2025-12-03 20:45:53,031 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 20:45:53,032 - INFO - 
Qualidade de dados - Players:
2025-12-03 20:45:53,032 - INFO -   Shape: (64668, 28)
2025-12-03 20:45:53,143 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 20:45:53,171 - INFO -   Valores nulos:
2025-12-03 20:45:53,171 - INFO -     firstName: 49 (0.1%)
2025-12-03 20:45:53,172 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 20:45:53,172 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 20:45:53,172 - INFO -     fullName: 1 (0.0%)
2025-12-03 20:45:53,172 - INFO -     displayName: 1 (0.0%)
2025-12-03 20:45:53,172 - INFO -     shortName: 42 (0.1%)
2025-12-03 20:45:53,172 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 20:45:53,172 - INFO -     slug: 42 (0.1%)
2025-12-03 20:45:53,172 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 20:45:53,172 - INFO -     weight: 41 (0.1%)
2025-12-03 20:45:53,172 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 20:45:53,172 - INFO -     height: 41 (0.1%)
2025-12-03 20:45:53,172 - INFO -     age: 41 (0.1%)
2025-12-03 20:45:53,173 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 20:45:53,173 - INFO -     gender: 146 (0.2%)
2025-12-03 20:45:53,173 - INFO -     jersey: 41 (0.1%)
2025-12-03 20:45:53,173 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 20:45:53,173 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 20:45:53,173 - INFO -     positionName: 71 (0.1%)
2025-12-03 20:45:53,173 - INFO -     positionId: 41 (0.1%)
2025-12-03 20:45:53,173 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 20:45:53,173 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 20:45:53,173 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 20:45:53,173 - INFO -     timestamp: 41 (0.1%)
2025-12-03 20:45:53,173 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 20:45:53,173 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 20:45:53,174 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 20:45:53,247 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:45:53,248 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 20:45:53,249 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 20:45:53,250 - INFO - ‚úì Saldo de gols calculado
2025-12-03 20:45:53,250 - INFO - 
Qualidade de dados - Standings:
2025-12-03 20:45:53,250 - INFO -   Shape: (6069, 24)
2025-12-03 20:45:53,253 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 20:45:53,254 - INFO -   Valores nulos:
2025-12-03 20:45:53,255 - INFO -     gf: 34 (0.6%)
2025-12-03 20:45:53,255 - INFO -     ga: 34 (0.6%)
2025-12-03 20:45:53,255 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 20:45:53,255 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 20:45:53,255 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 20:45:53,255 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 20:45:53,255 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 20:45:53,256 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 20:45:53,259 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:45:53,259 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 20:45:53,260 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 20:45:53,262 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 20:45:53,262 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 20:45:53,263 - INFO -   Shape: (101978, 35)
2025-12-03 20:45:53,273 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 20:45:53,281 - INFO -   Valores nulos:
2025-12-03 20:45:53,282 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 20:45:53,282 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 20:45:53,282 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 20:45:53,282 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 20:45:53,282 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 20:45:53,282 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     saves: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 20:45:53,283 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 20:45:53,284 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 20:45:53,285 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 20:45:53,285 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 20:45:53,285 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 20:45:53,342 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:45:53,342 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 20:45:53,362 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 20:45:53,362 - INFO -   (11,227 partidas removidas)
2025-12-03 20:45:53,362 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 20:45:53,363 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 20:45:53,428 - INFO - ‚úì Valores faltantes tratados
2025-12-03 20:45:53,467 - INFO - 
============================================================
2025-12-03 20:45:53,467 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 20:45:53,467 - INFO - ============================================================
2025-12-03 20:45:53,467 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 20:45:53,474 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 20:45:53,554 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 20:45:53,555 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 20:45:53,555 - INFO -   Distribui√ß√£o do target:
2025-12-03 20:45:53,556 - INFO -     Empate (0): 84,261
2025-12-03 20:45:53,556 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 20:45:53,557 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 20:45:53,557 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 20:45:54,282 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 20:45:54,283 - INFO - 
--- Adicionando features de performance ---
2025-12-03 20:46:16,137 - INFO - ‚úì Features de performance adicionadas
2025-12-03 20:46:16,141 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 20:46:51,314 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 20:46:51,324 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 20:47:42,981 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 20:47:43,117 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 20:47:43,366 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 20:47:43,367 - INFO - 
--- Limpando e validando ---
2025-12-03 20:47:58,375 - ERROR - Erro na cria√ß√£o do master DataFrame: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 20:47:59,028 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 20:47:59,032 - ERROR - 
‚ùå Erro na avalia√ß√£o de estrat√©gias: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 20:47:59,047 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 253, in evaluate_betting_strategies_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 419, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 20:56:25,686 - INFO - 
================================================================================
2025-12-03 20:56:25,686 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 20:56:25,687 - INFO - ================================================================================
2025-12-03 20:56:25,687 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 20:56:25,687 - INFO - ============================================================
2025-12-03 20:56:25,687 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 20:56:25,687 - INFO - ============================================================
2025-12-03 20:56:25,687 - INFO - 
--- Carregando dados base ---
2025-12-03 20:56:25,785 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 20:56:25,797 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 20:56:26,017 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 20:56:26,032 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 20:56:26,153 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 20:56:26,157 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 20:56:26,159 - INFO - ‚úì Status carregado: 19 status
2025-12-03 20:56:26,166 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 20:56:26,166 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 20:56:29,174 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 20:56:29,175 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 20:56:29,671 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 20:56:29,671 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 20:56:29,671 - INFO - 
============================================================
2025-12-03 20:56:29,671 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 20:56:29,671 - INFO - ============================================================
2025-12-03 20:56:29,671 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 20:56:29,672 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 20:56:29,672 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 20:56:29,672 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 20:56:30,173 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 20:56:30,173 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 20:56:30,174 - INFO -   Shape: (67065, 20)
2025-12-03 20:56:30,181 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 20:56:30,184 - INFO -   ‚úì Sem valores nulos
2025-12-03 20:56:30,213 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:56:30,213 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 20:56:30,213 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 20:56:30,244 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 20:56:30,245 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 20:56:30,287 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 20:56:30,287 - INFO - Calculando BMI...
2025-12-03 20:56:30,575 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 20:56:30,575 - INFO - 
Qualidade de dados - Players:
2025-12-03 20:56:30,576 - INFO -   Shape: (64668, 28)
2025-12-03 20:56:30,691 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 20:56:30,719 - INFO -   Valores nulos:
2025-12-03 20:56:30,719 - INFO -     firstName: 49 (0.1%)
2025-12-03 20:56:30,720 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 20:56:30,720 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 20:56:30,720 - INFO -     fullName: 1 (0.0%)
2025-12-03 20:56:30,720 - INFO -     displayName: 1 (0.0%)
2025-12-03 20:56:30,720 - INFO -     shortName: 42 (0.1%)
2025-12-03 20:56:30,721 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 20:56:30,721 - INFO -     slug: 42 (0.1%)
2025-12-03 20:56:30,721 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 20:56:30,721 - INFO -     weight: 41 (0.1%)
2025-12-03 20:56:30,721 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 20:56:30,721 - INFO -     height: 41 (0.1%)
2025-12-03 20:56:30,722 - INFO -     age: 41 (0.1%)
2025-12-03 20:56:30,722 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 20:56:30,722 - INFO -     gender: 146 (0.2%)
2025-12-03 20:56:30,722 - INFO -     jersey: 41 (0.1%)
2025-12-03 20:56:30,722 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 20:56:30,722 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 20:56:30,722 - INFO -     positionName: 71 (0.1%)
2025-12-03 20:56:30,722 - INFO -     positionId: 41 (0.1%)
2025-12-03 20:56:30,722 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 20:56:30,723 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 20:56:30,723 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 20:56:30,723 - INFO -     timestamp: 41 (0.1%)
2025-12-03 20:56:30,723 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 20:56:30,723 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 20:56:30,724 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 20:56:30,804 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:56:30,805 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 20:56:30,806 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 20:56:30,806 - INFO - ‚úì Saldo de gols calculado
2025-12-03 20:56:30,807 - INFO - 
Qualidade de dados - Standings:
2025-12-03 20:56:30,807 - INFO -   Shape: (6069, 24)
2025-12-03 20:56:30,810 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 20:56:30,811 - INFO -   Valores nulos:
2025-12-03 20:56:30,811 - INFO -     gf: 34 (0.6%)
2025-12-03 20:56:30,811 - INFO -     ga: 34 (0.6%)
2025-12-03 20:56:30,812 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 20:56:30,812 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 20:56:30,812 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 20:56:30,812 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 20:56:30,812 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 20:56:30,812 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 20:56:30,816 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:56:30,816 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 20:56:30,817 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 20:56:30,819 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 20:56:30,819 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 20:56:30,819 - INFO -   Shape: (101978, 35)
2025-12-03 20:56:30,829 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 20:56:30,837 - INFO -   Valores nulos:
2025-12-03 20:56:30,838 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 20:56:30,838 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 20:56:30,838 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 20:56:30,838 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 20:56:30,838 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     saves: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 20:56:30,839 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 20:56:30,840 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 20:56:30,841 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 20:56:30,841 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 20:56:30,899 - INFO -   ‚úì Sem duplicatas
2025-12-03 20:56:30,899 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 20:56:30,917 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 20:56:30,917 - INFO -   (11,227 partidas removidas)
2025-12-03 20:56:30,917 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 20:56:30,918 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 20:56:30,988 - INFO - ‚úì Valores faltantes tratados
2025-12-03 20:56:30,988 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 20:56:30,988 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 20:56:31,028 - INFO - 
============================================================
2025-12-03 20:56:31,028 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 20:56:31,028 - INFO - ============================================================
2025-12-03 20:56:31,028 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 20:56:31,034 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 20:56:31,114 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 20:56:31,114 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 20:56:31,114 - INFO -   Distribui√ß√£o do target:
2025-12-03 20:56:31,115 - INFO -     Empate (0): 84,261
2025-12-03 20:56:31,116 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 20:56:31,117 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 20:56:31,117 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 20:56:31,694 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 20:56:31,695 - INFO - 
--- Adicionando features de performance ---
2025-12-03 20:56:59,071 - INFO - ‚úì Features de performance adicionadas
2025-12-03 20:56:59,092 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 20:57:41,478 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 20:57:41,483 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 20:58:41,549 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 20:58:41,711 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 20:58:42,212 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 20:58:42,213 - INFO - 
--- Limpando e validando ---
2025-12-03 20:59:13,299 - ERROR - Erro na cria√ß√£o do master DataFrame: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 20:59:13,708 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 20:59:13,710 - ERROR - 
‚ùå Erro no pipeline de treinamento: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 20:59:13,720 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 419, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 21:08:24,183 - INFO - 
================================================================================
2025-12-03 21:08:24,183 - INFO -                       AVALIA√á√ÉO DE ESTRAT√âGIAS DE APOSTAS                       
2025-12-03 21:08:24,183 - INFO - ================================================================================
2025-12-03 21:08:24,183 - INFO - 
üìÇ Carregando modelo...
2025-12-03 21:08:24,183 - INFO - 
--- Carregando modelo ---
2025-12-03 21:08:24,814 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 21:08:24,815 - INFO - ‚úì Scaler carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 21:08:24,816 - INFO - ‚úì Features carregadas de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 21:08:24,816 - INFO - ‚úì Modelo carregado com sucesso!
2025-12-03 21:08:24,816 - INFO - 
üìä Carregando dados de teste...
2025-12-03 21:08:24,816 - INFO - ============================================================
2025-12-03 21:08:24,816 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:08:24,817 - INFO - ============================================================
2025-12-03 21:08:24,817 - INFO - 
--- Carregando dados base ---
2025-12-03 21:08:24,923 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:08:24,935 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:08:25,161 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:08:25,177 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:08:25,300 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:08:25,304 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:08:25,305 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:08:25,312 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:08:25,312 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:08:53,343 - INFO - 
================================================================================
2025-12-03 21:08:53,343 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:08:53,343 - INFO - ================================================================================
2025-12-03 21:08:53,343 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 21:08:53,343 - INFO - ============================================================
2025-12-03 21:08:53,343 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:08:53,344 - INFO - ============================================================
2025-12-03 21:08:53,344 - INFO - 
--- Carregando dados base ---
2025-12-03 21:08:53,432 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:08:53,443 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:08:53,653 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:08:53,665 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:08:53,792 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:08:53,796 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:08:53,797 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:08:53,804 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:08:53,804 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:08:56,986 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:08:56,987 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:08:57,511 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:08:57,512 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:08:57,512 - INFO - 
============================================================
2025-12-03 21:08:57,512 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:08:57,512 - INFO - ============================================================
2025-12-03 21:08:57,512 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:08:57,513 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:08:57,514 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:08:57,514 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:08:58,040 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:08:58,040 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:08:58,041 - INFO -   Shape: (67065, 20)
2025-12-03 21:08:58,048 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:08:58,052 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:08:58,086 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:08:58,086 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:08:58,086 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:08:58,119 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:08:58,119 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:08:58,190 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:08:58,191 - INFO - Calculando BMI...
2025-12-03 21:08:58,489 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:08:58,493 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:08:58,493 - INFO -   Shape: (64668, 28)
2025-12-03 21:08:58,612 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:08:58,644 - INFO -   Valores nulos:
2025-12-03 21:08:58,646 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:08:58,646 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:08:58,646 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:08:58,646 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:08:58,646 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:08:58,646 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:08:58,647 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:08:58,647 - INFO -     slug: 42 (0.1%)
2025-12-03 21:08:58,647 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:08:58,647 - INFO -     weight: 41 (0.1%)
2025-12-03 21:08:58,647 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:08:58,647 - INFO -     height: 41 (0.1%)
2025-12-03 21:08:58,647 - INFO -     age: 41 (0.1%)
2025-12-03 21:08:58,647 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:08:58,647 - INFO -     gender: 146 (0.2%)
2025-12-03 21:08:58,648 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:08:58,648 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:08:58,648 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:08:58,648 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:08:58,648 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:08:58,648 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:08:58,648 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:08:58,648 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:08:58,648 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:08:58,648 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:08:58,648 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:08:58,649 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:08:58,735 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:08:58,736 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:08:58,737 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:08:58,737 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:08:58,738 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:08:58,738 - INFO -   Shape: (6069, 24)
2025-12-03 21:08:58,741 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:08:58,743 - INFO -   Valores nulos:
2025-12-03 21:08:58,743 - INFO -     gf: 34 (0.6%)
2025-12-03 21:08:58,743 - INFO -     ga: 34 (0.6%)
2025-12-03 21:08:58,744 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:08:58,744 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:08:58,744 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:08:58,744 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:08:58,745 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:08:58,745 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:08:58,750 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:08:58,750 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:08:58,752 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:08:58,754 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:08:58,755 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:08:58,755 - INFO -   Shape: (101978, 35)
2025-12-03 21:08:58,766 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:08:58,775 - INFO -   Valores nulos:
2025-12-03 21:08:58,775 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:08:58,776 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:08:58,776 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:08:58,776 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:08:58,776 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:08:58,776 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:08:58,777 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:08:58,778 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:08:58,779 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:08:58,837 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:08:58,837 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:08:58,852 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:08:58,852 - INFO -   (11,227 partidas removidas)
2025-12-03 21:08:58,852 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:08:58,852 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:08:58,907 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:08:58,907 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 21:08:58,907 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 21:08:58,937 - INFO - 
============================================================
2025-12-03 21:08:58,938 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:08:58,938 - INFO - ============================================================
2025-12-03 21:08:58,938 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 21:08:58,943 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 21:08:59,014 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:08:59,014 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 21:08:59,014 - INFO -   Distribui√ß√£o do target:
2025-12-03 21:08:59,015 - INFO -     Empate (0): 84,261
2025-12-03 21:08:59,015 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 21:08:59,016 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 21:08:59,016 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 21:08:59,616 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 21:08:59,616 - INFO - 
--- Adicionando features de performance ---
2025-12-03 21:09:23,309 - INFO - ‚úì Features de performance adicionadas
2025-12-03 21:09:23,326 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 21:10:05,831 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 21:10:05,837 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 21:11:14,652 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 21:11:14,908 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 21:11:15,285 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 21:11:15,286 - INFO - 
--- Limpando e validando ---
2025-12-03 21:11:17,188 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 21:11:17,255 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 21:11:17,256 - INFO -   Shape: (55838, 41)
2025-12-03 21:11:17,265 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 21:11:17,272 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:11:17,335 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:11:17,335 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 21:11:17,335 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 21:11:17,336 - INFO - Shape final: (55838, 41)
2025-12-03 21:11:17,336 - INFO - Features criadas: 32
2025-12-03 21:11:17,443 - INFO - ‚úì Features criadas: 41 colunas, 55,838 linhas
2025-12-03 21:11:17,443 - INFO - 
üîÑ ETAPA 3: Treinando modelo...
2025-12-03 21:11:17,446 - INFO - 
============================================================
2025-12-03 21:11:17,447 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 21:11:17,447 - INFO - ============================================================
2025-12-03 21:11:17,454 - INFO - Features utilizadas: 36
2025-12-03 21:11:17,454 - INFO - Total de amostras: 55,838
2025-12-03 21:11:17,454 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 21:11:17,456 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 21:11:17,456 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 21:11:17,457 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 21:11:17,524 - INFO - 
‚úì Dados divididos:
2025-12-03 21:11:17,525 - INFO -   Treino: 44,670 amostras
2025-12-03 21:11:17,525 - INFO -   Teste: 11,168 amostras
2025-12-03 21:11:17,525 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 21:11:17,525 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 21:11:22,793 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 21:11:22,793 - INFO -   Antes: 44,670 amostras
2025-12-03 21:11:22,794 - INFO -   Depois: 44,871 amostras
2025-12-03 21:11:22,794 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 21:11:22,794 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 21:11:22,795 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 21:11:22,795 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 21:11:22,833 - INFO - ‚úì Features normalizadas
2025-12-03 21:11:22,837 - INFO - 
--- Realizando valida√ß√£o cruzada ---
2025-12-03 21:11:34,794 - INFO - ‚úì Valida√ß√£o cruzada conclu√≠da:
2025-12-03 21:11:34,794 - INFO -   Scores (F1-Macro): ['0.4596', '0.4615', '0.4587', '0.5217', '0.5717']
2025-12-03 21:11:34,795 - INFO -   M√©dia: 0.4946 (+/- 0.0454)
2025-12-03 21:11:34,795 - INFO - 
============================================================
2025-12-03 21:11:34,796 - INFO - TREINANDO MODELO XGBOOST
2025-12-03 21:11:34,796 - INFO - ============================================================
2025-12-03 21:11:34,796 - INFO - 
Par√¢metros OTIMIZADOS do modelo:
2025-12-03 21:11:34,796 - INFO -   objective: multi:softmax
2025-12-03 21:11:34,796 - INFO -   num_class: 3
2025-12-03 21:11:34,797 - INFO -   max_depth: 7
2025-12-03 21:11:34,797 - INFO -   learning_rate: 0.05
2025-12-03 21:11:34,797 - INFO -   n_estimators: 300
2025-12-03 21:11:34,797 - INFO -   subsample: 0.8
2025-12-03 21:11:34,797 - INFO -   colsample_bytree: 0.8
2025-12-03 21:11:34,797 - INFO -   gamma: 0.1
2025-12-03 21:11:34,798 - INFO -   min_child_weight: 3
2025-12-03 21:11:34,798 - INFO -   random_state: 42
2025-12-03 21:11:34,798 - INFO -   eval_metric: mlogloss
2025-12-03 21:11:34,798 - INFO -   reg_alpha: 0.1
2025-12-03 21:11:34,798 - INFO -   reg_lambda: 1.0
2025-12-03 21:11:34,798 - INFO -   scale_pos_weight: 1.0
2025-12-03 21:11:34,799 - INFO - 
Iniciando treinamento...
2025-12-03 21:11:40,860 - INFO - ‚úì Treinamento conclu√≠do!
2025-12-03 21:11:40,861 - INFO - 
============================================================
2025-12-03 21:11:40,861 - INFO - AVALIANDO MODELO
2025-12-03 21:11:40,861 - INFO - ============================================================
2025-12-03 21:11:40,978 - INFO - 
============================================================
2025-12-03 21:11:40,978 - INFO - M√âTRICAS - Teste
2025-12-03 21:11:40,978 - INFO - ============================================================
2025-12-03 21:11:40,978 - INFO - 
M√©tricas Gerais:
2025-12-03 21:11:40,978 - INFO -   accuracy: 0.5163
2025-12-03 21:11:40,979 - INFO -   precision_macro: 0.4779
2025-12-03 21:11:40,979 - INFO -   recall_macro: 0.4762
2025-12-03 21:11:40,979 - INFO -   f1_macro: 0.4741
2025-12-03 21:11:40,979 - INFO -   precision_weighted: 0.5030
2025-12-03 21:11:40,979 - INFO -   recall_weighted: 0.5163
2025-12-03 21:11:40,979 - INFO -   f1_weighted: 0.5072
2025-12-03 21:11:40,979 - INFO - 
M√©tricas por Classe:
2025-12-03 21:11:40,979 - INFO -   precision_Empate: 0.3544
2025-12-03 21:11:40,980 - INFO -   recall_Empate: 0.2626
2025-12-03 21:11:40,980 - INFO -   f1_Empate: 0.3017
2025-12-03 21:11:40,980 - INFO -   precision_Vit√≥ria Casa: 0.5930
2025-12-03 21:11:40,980 - INFO -   recall_Vit√≥ria Casa: 0.6537
2025-12-03 21:11:40,980 - INFO -   f1_Vit√≥ria Casa: 0.6219
2025-12-03 21:11:40,980 - INFO -   precision_Vit√≥ria Visitante: 0.4862
2025-12-03 21:11:40,980 - INFO -   recall_Vit√≥ria Visitante: 0.5122
2025-12-03 21:11:40,980 - INFO -   f1_Vit√≥ria Visitante: 0.4988
2025-12-03 21:11:40,983 - INFO - 
Matriz de Confus√£o:
2025-12-03 21:11:40,984 - INFO - 
[[ 711 1201  796]
 [ 743 3334 1023]
 [ 552 1087 1721]]
2025-12-03 21:11:40,984 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 21:11:40,984 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 21:11:40,984 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 21:11:41,001 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.35      0.26      0.30      2708
     Vit√≥ria Casa       0.59      0.65      0.62      5100
Vit√≥ria Visitante       0.49      0.51      0.50      3360

         accuracy                           0.52     11168
        macro avg       0.48      0.48      0.47     11168
     weighted avg       0.50      0.52      0.51     11168

2025-12-03 21:11:41,008 - INFO - 
============================================================
2025-12-03 21:11:41,008 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 21:11:41,008 - INFO - ============================================================
2025-12-03 21:11:41,010 - INFO -   home_recent_draws: 0.0894
2025-12-03 21:11:41,010 - INFO -   points_difference: 0.0785
2025-12-03 21:11:41,010 - INFO -   away_recent_draws: 0.0750
2025-12-03 21:11:41,011 - INFO -   defense_difference: 0.0401
2025-12-03 21:11:41,011 - INFO -   away_recent_losses: 0.0365
2025-12-03 21:11:41,011 - INFO -   attack_difference: 0.0339
2025-12-03 21:11:41,011 - INFO -   away_losses: 0.0261
2025-12-03 21:11:41,012 - INFO -   form_difference: 0.0257
2025-12-03 21:11:41,012 - INFO -   home_recent_losses: 0.0255
2025-12-03 21:11:41,012 - INFO -   home_losses: 0.0248
2025-12-03 21:11:41,012 - INFO -   home_recent_wins: 0.0246
2025-12-03 21:11:41,013 - INFO -   home_goals_per_game: 0.0236
2025-12-03 21:11:41,013 - INFO -   away_goals_per_game: 0.0228
2025-12-03 21:11:41,013 - INFO -   home_goal_difference: 0.0227
2025-12-03 21:11:41,013 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 21:11:41,014 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 21:11:41,014 - INFO -   home_wins: 0.0224
2025-12-03 21:11:41,014 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 21:11:41,015 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 21:11:41,015 - INFO -   away_points: 0.0220
2025-12-03 21:11:41,015 - INFO - 
============================================================
2025-12-03 21:11:41,015 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 21:11:41,015 - INFO - ============================================================
2025-12-03 21:11:41,016 - INFO - 
De 2708 empates reais:
2025-12-03 21:11:41,016 - INFO -   ‚úì Acertou: 711 (26.3%)
2025-12-03 21:11:41,017 - INFO -   ‚úó Previu V. Casa: 1201 (44.4%)
2025-12-03 21:11:41,017 - INFO -   ‚úó Previu V. Visitante: 796 (29.4%)
2025-12-03 21:11:41,017 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 21:11:41,018 - INFO -   P(Empate): 0.313
2025-12-03 21:11:41,018 - INFO -   P(V. Casa): 0.369
2025-12-03 21:11:41,018 - INFO -   P(V. Visitante): 0.319
2025-12-03 21:11:41,021 - INFO - 
--- Salvando modelo ---
2025-12-03 21:11:41,216 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 21:11:41,217 - ERROR - Erro ao salvar modelo: cannot access local variable 'pickle' where it is not associated with a value
2025-12-03 21:11:41,217 - INFO - 
============================================================
2025-12-03 21:11:41,217 - INFO - TREINAMENTO CONCLU√çDO COM SUCESSO!
2025-12-03 21:11:41,218 - INFO - ============================================================
2025-12-03 21:11:41,218 - INFO - 
üìä M√©tricas Finais:
2025-12-03 21:11:41,218 - INFO -   Acur√°cia: 51.63%
2025-12-03 21:11:41,218 - INFO -   F1-Macro: 0.4741
2025-12-03 21:11:41,219 - INFO -   F1-Empate: 0.3017
2025-12-03 21:11:41,219 - INFO -   Recall-Empate: 26.26%
2025-12-03 21:11:41,219 - INFO - ‚úì Modelo treinado com acur√°cia: 0.5163
2025-12-03 21:11:41,219 - INFO - 
================================================================================
2025-12-03 21:11:41,219 - INFO -                              TREINAMENTO CONCLU√çDO                              
2025-12-03 21:11:41,220 - INFO - ================================================================================
2025-12-03 21:11:41,220 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 21:11:41,220 - INFO - ‚è±Ô∏è  Tempo total: 2m 47s
2025-12-03 21:11:41,220 - INFO - üìä Acur√°cia final: 51.63%
2025-12-03 21:11:41,220 - INFO - üìÅ Modelo salvo em: models/
2025-12-03 21:12:41,695 - INFO - 
================================================================================
2025-12-03 21:12:41,695 - INFO -                       AVALIA√á√ÉO DE ESTRAT√âGIAS DE APOSTAS                       
2025-12-03 21:12:41,695 - INFO - ================================================================================
2025-12-03 21:12:41,695 - INFO - 
üìÇ Carregando modelo...
2025-12-03 21:12:41,696 - INFO - 
--- Carregando modelo ---
2025-12-03 21:12:42,083 - INFO - ‚úì Modelo carregado de: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 21:12:42,083 - ERROR - Erro ao carregar modelo: Ran out of input
2025-12-03 21:12:42,084 - ERROR - ‚ùå Modelo n√£o encontrado. Execute o treinamento primeiro.
2025-12-03 21:20:58,396 - INFO - 
================================================================================
2025-12-03 21:20:58,396 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:20:58,396 - INFO - ================================================================================
2025-12-03 21:20:58,396 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 1: Carregando e processando dados...
2025-12-03 21:20:58,397 - INFO - ============================================================
2025-12-03 21:20:58,397 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:20:58,397 - INFO - ============================================================
2025-12-03 21:20:58,397 - INFO - 
--- Carregando dados base ---
2025-12-03 21:20:58,494 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:20:58,506 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:20:58,742 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:20:58,758 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:20:58,887 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:20:58,891 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:20:58,892 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:20:58,899 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:20:58,899 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:21:02,283 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:21:02,283 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:21:02,862 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:21:02,862 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:21:02,862 - INFO - 
============================================================
2025-12-03 21:21:02,862 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:21:02,862 - INFO - ============================================================
2025-12-03 21:21:02,862 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:21:02,863 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:21:02,863 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:21:02,863 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:21:03,405 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:21:03,405 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:21:03,405 - INFO -   Shape: (67065, 20)
2025-12-03 21:21:03,413 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:21:03,416 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:21:03,448 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:21:03,448 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:21:03,449 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:21:03,481 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:21:03,481 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:21:03,527 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:21:03,528 - INFO - Calculando BMI...
2025-12-03 21:21:03,840 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:21:03,841 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:21:03,841 - INFO -   Shape: (64668, 28)
2025-12-03 21:21:03,961 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:21:03,988 - INFO -   Valores nulos:
2025-12-03 21:21:03,989 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:21:03,989 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:21:03,989 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:21:03,989 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:21:03,989 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:21:03,989 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:21:03,990 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:21:03,990 - INFO -     slug: 42 (0.1%)
2025-12-03 21:21:03,990 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:21:03,990 - INFO -     weight: 41 (0.1%)
2025-12-03 21:21:03,990 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:21:03,990 - INFO -     height: 41 (0.1%)
2025-12-03 21:21:03,990 - INFO -     age: 41 (0.1%)
2025-12-03 21:21:03,990 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:21:03,990 - INFO -     gender: 146 (0.2%)
2025-12-03 21:21:03,991 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:21:03,991 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:21:03,991 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:21:03,991 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:21:03,991 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:21:03,991 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:21:03,991 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:21:03,991 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:21:03,991 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:21:03,991 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:21:03,992 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:21:03,992 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:21:04,075 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:21:04,076 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:21:04,077 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:21:04,077 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:21:04,077 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:21:04,077 - INFO -   Shape: (6069, 24)
2025-12-03 21:21:04,080 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:21:04,082 - INFO -   Valores nulos:
2025-12-03 21:21:04,082 - INFO -     gf: 34 (0.6%)
2025-12-03 21:21:04,082 - INFO -     ga: 34 (0.6%)
2025-12-03 21:21:04,082 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:21:04,082 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:21:04,082 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:21:04,082 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:21:04,083 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:21:04,083 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:21:04,086 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:21:04,086 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:21:04,088 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:21:04,089 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:21:04,089 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:21:04,089 - INFO -   Shape: (101978, 35)
2025-12-03 21:21:04,100 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:21:04,109 - INFO -   Valores nulos:
2025-12-03 21:21:04,109 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:21:04,109 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:21:04,109 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:21:04,109 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:21:04,110 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:21:04,111 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:21:04,112 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:21:04,112 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:21:04,112 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:21:04,112 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:21:04,112 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:21:04,112 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:21:04,112 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:21:04,172 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:21:04,172 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:21:04,190 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:21:04,191 - INFO -   (11,227 partidas removidas)
2025-12-03 21:21:04,191 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:21:04,191 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:21:04,263 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:21:04,263 - INFO - √¢≈ì‚Äú Dados carregados: 55,838 partidas
2025-12-03 21:21:04,263 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 2: Criando features...
2025-12-03 21:21:04,305 - INFO - 
============================================================
2025-12-03 21:21:04,305 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:21:04,305 - INFO - ============================================================
2025-12-03 21:21:04,305 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 21:21:04,312 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 21:21:04,392 - INFO - √¢≈ì‚Äú Informa√É¬ß√É¬µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:21:04,392 - INFO - √¢≈ì‚Äú Master DF inicializado: 356,101 partidas
2025-12-03 21:21:04,392 - INFO -   Distribui√É¬ß√É¬£o do target:
2025-12-03 21:21:04,393 - INFO -     Empate (0): 84,261
2025-12-03 21:21:04,393 - INFO -     Vit√É¬≥ria Casa (1): 164,704
2025-12-03 21:21:04,394 - INFO -     Vit√É¬≥ria Visitante (2): 107,136
2025-12-03 21:21:04,394 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 21:21:05,040 - INFO - √¢≈ì‚Äú Features de forma recente adicionadas
2025-12-03 21:21:05,041 - INFO - 
--- Adicionando features de performance ---
2025-12-03 21:21:32,412 - INFO - √¢≈ì‚Äú Features de performance adicionadas
2025-12-03 21:21:32,431 - INFO - 
--- Adicionando features de estat√É¬≠sticas de jogo ---
2025-12-03 21:22:15,364 - INFO - √¢≈ì‚Äú Features de estat√É¬≠sticas de jogo adicionadas
2025-12-03 21:22:15,374 - INFO - 
--- Adicionando features de escala√É¬ß√É¬£o ---
2025-12-03 21:23:19,067 - INFO - √¢≈ì‚Äú Features de escala√É¬ß√É¬£o adicionadas
2025-12-03 21:23:19,247 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 21:23:19,526 - INFO - √¢≈ì‚Äú Features derivadas adicionadas
2025-12-03 21:23:19,527 - INFO - 
--- Limpando e validando ---
2025-12-03 21:23:42,384 - ERROR - Erro na cria√É¬ß√É¬£o do master DataFrame: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 21:23:42,682 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 21:23:42,686 - ERROR - 
√¢¬ù≈í Erro no pipeline de treinamento: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 21:23:42,758 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 419, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 21:26:04,772 - INFO - 
================================================================================
2025-12-03 21:26:04,773 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:26:04,773 - INFO - ================================================================================
2025-12-03 21:26:04,773 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 1: Carregando e processando dados...
2025-12-03 21:26:04,773 - INFO - ============================================================
2025-12-03 21:26:04,773 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:26:04,773 - INFO - ============================================================
2025-12-03 21:26:04,773 - INFO - 
--- Carregando dados base ---
2025-12-03 21:26:04,871 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:26:04,882 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:26:05,089 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:26:05,105 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:26:05,224 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:26:05,229 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:26:05,230 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:26:05,236 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:26:05,236 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:26:08,323 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:26:08,324 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:26:08,889 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:26:08,889 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:26:08,889 - INFO - 
============================================================
2025-12-03 21:26:08,890 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:26:08,890 - INFO - ============================================================
2025-12-03 21:26:08,890 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:26:08,891 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:26:08,891 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:26:08,891 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:26:09,412 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:26:09,412 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:26:09,412 - INFO -   Shape: (67065, 20)
2025-12-03 21:26:09,420 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:26:09,424 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:26:09,455 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:26:09,456 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:26:09,456 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:26:09,487 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:26:09,487 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:26:09,532 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:26:09,532 - INFO - Calculando BMI...
2025-12-03 21:26:09,833 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:26:09,834 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:26:09,834 - INFO -   Shape: (64668, 28)
2025-12-03 21:26:09,958 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:26:09,985 - INFO -   Valores nulos:
2025-12-03 21:26:09,986 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:26:09,986 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:26:09,986 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:26:09,986 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:26:09,986 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:26:09,986 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:26:09,986 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:26:09,987 - INFO -     slug: 42 (0.1%)
2025-12-03 21:26:09,987 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:26:09,987 - INFO -     weight: 41 (0.1%)
2025-12-03 21:26:09,987 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:26:09,987 - INFO -     height: 41 (0.1%)
2025-12-03 21:26:09,987 - INFO -     age: 41 (0.1%)
2025-12-03 21:26:09,987 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:26:09,987 - INFO -     gender: 146 (0.2%)
2025-12-03 21:26:09,987 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:26:09,987 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:26:09,988 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:26:09,988 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:26:09,988 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:26:09,988 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:26:09,988 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:26:09,988 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:26:09,988 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:26:09,988 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:26:09,988 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:26:09,988 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:26:10,069 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:26:10,069 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:26:10,070 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:26:10,071 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:26:10,071 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:26:10,071 - INFO -   Shape: (6069, 24)
2025-12-03 21:26:10,074 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:26:10,075 - INFO -   Valores nulos:
2025-12-03 21:26:10,076 - INFO -     gf: 34 (0.6%)
2025-12-03 21:26:10,076 - INFO -     ga: 34 (0.6%)
2025-12-03 21:26:10,076 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:26:10,076 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:26:10,076 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:26:10,076 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:26:10,076 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:26:10,077 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:26:10,080 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:26:10,080 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:26:10,081 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:26:10,082 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:26:10,083 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:26:10,083 - INFO -   Shape: (101978, 35)
2025-12-03 21:26:10,093 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:26:10,102 - INFO -   Valores nulos:
2025-12-03 21:26:10,102 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:26:10,103 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:26:10,103 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:26:10,103 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:26:10,103 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:26:10,103 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:26:10,103 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:26:10,104 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:26:10,104 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:26:10,104 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:26:10,104 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:26:10,104 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:26:10,104 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:26:10,105 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:26:10,106 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:26:10,106 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:26:10,106 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:26:10,107 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:26:10,107 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:26:10,107 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:26:10,107 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:26:10,107 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:26:10,107 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:26:10,108 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:26:10,108 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:26:10,108 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:26:10,108 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:26:10,108 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:26:10,108 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:26:10,108 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:26:10,173 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:26:10,174 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:26:10,189 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:26:10,189 - INFO -   (11,227 partidas removidas)
2025-12-03 21:26:10,189 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:26:10,190 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:26:10,249 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:26:10,250 - INFO - √¢≈ì‚Äú Dados carregados: 55,838 partidas
2025-12-03 21:26:10,250 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 2: Criando features...
2025-12-03 21:26:10,282 - INFO - 
============================================================
2025-12-03 21:26:10,282 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:26:10,283 - INFO - ============================================================
2025-12-03 21:26:10,283 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 21:26:10,287 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 21:26:10,348 - INFO - √¢≈ì‚Äú Informa√É¬ß√É¬µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:26:10,348 - INFO - √¢≈ì‚Äú Master DF inicializado: 356,101 partidas
2025-12-03 21:26:10,348 - INFO -   Distribui√É¬ß√É¬£o do target:
2025-12-03 21:26:10,349 - INFO -     Empate (0): 84,261
2025-12-03 21:26:10,350 - INFO -     Vit√É¬≥ria Casa (1): 164,704
2025-12-03 21:26:10,350 - INFO -     Vit√É¬≥ria Visitante (2): 107,136
2025-12-03 21:26:10,350 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 21:26:10,910 - INFO - √¢≈ì‚Äú Features de forma recente adicionadas
2025-12-03 21:26:10,911 - INFO - 
--- Adicionando features de performance ---
2025-12-03 21:29:09,911 - INFO - 
================================================================================
2025-12-03 21:29:09,912 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:29:09,912 - INFO - ================================================================================
2025-12-03 21:29:09,912 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 1: Carregando e processando dados...
2025-12-03 21:29:09,912 - INFO - ============================================================
2025-12-03 21:29:09,912 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:29:09,912 - INFO - ============================================================
2025-12-03 21:29:09,912 - INFO - 
--- Carregando dados base ---
2025-12-03 21:29:10,001 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:29:10,012 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:29:10,216 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:29:10,228 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:29:10,367 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:29:10,371 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:29:10,372 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:29:10,380 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:29:10,380 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:29:13,422 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:29:13,423 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:29:13,975 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:29:13,975 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:29:13,975 - INFO - 
============================================================
2025-12-03 21:29:13,975 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:29:13,975 - INFO - ============================================================
2025-12-03 21:29:13,975 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:29:13,976 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:29:13,976 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:29:13,976 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:29:14,487 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:29:14,487 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:29:14,487 - INFO -   Shape: (67065, 20)
2025-12-03 21:29:14,495 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:29:14,499 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:29:14,527 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:29:14,527 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:29:14,527 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:29:14,558 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:29:14,558 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:29:14,601 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:29:14,601 - INFO - Calculando BMI...
2025-12-03 21:29:14,886 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:29:14,887 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:29:14,887 - INFO -   Shape: (64668, 28)
2025-12-03 21:29:15,005 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:29:15,033 - INFO -   Valores nulos:
2025-12-03 21:29:15,034 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:29:15,034 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:29:15,034 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:29:15,034 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:29:15,034 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:29:15,035 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:29:15,035 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:29:15,035 - INFO -     slug: 42 (0.1%)
2025-12-03 21:29:15,035 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:29:15,035 - INFO -     weight: 41 (0.1%)
2025-12-03 21:29:15,035 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:29:15,035 - INFO -     height: 41 (0.1%)
2025-12-03 21:29:15,035 - INFO -     age: 41 (0.1%)
2025-12-03 21:29:15,035 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:29:15,035 - INFO -     gender: 146 (0.2%)
2025-12-03 21:29:15,036 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:29:15,036 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:29:15,036 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:29:15,036 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:29:15,036 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:29:15,036 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:29:15,036 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:29:15,036 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:29:15,036 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:29:15,037 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:29:15,037 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:29:15,037 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:29:15,118 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:29:15,118 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:29:15,119 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:29:15,120 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:29:15,120 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:29:15,120 - INFO -   Shape: (6069, 24)
2025-12-03 21:29:15,123 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:29:15,124 - INFO -   Valores nulos:
2025-12-03 21:29:15,124 - INFO -     gf: 34 (0.6%)
2025-12-03 21:29:15,124 - INFO -     ga: 34 (0.6%)
2025-12-03 21:29:15,124 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:29:15,124 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:29:15,124 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:29:15,125 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:29:15,125 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:29:15,125 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:29:15,128 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:29:15,128 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:29:15,130 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:29:15,131 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:29:15,132 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:29:15,132 - INFO -   Shape: (101978, 35)
2025-12-03 21:29:15,143 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:29:15,151 - INFO -   Valores nulos:
2025-12-03 21:29:15,151 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:29:15,151 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:29:15,151 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:29:15,151 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:29:15,151 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:29:15,152 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:29:15,153 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:29:15,154 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:29:15,154 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:29:15,207 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:29:15,208 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:29:15,222 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:29:15,222 - INFO -   (11,227 partidas removidas)
2025-12-03 21:29:15,222 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:29:15,222 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:29:15,273 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:29:15,273 - INFO - √¢≈ì‚Äú Dados carregados: 55,838 partidas
2025-12-03 21:29:15,273 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 2: Criando features...
2025-12-03 21:29:15,304 - INFO - 
============================================================
2025-12-03 21:29:15,304 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:29:15,304 - INFO - ============================================================
2025-12-03 21:29:15,304 - INFO - 
--- 1. Inicializando Master DataFrame ---
2025-12-03 21:29:15,366 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:29:15,366 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 21:29:15,366 - INFO -   Distribui√ß√£o do target:
2025-12-03 21:29:15,367 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 21:29:15,368 - INFO -     Empate (0): 84,261
2025-12-03 21:29:15,368 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 21:29:15,368 - INFO - 
--- 2. Adicionando features de forma recente ---
2025-12-03 21:29:16,435 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 21:29:16,435 - INFO - 
--- 3. Adicionando features de performance ---
2025-12-03 21:29:45,832 - INFO - ‚úì Features de performance adicionadas
2025-12-03 21:29:45,848 - INFO - 
--- 4. Adicionando features de estat√≠sticas de jogo ---
2025-12-03 21:30:32,591 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 21:30:32,596 - INFO - 
--- 5. Adicionando features de escala√ß√£o ---
2025-12-03 21:31:33,549 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 21:31:33,759 - INFO - 
--- 6. Adicionando features derivadas ---
2025-12-03 21:31:34,503 - ERROR - Erro na cria√ß√£o do master DataFrame: Cannot set a DataFrame with multiple columns to the single column form_difference
2025-12-03 21:31:34,570 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 66, in create_master_dataframe
    self._add_derived_features()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 361, in _add_derived_features
    self.master_df['form_difference'] = self.master_df['home_form_points'] - self.master_df['away_form_points']
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4312, in __setitem__
    self._set_item_frame_value(key, value)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4470, in _set_item_frame_value
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot set a DataFrame with multiple columns to the single column form_difference

2025-12-03 21:31:34,572 - ERROR - 
√¢¬ù≈í Erro no pipeline de treinamento: Cannot set a DataFrame with multiple columns to the single column form_difference
2025-12-03 21:31:34,577 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 433, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 66, in create_master_dataframe
    self._add_derived_features()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 361, in _add_derived_features
    self.master_df['form_difference'] = self.master_df['home_form_points'] - self.master_df['away_form_points']
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4312, in __setitem__
    self._set_item_frame_value(key, value)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4470, in _set_item_frame_value
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot set a DataFrame with multiple columns to the single column form_difference

2025-12-03 21:32:39,735 - INFO - 
================================================================================
2025-12-03 21:32:39,735 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:32:39,735 - INFO - ================================================================================
2025-12-03 21:32:39,735 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 1: Carregando e processando dados...
2025-12-03 21:32:39,736 - INFO - ============================================================
2025-12-03 21:32:39,736 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:32:39,736 - INFO - ============================================================
2025-12-03 21:32:39,736 - INFO - 
--- Carregando dados base ---
2025-12-03 21:32:39,831 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:32:39,842 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:32:40,070 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:32:40,082 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:32:40,206 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:32:40,210 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:32:40,211 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:32:40,218 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:32:40,218 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:32:43,180 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:32:43,180 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:32:43,674 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:32:43,674 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:32:43,674 - INFO - 
============================================================
2025-12-03 21:32:43,674 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:32:43,675 - INFO - ============================================================
2025-12-03 21:32:43,675 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:32:43,675 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:32:43,675 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:32:43,675 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:32:44,202 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:32:44,202 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:32:44,202 - INFO -   Shape: (67065, 20)
2025-12-03 21:32:44,210 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:32:44,214 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:32:44,242 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:32:44,242 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:32:44,242 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:32:44,274 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:32:44,274 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:32:44,317 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:32:44,317 - INFO - Calculando BMI...
2025-12-03 21:32:44,605 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:32:44,606 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:32:44,606 - INFO -   Shape: (64668, 28)
2025-12-03 21:32:44,718 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:32:44,746 - INFO -   Valores nulos:
2025-12-03 21:32:44,746 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:32:44,746 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:32:44,747 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:32:44,747 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:32:44,747 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:32:44,747 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:32:44,747 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:32:44,747 - INFO -     slug: 42 (0.1%)
2025-12-03 21:32:44,747 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:32:44,747 - INFO -     weight: 41 (0.1%)
2025-12-03 21:32:44,747 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:32:44,747 - INFO -     height: 41 (0.1%)
2025-12-03 21:32:44,747 - INFO -     age: 41 (0.1%)
2025-12-03 21:32:44,747 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:32:44,748 - INFO -     gender: 146 (0.2%)
2025-12-03 21:32:44,748 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:32:44,748 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:32:44,748 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:32:44,748 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:32:44,748 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:32:44,748 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:32:44,748 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:32:44,748 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:32:44,748 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:32:44,748 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:32:44,748 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:32:44,748 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:32:44,827 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:32:44,827 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:32:44,828 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:32:44,829 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:32:44,829 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:32:44,829 - INFO -   Shape: (6069, 24)
2025-12-03 21:32:44,832 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:32:44,833 - INFO -   Valores nulos:
2025-12-03 21:32:44,833 - INFO -     gf: 34 (0.6%)
2025-12-03 21:32:44,833 - INFO -     ga: 34 (0.6%)
2025-12-03 21:32:44,833 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:32:44,833 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:32:44,834 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:32:44,834 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:32:44,834 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:32:44,834 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:32:44,838 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:32:44,838 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:32:44,839 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:32:44,840 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:32:44,841 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:32:44,841 - INFO -   Shape: (101978, 35)
2025-12-03 21:32:44,852 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:32:44,860 - INFO -   Valores nulos:
2025-12-03 21:32:44,860 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:32:44,860 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:32:44,860 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:32:44,860 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:32:44,860 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:32:44,861 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:32:44,862 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:32:44,862 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:32:44,862 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:32:44,862 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:32:44,862 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:32:44,863 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:32:44,863 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:32:44,863 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:32:44,863 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:32:44,864 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:32:44,864 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:32:44,864 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:32:44,864 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:32:44,864 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:32:44,864 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:32:44,864 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:32:44,922 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:32:44,922 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:32:44,936 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:32:44,937 - INFO -   (11,227 partidas removidas)
2025-12-03 21:32:44,937 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:32:44,937 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:32:44,986 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:32:44,987 - INFO - √¢≈ì‚Äú Dados carregados: 55,838 partidas
2025-12-03 21:32:44,987 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 2: Criando features...
2025-12-03 21:32:45,017 - INFO - 
============================================================
2025-12-03 21:32:45,018 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:32:45,018 - INFO - ============================================================
2025-12-03 21:32:45,018 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 21:32:45,025 - ERROR - Erro na cria√ß√£o do master DataFrame: "['name'] not in index"
2025-12-03 21:32:45,025 - ERROR - 
√¢¬ù≈í Erro no pipeline de treinamento: "['name'] not in index"
2025-12-03 21:32:45,090 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 403, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 38, in create_master_dataframe
    self._initialize_master_df()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 81, in _initialize_master_df
    self.leagues[['leagueId', 'name']].rename(columns={'name': 'league_name'}),
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4119, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['name'] not in index"

2025-12-03 21:33:05,468 - INFO - 
================================================================================
2025-12-03 21:33:05,468 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:33:05,468 - INFO - ================================================================================
2025-12-03 21:33:05,469 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 1: Carregando e processando dados...
2025-12-03 21:33:05,469 - INFO - ============================================================
2025-12-03 21:33:05,469 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:33:05,469 - INFO - ============================================================
2025-12-03 21:33:05,469 - INFO - 
--- Carregando dados base ---
2025-12-03 21:33:05,558 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:33:05,569 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:33:05,781 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:33:05,794 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:33:05,915 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:33:05,919 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:33:05,920 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:33:05,926 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:33:05,926 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:33:08,688 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:33:08,688 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:33:09,116 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:33:09,116 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:33:09,116 - INFO - 
============================================================
2025-12-03 21:33:09,116 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:33:09,116 - INFO - ============================================================
2025-12-03 21:33:09,117 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:33:09,117 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:33:09,117 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:33:09,117 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:33:09,615 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:33:09,615 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:33:09,615 - INFO -   Shape: (67065, 20)
2025-12-03 21:33:09,623 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:33:09,626 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:33:09,652 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:33:09,652 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:33:09,652 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:33:09,685 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:33:09,686 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:33:09,731 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:33:09,731 - INFO - Calculando BMI...
2025-12-03 21:33:10,014 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:33:10,015 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:33:10,015 - INFO -   Shape: (64668, 28)
2025-12-03 21:33:10,127 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:33:10,154 - INFO -   Valores nulos:
2025-12-03 21:33:10,154 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:33:10,155 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:33:10,155 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:33:10,155 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:33:10,155 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:33:10,155 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:33:10,155 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:33:10,155 - INFO -     slug: 42 (0.1%)
2025-12-03 21:33:10,155 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:33:10,155 - INFO -     weight: 41 (0.1%)
2025-12-03 21:33:10,156 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:33:10,156 - INFO -     height: 41 (0.1%)
2025-12-03 21:33:10,156 - INFO -     age: 41 (0.1%)
2025-12-03 21:33:10,156 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:33:10,156 - INFO -     gender: 146 (0.2%)
2025-12-03 21:33:10,156 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:33:10,156 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:33:10,156 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:33:10,156 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:33:10,156 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:33:10,157 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:33:10,157 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:33:10,157 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:33:10,157 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:33:10,157 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:33:10,157 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:33:10,157 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:33:10,235 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:33:10,235 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:33:10,237 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:33:10,237 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:33:10,237 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:33:10,237 - INFO -   Shape: (6069, 24)
2025-12-03 21:33:10,241 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:33:10,242 - INFO -   Valores nulos:
2025-12-03 21:33:10,242 - INFO -     gf: 34 (0.6%)
2025-12-03 21:33:10,242 - INFO -     ga: 34 (0.6%)
2025-12-03 21:33:10,242 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:33:10,243 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:33:10,243 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:33:10,243 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:33:10,243 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:33:10,243 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:33:10,246 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:33:10,246 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:33:10,248 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:33:10,249 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:33:10,249 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:33:10,249 - INFO -   Shape: (101978, 35)
2025-12-03 21:33:10,260 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:33:10,268 - INFO -   Valores nulos:
2025-12-03 21:33:10,268 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:33:10,268 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:33:10,269 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:33:10,270 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:33:10,270 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:33:10,270 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:33:10,270 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:33:10,270 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:33:10,271 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:33:10,272 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:33:10,272 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:33:10,272 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:33:10,272 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:33:10,272 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:33:10,272 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:33:10,272 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:33:10,326 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:33:10,326 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:33:10,339 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:33:10,340 - INFO -   (11,227 partidas removidas)
2025-12-03 21:33:10,340 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:33:10,340 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:33:10,388 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:33:10,388 - INFO - √¢≈ì‚Äú Dados carregados: 55,838 partidas
2025-12-03 21:33:10,388 - INFO - 
√∞≈∏‚Äù‚Äû ETAPA 2: Criando features...
2025-12-03 21:33:10,418 - INFO - 
============================================================
2025-12-03 21:33:10,418 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:33:10,418 - INFO - ============================================================
2025-12-03 21:33:10,418 - INFO - 
--- 1. Inicializando Master DataFrame ---
2025-12-03 21:33:10,480 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:33:10,480 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 21:33:10,480 - INFO -   Distribui√ß√£o do target:
2025-12-03 21:33:10,481 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 21:33:10,482 - INFO -     Empate (0): 84,261
2025-12-03 21:33:10,482 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 21:33:10,482 - INFO - 
--- 2. Adicionando features de forma recente ---
2025-12-03 21:33:11,489 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 21:33:11,489 - INFO - 
--- 3. Adicionando features de performance ---
2025-12-03 21:33:48,015 - INFO - ‚úì Features de performance adicionadas
2025-12-03 21:33:48,024 - INFO - 
--- 4. Adicionando features de estat√≠sticas de jogo ---
2025-12-03 21:34:34,980 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 21:34:34,986 - INFO - 
--- 5. Adicionando features de escala√ß√£o ---
2025-12-03 21:35:43,123 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 21:35:43,389 - INFO - 
--- 6. Adicionando features derivadas ---
2025-12-03 21:35:44,150 - ERROR - Erro na cria√ß√£o do master DataFrame: Cannot set a DataFrame with multiple columns to the single column form_difference
2025-12-03 21:35:44,201 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 66, in create_master_dataframe
    self._add_derived_features()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 361, in _add_derived_features
    self.master_df['form_difference'] = self.master_df['home_form_points'] - self.master_df['away_form_points']
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4312, in __setitem__
    self._set_item_frame_value(key, value)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4470, in _set_item_frame_value
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot set a DataFrame with multiple columns to the single column form_difference

2025-12-03 21:35:44,203 - ERROR - 
√¢¬ù≈í Erro no pipeline de treinamento: Cannot set a DataFrame with multiple columns to the single column form_difference
2025-12-03 21:35:44,211 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 433, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 66, in create_master_dataframe
    self._add_derived_features()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 361, in _add_derived_features
    self.master_df['form_difference'] = self.master_df['home_form_points'] - self.master_df['away_form_points']
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4312, in __setitem__
    self._set_item_frame_value(key, value)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4470, in _set_item_frame_value
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot set a DataFrame with multiple columns to the single column form_difference

2025-12-03 21:45:42,878 - INFO - 
================================================================================
2025-12-03 21:45:42,878 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:45:42,878 - INFO - ================================================================================
2025-12-03 21:45:42,878 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 21:45:42,879 - INFO - ============================================================
2025-12-03 21:45:42,879 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:45:42,879 - INFO - ============================================================
2025-12-03 21:45:42,879 - INFO - 
--- Carregando dados base ---
2025-12-03 21:45:42,975 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:45:42,989 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:45:43,228 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:45:43,243 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:45:43,366 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:45:43,370 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:45:43,372 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:45:43,379 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:45:43,379 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:45:46,631 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:45:46,631 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:45:47,133 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:45:47,133 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:45:47,134 - INFO - 
============================================================
2025-12-03 21:45:47,134 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:45:47,134 - INFO - ============================================================
2025-12-03 21:45:47,134 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:45:47,135 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:45:47,135 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:45:47,135 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:45:47,690 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:45:47,690 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:45:47,690 - INFO -   Shape: (67065, 20)
2025-12-03 21:45:47,699 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:45:47,703 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:45:47,735 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:45:47,735 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:45:47,735 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:45:47,767 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:45:47,768 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:45:47,813 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:45:47,813 - INFO - Calculando BMI...
2025-12-03 21:45:48,094 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:45:48,095 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:45:48,095 - INFO -   Shape: (64668, 28)
2025-12-03 21:45:48,208 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:45:48,235 - INFO -   Valores nulos:
2025-12-03 21:45:48,236 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:45:48,236 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:45:48,236 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:45:48,236 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:45:48,237 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:45:48,237 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:45:48,237 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:45:48,237 - INFO -     slug: 42 (0.1%)
2025-12-03 21:45:48,237 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:45:48,237 - INFO -     weight: 41 (0.1%)
2025-12-03 21:45:48,237 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:45:48,237 - INFO -     height: 41 (0.1%)
2025-12-03 21:45:48,237 - INFO -     age: 41 (0.1%)
2025-12-03 21:45:48,237 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:45:48,238 - INFO -     gender: 146 (0.2%)
2025-12-03 21:45:48,238 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:45:48,238 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:45:48,238 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:45:48,238 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:45:48,238 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:45:48,238 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:45:48,238 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:45:48,239 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:45:48,239 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:45:48,239 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:45:48,239 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:45:48,239 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:45:48,320 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:45:48,320 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:45:48,321 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:45:48,322 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:45:48,322 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:45:48,322 - INFO -   Shape: (6069, 24)
2025-12-03 21:45:48,325 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:45:48,326 - INFO -   Valores nulos:
2025-12-03 21:45:48,327 - INFO -     gf: 34 (0.6%)
2025-12-03 21:45:48,327 - INFO -     ga: 34 (0.6%)
2025-12-03 21:45:48,327 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:45:48,327 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:45:48,327 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:45:48,327 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:45:48,327 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:45:48,327 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:45:48,330 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:45:48,331 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:45:48,332 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:45:48,334 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:45:48,334 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:45:48,334 - INFO -   Shape: (101978, 35)
2025-12-03 21:45:48,345 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:45:48,353 - INFO -   Valores nulos:
2025-12-03 21:45:48,354 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:45:48,354 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:45:48,355 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:45:48,356 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:45:48,356 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:45:48,412 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:45:48,412 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:45:48,426 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:45:48,426 - INFO -   (11,227 partidas removidas)
2025-12-03 21:45:48,426 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:45:48,427 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:45:48,482 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:45:48,482 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 21:45:48,482 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 21:45:48,516 - INFO - 
============================================================
2025-12-03 21:45:48,516 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:45:48,517 - INFO - ============================================================
2025-12-03 21:45:48,517 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 21:45:48,522 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 21:45:48,619 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:45:48,619 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 21:45:48,620 - INFO -   Distribui√ß√£o do target:
2025-12-03 21:45:48,621 - INFO -     Empate (0): 84,261
2025-12-03 21:45:48,621 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 21:45:48,622 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 21:45:48,622 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 21:45:49,218 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 21:45:49,219 - INFO - 
--- Adicionando features de performance ---
2025-12-03 21:46:16,037 - INFO - ‚úì Features de performance adicionadas
2025-12-03 21:46:16,054 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 21:46:57,739 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 21:46:57,783 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 21:48:17,036 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 21:48:17,352 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 21:48:17,839 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 21:48:17,844 - INFO - 
--- Limpando e validando ---
2025-12-03 21:48:42,486 - ERROR - Erro na cria√ß√£o do master DataFrame: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 21:48:43,076 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 21:48:43,097 - ERROR - 
‚ùå Erro no pipeline de treinamento: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64
2025-12-03 21:48:43,215 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 419, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 56, in create_master_dataframe
    self._clean_and_validate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 385, in _clean_and_validate
    self.master_df = self.master_df[final_cols].copy()
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\generic.py", line 6833, in copy
    data = self._mgr.copy(deep=deep)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 623, in copy
    res._consolidate_inplace()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 1807, in _consolidate_inplace
    self.blocks = _consolidate(self.blocks)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2288, in _consolidate
    merged_blocks, _ = _merge_blocks(
                       ~~~~~~~~~~~~~^
        list(group_blocks), dtype=dtype, can_consolidate=_can_consolidate
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 2320, in _merge_blocks
    new_values = new_values[argsort]
                 ~~~~~~~~~~^^^^^^^^^
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 3.72 GiB for an array with shape (36, 13885682) and data type float64

2025-12-03 21:56:20,758 - INFO - 
================================================================================
2025-12-03 21:56:20,758 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 21:56:20,758 - INFO - ================================================================================
2025-12-03 21:56:20,758 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 21:56:20,758 - INFO - ============================================================
2025-12-03 21:56:20,758 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 21:56:20,759 - INFO - ============================================================
2025-12-03 21:56:20,759 - INFO - 
--- Carregando dados base ---
2025-12-03 21:56:20,853 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 21:56:20,863 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 21:56:21,080 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 21:56:21,098 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 21:56:21,218 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 21:56:21,223 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 21:56:21,224 - INFO - ‚úì Status carregado: 19 status
2025-12-03 21:56:21,231 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 21:56:21,231 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 21:56:24,454 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 21:56:24,455 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 21:56:24,984 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 21:56:24,984 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 21:56:24,985 - INFO - 
============================================================
2025-12-03 21:56:24,985 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 21:56:24,985 - INFO - ============================================================
2025-12-03 21:56:24,985 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 21:56:24,986 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 21:56:24,986 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 21:56:24,987 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 21:56:25,491 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 21:56:25,491 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 21:56:25,491 - INFO -   Shape: (67065, 20)
2025-12-03 21:56:25,501 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 21:56:25,505 - INFO -   ‚úì Sem valores nulos
2025-12-03 21:56:25,533 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:56:25,533 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 21:56:25,533 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 21:56:25,564 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 21:56:25,565 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 21:56:25,608 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 21:56:25,608 - INFO - Calculando BMI...
2025-12-03 21:56:25,917 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 21:56:25,918 - INFO - 
Qualidade de dados - Players:
2025-12-03 21:56:25,918 - INFO -   Shape: (64668, 28)
2025-12-03 21:56:26,047 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 21:56:26,076 - INFO -   Valores nulos:
2025-12-03 21:56:26,076 - INFO -     firstName: 49 (0.1%)
2025-12-03 21:56:26,076 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 21:56:26,076 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 21:56:26,076 - INFO -     fullName: 1 (0.0%)
2025-12-03 21:56:26,077 - INFO -     displayName: 1 (0.0%)
2025-12-03 21:56:26,077 - INFO -     shortName: 42 (0.1%)
2025-12-03 21:56:26,077 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 21:56:26,077 - INFO -     slug: 42 (0.1%)
2025-12-03 21:56:26,077 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 21:56:26,077 - INFO -     weight: 41 (0.1%)
2025-12-03 21:56:26,077 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 21:56:26,078 - INFO -     height: 41 (0.1%)
2025-12-03 21:56:26,078 - INFO -     age: 41 (0.1%)
2025-12-03 21:56:26,078 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 21:56:26,078 - INFO -     gender: 146 (0.2%)
2025-12-03 21:56:26,078 - INFO -     jersey: 41 (0.1%)
2025-12-03 21:56:26,078 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 21:56:26,078 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 21:56:26,078 - INFO -     positionName: 71 (0.1%)
2025-12-03 21:56:26,078 - INFO -     positionId: 41 (0.1%)
2025-12-03 21:56:26,078 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 21:56:26,078 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 21:56:26,078 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 21:56:26,078 - INFO -     timestamp: 41 (0.1%)
2025-12-03 21:56:26,078 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 21:56:26,079 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 21:56:26,079 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 21:56:26,161 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:56:26,161 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 21:56:26,162 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 21:56:26,163 - INFO - ‚úì Saldo de gols calculado
2025-12-03 21:56:26,163 - INFO - 
Qualidade de dados - Standings:
2025-12-03 21:56:26,163 - INFO -   Shape: (6069, 24)
2025-12-03 21:56:26,166 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 21:56:26,167 - INFO -   Valores nulos:
2025-12-03 21:56:26,168 - INFO -     gf: 34 (0.6%)
2025-12-03 21:56:26,168 - INFO -     ga: 34 (0.6%)
2025-12-03 21:56:26,168 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 21:56:26,168 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 21:56:26,168 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 21:56:26,168 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 21:56:26,169 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 21:56:26,169 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 21:56:26,172 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:56:26,173 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 21:56:26,175 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 21:56:26,176 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 21:56:26,177 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 21:56:26,177 - INFO -   Shape: (101978, 35)
2025-12-03 21:56:26,188 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 21:56:26,197 - INFO -   Valores nulos:
2025-12-03 21:56:26,197 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 21:56:26,197 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 21:56:26,197 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 21:56:26,197 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     saves: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 21:56:26,198 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 21:56:26,199 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 21:56:26,200 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 21:56:26,200 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 21:56:26,200 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 21:56:26,255 - INFO -   ‚úì Sem duplicatas
2025-12-03 21:56:26,255 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 21:56:26,269 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 21:56:26,270 - INFO -   (11,227 partidas removidas)
2025-12-03 21:56:26,270 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 21:56:26,270 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 21:56:26,323 - INFO - ‚úì Valores faltantes tratados
2025-12-03 21:56:26,323 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 21:56:26,323 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 21:56:26,354 - INFO - 
============================================================
2025-12-03 21:56:26,354 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 21:56:26,355 - INFO - ============================================================
2025-12-03 21:56:26,355 - INFO - 
--- 1. Inicializando Master DataFrame ---
2025-12-03 21:56:26,430 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 21:56:26,430 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 21:56:26,430 - INFO -   Distribui√ß√£o do target:
2025-12-03 21:56:26,431 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 21:56:26,432 - INFO -     Empate (0): 84,261
2025-12-03 21:56:26,432 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 21:56:26,433 - INFO - 
--- 2. Adicionando features de forma recente ---
2025-12-03 21:56:27,577 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 21:56:27,577 - INFO - 
--- 3. Adicionando features de performance ---
2025-12-03 21:57:07,811 - INFO - ‚úì Features de performance adicionadas
2025-12-03 21:57:07,827 - INFO - 
--- 4. Adicionando features de estat√≠sticas de jogo ---
2025-12-03 21:58:14,848 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 21:58:14,870 - INFO - 
--- 5. Adicionando features de escala√ß√£o ---
2025-12-03 21:59:42,801 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 21:59:43,199 - INFO - 
--- 6. Adicionando features derivadas ---
2025-12-03 21:59:43,993 - ERROR - Erro na cria√ß√£o do master DataFrame: Cannot set a DataFrame with multiple columns to the single column form_difference
2025-12-03 21:59:44,152 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 66, in create_master_dataframe
    self._add_derived_features()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 361, in _add_derived_features
    self.master_df['form_difference'] = self.master_df['home_form_points'] - self.master_df['away_form_points']
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4312, in __setitem__
    self._set_item_frame_value(key, value)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4470, in _set_item_frame_value
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot set a DataFrame with multiple columns to the single column form_difference

2025-12-03 21:59:44,152 - ERROR - 
‚ùå Erro no pipeline de treinamento: Cannot set a DataFrame with multiple columns to the single column form_difference
2025-12-03 21:59:44,171 - ERROR - Traceback (most recent call last):
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\main.py", line 31, in train_pipeline
    master_df = create_features(data)
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 433, in create_features
    master_df = engineer.create_master_dataframe()
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 66, in create_master_dataframe
    self._add_derived_features()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\src\feature_engineering.py", line 361, in _add_derived_features
    self.master_df['form_difference'] = self.master_df['home_form_points'] - self.master_df['away_form_points']
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4312, in __setitem__
    self._set_item_frame_value(key, value)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\.venv\Lib\site-packages\pandas\core\frame.py", line 4470, in _set_item_frame_value
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Cannot set a DataFrame with multiple columns to the single column form_difference

2025-12-03 22:04:48,089 - INFO - 
================================================================================
2025-12-03 22:04:48,089 - INFO -                             PIPELINE DE TREINAMENTO                             
2025-12-03 22:04:48,089 - INFO - ================================================================================
2025-12-03 22:04:48,089 - INFO - 
üîÑ ETAPA 1: Carregando e processando dados...
2025-12-03 22:04:48,089 - INFO - ============================================================
2025-12-03 22:04:48,090 - INFO - INICIANDO CARREGAMENTO DE DADOS
2025-12-03 22:04:48,090 - INFO - ============================================================
2025-12-03 22:04:48,090 - INFO - 
--- Carregando dados base ---
2025-12-03 22:04:48,186 - INFO - ‚úì Fixtures carregado: 67,065 partidas
2025-12-03 22:04:48,197 - INFO - ‚úì Teams carregado: 4,138 times
2025-12-03 22:04:48,442 - INFO - ‚úì Players carregado: 64,668 jogadores
2025-12-03 22:04:48,459 - INFO - ‚úì Standings carregado: 6,069 registros
2025-12-03 22:04:48,596 - INFO - ‚úì Team Stats carregado: 101,978 registros
2025-12-03 22:04:48,600 - INFO - ‚úì Leagues carregado: 1,084 ligas
2025-12-03 22:04:48,601 - INFO - ‚úì Status carregado: 19 status
2025-12-03 22:04:48,608 - INFO - ‚úì Venues carregado: 3,232 est√°dios
2025-12-03 22:04:48,608 - INFO - 
--- Carregando dados de lineup ---
2025-12-03 22:04:52,049 - INFO - ‚úì 309 arquivos de lineup carregados (1,585,983 registros)
2025-12-03 22:04:52,049 - INFO - 
--- Carregando dados de player stats ---
2025-12-03 22:04:52,758 - INFO - ‚úì 224 arquivos de player stats carregados (250,669 registros)
2025-12-03 22:04:52,759 - INFO - 
‚úì Todos os dados carregados com sucesso!
2025-12-03 22:04:52,759 - INFO - 
============================================================
2025-12-03 22:04:52,759 - INFO - INICIANDO PR√â-PROCESSAMENTO
2025-12-03 22:04:52,759 - INFO - ============================================================
2025-12-03 22:04:52,759 - INFO - 
--- Pr√©-processando Fixtures ---
2025-12-03 22:04:52,760 - INFO - Colunas em fixtures: ['Rn', 'seasonType', 'leagueId', 'eventId', 'date', 'venueId', 'attendance', 'homeTeamId', 'awayTeamId', 'homeTeamWinner', 'awayTeamWinner', 'homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore', 'statusId', 'updateTime']
2025-12-03 22:04:52,760 - INFO - Colunas de placar encontradas: ['homeTeamScore', 'awayTeamScore', 'homeTeamShootoutScore', 'awayTeamShootoutScore']
2025-12-03 22:04:52,761 - INFO - Tentando usar colunas: homeTeamScore e awayTeamScore
2025-12-03 22:04:53,474 - INFO - ‚úì Coluna 'result' criada (67,065 resultados)
2025-12-03 22:04:53,474 - INFO - 
Qualidade de dados - Fixtures:
2025-12-03 22:04:53,474 - INFO -   Shape: (67065, 20)
2025-12-03 22:04:53,484 - INFO -   Mem√≥ria: 13.18 MB
2025-12-03 22:04:53,488 - INFO -   ‚úì Sem valores nulos
2025-12-03 22:04:53,524 - INFO -   ‚úì Sem duplicatas
2025-12-03 22:04:53,525 - INFO - 
--- Pr√©-processando Players ---
2025-12-03 22:04:53,525 - INFO - Convertendo peso (lbs ‚Üí kg)...
2025-12-03 22:04:53,565 - INFO - ‚úì 35,085 pesos convertidos
2025-12-03 22:04:53,565 - INFO - Convertendo altura (ft'in" ‚Üí metros)...
2025-12-03 22:04:53,624 - INFO - ‚úì 41,240 alturas convertidas
2025-12-03 22:04:53,625 - INFO - Calculando BMI...
2025-12-03 22:04:54,053 - INFO - ‚úì 35,054 BMIs calculados
2025-12-03 22:04:54,054 - INFO - 
Qualidade de dados - Players:
2025-12-03 22:04:54,054 - INFO -   Shape: (64668, 28)
2025-12-03 22:04:54,209 - INFO -   Mem√≥ria: 64.28 MB
2025-12-03 22:04:54,238 - INFO -   Valores nulos:
2025-12-03 22:04:54,239 - INFO -     firstName: 49 (0.1%)
2025-12-03 22:04:54,239 - INFO -     middleName: 64,434 (99.6%)
2025-12-03 22:04:54,239 - INFO -     lastName: 2,063 (3.2%)
2025-12-03 22:04:54,239 - INFO -     fullName: 1 (0.0%)
2025-12-03 22:04:54,239 - INFO -     displayName: 1 (0.0%)
2025-12-03 22:04:54,239 - INFO -     shortName: 42 (0.1%)
2025-12-03 22:04:54,239 - INFO -     nickName: 64,666 (100.0%)
2025-12-03 22:04:54,240 - INFO -     slug: 42 (0.1%)
2025-12-03 22:04:54,240 - INFO -     displayWeight: 29,583 (45.7%)
2025-12-03 22:04:54,240 - INFO -     weight: 41 (0.1%)
2025-12-03 22:04:54,240 - INFO -     displayHeight: 23,428 (36.2%)
2025-12-03 22:04:54,240 - INFO -     height: 41 (0.1%)
2025-12-03 22:04:54,240 - INFO -     age: 41 (0.1%)
2025-12-03 22:04:54,240 - INFO -     dateOfBirth: 1,446 (2.2%)
2025-12-03 22:04:54,240 - INFO -     gender: 146 (0.2%)
2025-12-03 22:04:54,240 - INFO -     jersey: 41 (0.1%)
2025-12-03 22:04:54,241 - INFO -     citizenship: 2,218 (3.4%)
2025-12-03 22:04:54,241 - INFO -     birthPlaceCountry: 61,765 (95.5%)
2025-12-03 22:04:54,241 - INFO -     positionName: 71 (0.1%)
2025-12-03 22:04:54,241 - INFO -     positionId: 41 (0.1%)
2025-12-03 22:04:54,241 - INFO -     positionAbbreviation: 71 (0.1%)
2025-12-03 22:04:54,241 - INFO -     headshotUrl: 62,914 (97.3%)
2025-12-03 22:04:54,241 - INFO -     headshot_alt: 62,914 (97.3%)
2025-12-03 22:04:54,241 - INFO -     timestamp: 41 (0.1%)
2025-12-03 22:04:54,241 - INFO -     weight_kg: 29,583 (45.7%)
2025-12-03 22:04:54,241 - INFO -     height_m: 23,428 (36.2%)
2025-12-03 22:04:54,241 - INFO -     bmi: 29,614 (45.8%)
2025-12-03 22:04:54,351 - INFO -   ‚úì Sem duplicatas
2025-12-03 22:04:54,351 - INFO - 
--- Pr√©-processando Standings ---
2025-12-03 22:04:54,353 - INFO - ‚úì M√©tricas de gols por jogo calculadas
2025-12-03 22:04:54,353 - INFO - ‚úì Saldo de gols calculado
2025-12-03 22:04:54,353 - INFO - 
Qualidade de dados - Standings:
2025-12-03 22:04:54,354 - INFO -   Shape: (6069, 24)
2025-12-03 22:04:54,358 - INFO -   Mem√≥ria: 2.07 MB
2025-12-03 22:04:54,359 - INFO -   Valores nulos:
2025-12-03 22:04:54,359 - INFO -     gf: 34 (0.6%)
2025-12-03 22:04:54,360 - INFO -     ga: 34 (0.6%)
2025-12-03 22:04:54,360 - INFO -     next_opponent: 4,856 (80.0%)
2025-12-03 22:04:54,360 - INFO -     next_homeAway: 4,856 (80.0%)
2025-12-03 22:04:54,360 - INFO -     next_matchDateTime: 4,856 (80.0%)
2025-12-03 22:04:54,360 - INFO -     goals_per_game: 375 (6.2%)
2025-12-03 22:04:54,360 - INFO -     goals_against_per_game: 375 (6.2%)
2025-12-03 22:04:54,360 - INFO -     goal_difference: 34 (0.6%)
2025-12-03 22:04:54,364 - INFO -   ‚úì Sem duplicatas
2025-12-03 22:04:54,364 - INFO - 
--- Pr√©-processando Team Stats ---
2025-12-03 22:04:54,365 - INFO - ‚úì Precis√£o de passes calculada
2025-12-03 22:04:54,367 - INFO - ‚úì Precis√£o de chutes calculada
2025-12-03 22:04:54,367 - INFO - 
Qualidade de dados - Team Stats:
2025-12-03 22:04:54,367 - INFO -   Shape: (101978, 35)
2025-12-03 22:04:54,379 - INFO -   Mem√≥ria: 33.07 MB
2025-12-03 22:04:54,388 - INFO -   Valores nulos:
2025-12-03 22:04:54,389 - INFO -     possessionPct: 46,152 (45.3%)
2025-12-03 22:04:54,389 - INFO -     foulsCommitted: 46,152 (45.3%)
2025-12-03 22:04:54,389 - INFO -     yellowCards: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     redCards: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     offsides: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     wonCorners: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     saves: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     totalShots: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     shotsOnTarget: 46,152 (45.3%)
2025-12-03 22:04:54,390 - INFO -     shotPct: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     penaltyKickGoals: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     penaltyKickShots: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     accuratePasses: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     totalPasses: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     passPct: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     accurateCrosses: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     totalCrosses: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     crossPct: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     totalLongBalls: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     accurateLongBalls: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     longballPct: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     blockedShots: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     effectiveTackles: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     totalTackles: 46,152 (45.3%)
2025-12-03 22:04:54,391 - INFO -     tacklePct: 46,152 (45.3%)
2025-12-03 22:04:54,392 - INFO -     interceptions: 46,152 (45.3%)
2025-12-03 22:04:54,392 - INFO -     effectiveClearance: 46,152 (45.3%)
2025-12-03 22:04:54,392 - INFO -     totalClearance: 46,152 (45.3%)
2025-12-03 22:04:54,392 - INFO -     pass_accuracy: 73,709 (72.3%)
2025-12-03 22:04:54,392 - INFO -     shot_accuracy: 46,308 (45.4%)
2025-12-03 22:04:54,457 - INFO -   ‚úì Sem duplicatas
2025-12-03 22:04:54,457 - INFO - 
--- Filtrando partidas completas ---
2025-12-03 22:04:54,476 - INFO - ‚úì 55,838 partidas completas mantidas
2025-12-03 22:04:54,476 - INFO -   (11,227 partidas removidas)
2025-12-03 22:04:54,476 - INFO - 
‚úì Pr√©-processamento conclu√≠do com sucesso!
2025-12-03 22:04:54,477 - INFO - 
--- Tratando valores faltantes ---
2025-12-03 22:04:54,550 - INFO - ‚úì Valores faltantes tratados
2025-12-03 22:04:54,550 - INFO - ‚úì Dados carregados: 55,838 partidas
2025-12-03 22:04:54,551 - INFO - 
üîÑ ETAPA 2: Criando features...
2025-12-03 22:04:54,587 - INFO - 
============================================================
2025-12-03 22:04:54,587 - INFO - INICIANDO FEATURE ENGINEERING
2025-12-03 22:04:54,588 - INFO - ============================================================
2025-12-03 22:04:54,588 - INFO - 
--- Inicializando Master DataFrame ---
2025-12-03 22:04:54,594 - INFO - Colunas em leagues: ['seasonType', 'year', 'seasonName', 'seasonSlug', 'leagueId', 'midsizeName', 'leagueName', 'leagueShortName']
2025-12-03 22:04:54,698 - INFO - ‚úì Informa√ß√µes da liga adicionadas usando coluna 'leagueName'
2025-12-03 22:04:54,699 - INFO - ‚úì Master DF inicializado: 356,101 partidas
2025-12-03 22:04:54,699 - INFO -   Distribui√ß√£o do target:
2025-12-03 22:04:54,700 - INFO -     Empate (0): 84,261
2025-12-03 22:04:54,701 - INFO -     Vit√≥ria Casa (1): 164,704
2025-12-03 22:04:54,702 - INFO -     Vit√≥ria Visitante (2): 107,136
2025-12-03 22:04:54,702 - INFO - 
--- Adicionando features de forma recente ---
2025-12-03 22:04:55,573 - INFO - ‚úì Features de forma recente adicionadas
2025-12-03 22:04:55,574 - INFO - 
--- Adicionando features de performance ---
2025-12-03 22:05:25,667 - INFO - ‚úì Features de performance adicionadas
2025-12-03 22:05:25,673 - INFO - 
--- Adicionando features de estat√≠sticas de jogo ---
2025-12-03 22:06:07,976 - INFO - ‚úì Features de estat√≠sticas de jogo adicionadas
2025-12-03 22:06:07,988 - INFO - 
--- Adicionando features de escala√ß√£o ---
2025-12-03 22:07:29,956 - INFO - ‚úì Features de escala√ß√£o adicionadas
2025-12-03 22:07:30,249 - INFO - 
--- Adicionando features derivadas ---
2025-12-03 22:07:30,658 - INFO - ‚úì Features derivadas adicionadas
2025-12-03 22:07:30,659 - INFO - 
--- Limpando e validando ---
2025-12-03 22:08:13,825 - WARNING - Removidas 13829844 linhas duplicadas
2025-12-03 22:08:14,075 - INFO - 
Qualidade de dados - Master DataFrame:
2025-12-03 22:08:14,076 - INFO -   Shape: (55838, 41)
2025-12-03 22:08:14,091 - INFO -   Mem√≥ria: 17.89 MB
2025-12-03 22:08:14,103 - INFO -   ‚úì Sem valores nulos
2025-12-03 22:08:14,247 - INFO -   ‚úì Sem duplicatas
2025-12-03 22:08:14,247 - INFO - ‚úì Limpeza e valida√ß√£o conclu√≠das
2025-12-03 22:08:14,248 - INFO - 
‚úì Master DataFrame criado com sucesso!
2025-12-03 22:08:14,248 - INFO - Shape final: (55838, 41)
2025-12-03 22:08:14,248 - INFO - Features criadas: 32
2025-12-03 22:08:14,486 - INFO - ‚úì Features criadas: 41 colunas, 55,838 linhas
2025-12-03 22:08:14,486 - INFO - 
üîÑ ETAPA 3: Treinando modelo...
2025-12-03 22:08:14,495 - INFO - 
============================================================
2025-12-03 22:08:14,496 - INFO - PREPARANDO DADOS PARA TREINAMENTO
2025-12-03 22:08:14,496 - INFO - ============================================================
2025-12-03 22:08:14,515 - INFO - Features utilizadas: 36
2025-12-03 22:08:14,516 - INFO - Total de amostras: 55,838
2025-12-03 22:08:14,516 - INFO - 
Distribui√ß√£o ORIGINAL do target:
2025-12-03 22:08:14,518 - INFO -   Empate (0): 13,541 (24.3%)
2025-12-03 22:08:14,519 - INFO -   Vit√≥ria Casa (1): 25,497 (45.7%)
2025-12-03 22:08:14,520 - INFO -   Vit√≥ria Visitante (2): 16,800 (30.1%)
2025-12-03 22:08:14,641 - INFO - 
‚úì Dados divididos:
2025-12-03 22:08:14,642 - INFO -   Treino: 44,670 amostras
2025-12-03 22:08:14,642 - INFO -   Teste: 11,168 amostras
2025-12-03 22:08:14,642 - INFO - 
--- Aplicando Balanceamento de Classes ---
2025-12-03 22:08:14,643 - INFO - Aplicando SMOTE + RandomUnderSampler...
2025-12-03 22:08:20,026 - INFO - 
‚úì Balanceamento aplicado:
2025-12-03 22:08:20,027 - INFO -   Antes: 44,670 amostras
2025-12-03 22:08:20,027 - INFO -   Depois: 44,871 amostras
2025-12-03 22:08:20,027 - INFO - 
Distribui√ß√£o BALANCEADA do target:
2025-12-03 22:08:20,027 - INFO -   Empate (0): 14,277 (31.8%)
2025-12-03 22:08:20,028 - INFO -   Vit√≥ria Casa (1): 16,317 (36.4%)
2025-12-03 22:08:20,029 - INFO -   Vit√≥ria Visitante (2): 14,277 (31.8%)
2025-12-03 22:08:20,066 - INFO - ‚úì Features normalizadas
2025-12-03 22:08:20,071 - INFO - 
--- Realizando valida√ß√£o cruzada ---
2025-12-03 22:08:31,294 - INFO - ‚úì Valida√ß√£o cruzada conclu√≠da:
2025-12-03 22:08:31,294 - INFO -   Scores (F1-Macro): ['0.4596', '0.4615', '0.4587', '0.5217', '0.5717']
2025-12-03 22:08:31,294 - INFO -   M√©dia: 0.4946 (+/- 0.0454)
2025-12-03 22:08:31,295 - INFO - 
============================================================
2025-12-03 22:08:31,295 - INFO - TREINANDO MODELO XGBOOST
2025-12-03 22:08:31,295 - INFO - ============================================================
2025-12-03 22:08:31,295 - INFO - 
Par√¢metros OTIMIZADOS do modelo:
2025-12-03 22:08:31,295 - INFO -   objective: multi:softmax
2025-12-03 22:08:31,295 - INFO -   num_class: 3
2025-12-03 22:08:31,295 - INFO -   max_depth: 7
2025-12-03 22:08:31,295 - INFO -   learning_rate: 0.05
2025-12-03 22:08:31,296 - INFO -   n_estimators: 300
2025-12-03 22:08:31,296 - INFO -   subsample: 0.8
2025-12-03 22:08:31,296 - INFO -   colsample_bytree: 0.8
2025-12-03 22:08:31,296 - INFO -   gamma: 0.1
2025-12-03 22:08:31,296 - INFO -   min_child_weight: 3
2025-12-03 22:08:31,296 - INFO -   random_state: 42
2025-12-03 22:08:31,296 - INFO -   eval_metric: mlogloss
2025-12-03 22:08:31,296 - INFO -   reg_alpha: 0.1
2025-12-03 22:08:31,296 - INFO -   reg_lambda: 1.0
2025-12-03 22:08:31,296 - INFO -   scale_pos_weight: 1.0
2025-12-03 22:08:31,297 - INFO - 
Iniciando treinamento...
2025-12-03 22:08:36,159 - INFO - ‚úì Treinamento conclu√≠do!
2025-12-03 22:08:36,160 - INFO - 
============================================================
2025-12-03 22:08:36,160 - INFO - AVALIANDO MODELO
2025-12-03 22:08:36,160 - INFO - ============================================================
2025-12-03 22:08:36,278 - INFO - 
============================================================
2025-12-03 22:08:36,278 - INFO - M√âTRICAS - Teste
2025-12-03 22:08:36,279 - INFO - ============================================================
2025-12-03 22:08:36,279 - INFO - 
M√©tricas Gerais:
2025-12-03 22:08:36,279 - INFO -   accuracy: 0.5163
2025-12-03 22:08:36,279 - INFO -   precision_macro: 0.4779
2025-12-03 22:08:36,279 - INFO -   recall_macro: 0.4762
2025-12-03 22:08:36,279 - INFO -   f1_macro: 0.4741
2025-12-03 22:08:36,279 - INFO -   precision_weighted: 0.5030
2025-12-03 22:08:36,280 - INFO -   recall_weighted: 0.5163
2025-12-03 22:08:36,280 - INFO -   f1_weighted: 0.5072
2025-12-03 22:08:36,280 - INFO - 
M√©tricas por Classe:
2025-12-03 22:08:36,280 - INFO -   precision_Empate: 0.3544
2025-12-03 22:08:36,280 - INFO -   recall_Empate: 0.2626
2025-12-03 22:08:36,280 - INFO -   f1_Empate: 0.3017
2025-12-03 22:08:36,281 - INFO -   precision_Vit√≥ria Casa: 0.5930
2025-12-03 22:08:36,281 - INFO -   recall_Vit√≥ria Casa: 0.6537
2025-12-03 22:08:36,281 - INFO -   f1_Vit√≥ria Casa: 0.6219
2025-12-03 22:08:36,281 - INFO -   precision_Vit√≥ria Visitante: 0.4862
2025-12-03 22:08:36,281 - INFO -   recall_Vit√≥ria Visitante: 0.5122
2025-12-03 22:08:36,282 - INFO -   f1_Vit√≥ria Visitante: 0.4988
2025-12-03 22:08:36,285 - INFO - 
Matriz de Confus√£o:
2025-12-03 22:08:36,286 - INFO - 
[[ 711 1201  796]
 [ 743 3334 1023]
 [ 552 1087 1721]]
2025-12-03 22:08:36,287 - INFO - 
Linhas = Real, Colunas = Predito
2025-12-03 22:08:36,287 - INFO - Classes: ['Empate', 'Vit√≥ria Casa', 'Vit√≥ria Visitante']
2025-12-03 22:08:36,287 - INFO - 
Relat√≥rio de Classifica√ß√£o:
2025-12-03 22:08:36,299 - INFO - 
                   precision    recall  f1-score   support

           Empate       0.35      0.26      0.30      2708
     Vit√≥ria Casa       0.59      0.65      0.62      5100
Vit√≥ria Visitante       0.49      0.51      0.50      3360

         accuracy                           0.52     11168
        macro avg       0.48      0.48      0.47     11168
     weighted avg       0.50      0.52      0.51     11168

2025-12-03 22:08:36,307 - INFO - 
============================================================
2025-12-03 22:08:36,307 - INFO - TOP 20 FEATURES MAIS IMPORTANTES
2025-12-03 22:08:36,307 - INFO - ============================================================
2025-12-03 22:08:36,309 - INFO -   home_recent_draws: 0.0894
2025-12-03 22:08:36,309 - INFO -   points_difference: 0.0785
2025-12-03 22:08:36,309 - INFO -   away_recent_draws: 0.0750
2025-12-03 22:08:36,310 - INFO -   defense_difference: 0.0401
2025-12-03 22:08:36,310 - INFO -   away_recent_losses: 0.0365
2025-12-03 22:08:36,310 - INFO -   attack_difference: 0.0339
2025-12-03 22:08:36,310 - INFO -   away_losses: 0.0261
2025-12-03 22:08:36,310 - INFO -   form_difference: 0.0257
2025-12-03 22:08:36,311 - INFO -   home_recent_losses: 0.0255
2025-12-03 22:08:36,311 - INFO -   home_losses: 0.0248
2025-12-03 22:08:36,311 - INFO -   home_recent_wins: 0.0246
2025-12-03 22:08:36,311 - INFO -   home_goals_per_game: 0.0236
2025-12-03 22:08:36,312 - INFO -   away_goals_per_game: 0.0228
2025-12-03 22:08:36,312 - INFO -   home_goal_difference: 0.0227
2025-12-03 22:08:36,312 - INFO -   home_goals_against_per_game: 0.0226
2025-12-03 22:08:36,313 - INFO -   away_shot_accuracy: 0.0224
2025-12-03 22:08:36,313 - INFO -   home_wins: 0.0224
2025-12-03 22:08:36,314 - INFO -   home_pass_accuracy: 0.0223
2025-12-03 22:08:36,314 - INFO -   home_shot_accuracy: 0.0221
2025-12-03 22:08:36,314 - INFO -   away_points: 0.0220
2025-12-03 22:08:36,314 - INFO - 
============================================================
2025-12-03 22:08:36,315 - INFO - AN√ÅLISE DE ERROS - EMPATES
2025-12-03 22:08:36,315 - INFO - ============================================================
2025-12-03 22:08:36,316 - INFO - 
De 2708 empates reais:
2025-12-03 22:08:36,316 - INFO -   ‚úì Acertou: 711 (26.3%)
2025-12-03 22:08:36,316 - INFO -   ‚úó Previu V. Casa: 1201 (44.4%)
2025-12-03 22:08:36,316 - INFO -   ‚úó Previu V. Visitante: 796 (29.4%)
2025-12-03 22:08:36,316 - INFO - 
Confian√ßa m√©dia das probabilidades:
2025-12-03 22:08:36,317 - INFO -   P(Empate): 0.313
2025-12-03 22:08:36,317 - INFO -   P(V. Casa): 0.369
2025-12-03 22:08:36,317 - INFO -   P(V. Visitante): 0.319
2025-12-03 22:08:36,322 - INFO - 
--- Salvando modelo ---
2025-12-03 22:08:36,538 - INFO - ‚úì Modelo salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\best_model.json
2025-12-03 22:08:36,540 - INFO - ‚úì Scaler salvo em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\scaler.pkl
2025-12-03 22:08:36,545 - INFO - ‚úì Features salvas em: C:\Users\Rafaribas\Desktop\Faculdade\Curso\6¬∫ per√≠odo\SI\S.I-1-Projeto-Final\models\feature_columns.json
2025-12-03 22:08:36,545 - INFO - 
============================================================
2025-12-03 22:08:36,546 - INFO - TREINAMENTO CONCLU√çDO COM SUCESSO!
2025-12-03 22:08:36,546 - INFO - ============================================================
2025-12-03 22:08:36,546 - INFO - 
üìä M√©tricas Finais:
2025-12-03 22:08:36,546 - INFO -   Acur√°cia: 51.63%
2025-12-03 22:08:36,547 - INFO -   F1-Macro: 0.4741
2025-12-03 22:08:36,547 - INFO -   F1-Empate: 0.3017
2025-12-03 22:08:36,547 - INFO -   Recall-Empate: 26.26%
2025-12-03 22:08:36,547 - INFO - ‚úì Modelo treinado com acur√°cia: 0.5163
2025-12-03 22:08:36,547 - INFO - 
================================================================================
2025-12-03 22:08:36,548 - INFO -                              TREINAMENTO CONCLU√çDO                              
2025-12-03 22:08:36,548 - INFO - ================================================================================
2025-12-03 22:08:36,548 - INFO - 
‚úì Pipeline conclu√≠do com sucesso!
2025-12-03 22:08:36,548 - INFO - ‚è±Ô∏è  Tempo total: 3m 48s
2025-12-03 22:08:36,549 - INFO - üìä Acur√°cia final: 51.63%
2025-12-03 22:08:36,549 - INFO - üìÅ Modelo salvo em: models/
